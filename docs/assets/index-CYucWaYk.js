(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function hm(){function e(t){return new Promise(r=>{let n=new XMLHttpRequest;n.open(t.method,t.url,!0),Object.keys(t.headers).forEach(o=>n.setRequestHeader(o,t.headers[o]));let i=(o,u)=>setTimeout(()=>{n.abort(),r({status:0,content:u,isTimedOut:!0})},o),a=i(t.connectTimeout,"Connection timeout"),s;n.onreadystatechange=()=>{n.readyState>n.OPENED&&s===void 0&&(clearTimeout(a),s=i(t.responseTimeout,"Socket timeout"))},n.onerror=()=>{n.status===0&&(clearTimeout(a),clearTimeout(s),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(a),clearTimeout(s),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(t.data)})}return{send:e}}function gm(e){let t;const r=`algolia-client-js-${e.key}`;function n(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(n().getItem(r)||"{}")}function a(o){n().setItem(r,JSON.stringify(o))}function s(){const o=e.timeToLive?e.timeToLive*1e3:null,u=i(),f=Object.fromEntries(Object.entries(u).filter(([,d])=>d.timestamp!==void 0));if(a(f),!o)return;const m=Object.fromEntries(Object.entries(f).filter(([,d])=>{const h=new Date().getTime();return!(d.timestamp+o<h)}));a(m)}return{get(o,u,f={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(s(),i()[JSON.stringify(o)])).then(m=>Promise.all([m?m.value:u(),m!==void 0])).then(([m,d])=>Promise.all([m,d||f.miss(m)])).then(([m])=>m)},set(o,u){return Promise.resolve().then(()=>{const f=i();return f[JSON.stringify(o)]={timestamp:new Date().getTime(),value:u},n().setItem(r,JSON.stringify(f)),u})},delete(o){return Promise.resolve().then(()=>{const u=i();delete u[JSON.stringify(o)],n().setItem(r,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{n().removeItem(r)})}}}function vm(){return{get(e,t,r={miss:()=>Promise.resolve()}){return t().then(i=>Promise.all([i,r.miss(i)])).then(([i])=>i)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}function hr(e){const t=[...e.caches],r=t.shift();return r===void 0?vm():{get(n,i,a={miss:()=>Promise.resolve()}){return r.get(n,i,a).catch(()=>hr({caches:t}).get(n,i,a))},set(n,i){return r.set(n,i).catch(()=>hr({caches:t}).set(n,i))},delete(n){return r.delete(n).catch(()=>hr({caches:t}).delete(n))},clear(){return r.clear().catch(()=>hr({caches:t}).clear())}}}function ji(e={serializable:!0}){let t={};return{get(r,n,i={miss:()=>Promise.resolve()}){const a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);const s=n();return s.then(o=>i.miss(o)).then(()=>s)},set(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete(r){return delete t[JSON.stringify(r)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}function ym(e){const t={value:`Algolia for JavaScript (${e})`,add(r){const n=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return t.value.indexOf(n)===-1&&(t.value=`${t.value}${n}`),t}};return t}function bm(e,t,r="WithinHeaders"){const n={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers(){return r==="WithinHeaders"?n:{}},queryParameters(){return r==="WithinQueryParameters"?n:{}}}}function _m({algoliaAgents:e,client:t,version:r}){const n=ym(r).add({segment:t,version:r});return e.forEach(i=>n.add(i)),n}function Sm(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var gs=120*1e3;function vs(e,t="up"){const r=Date.now();function n(){return t==="up"||Date.now()-r>gs}function i(){return t==="timed out"&&Date.now()-r<=gs}return{...e,status:t,lastUpdate:r,isUp:n,isTimedOut:i}}var ql=class extends Error{name="AlgoliaError";constructor(e,t){super(e),t&&(this.name=t)}},Wl=class extends ql{stackTrace;constructor(e,t,r){super(e,r),this.stackTrace=t}},wm=class extends Wl{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please visit our help center https://alg.li/support-unreachable-hosts or reach out to the Algolia Support team: https://alg.li/support",e,"RetryError")}},Da=class extends Wl{status;constructor(e,t,r,n="ApiError"){super(e,r,n),this.status=t}},Om=class extends ql{response;constructor(e,t){super(e,"DeserializationError"),this.response=t}},Pm=class extends Da{error;constructor(e,t,r,n){super(e,t,n,"DetailedApiError"),this.error=r}};function jm(e){const t=e;for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1)),i=e[r];t[r]=e[n],t[n]=i}return t}function Rm(e,t,r){const n=Em(r);let i=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${t.charAt(0)==="/"?t.substring(1):t}`;return n.length&&(i+=`?${n}`),i}function Em(e){return Object.keys(e).filter(t=>e[t]!==void 0).sort().map(t=>`${t}=${encodeURIComponent(Object.prototype.toString.call(e[t])==="[object Array]"?e[t].join(","):e[t]).replace(/\+/g,"%20")}`).join("&")}function $m(e,t){if(e.method==="GET"||e.data===void 0&&t.data===void 0)return;const r=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(r)}function Cm(e,t,r){const n={Accept:"application/json",...e,...t,...r},i={};return Object.keys(n).forEach(a=>{const s=n[a];i[a.toLowerCase()]=s}),i}function Tm(e){try{return JSON.parse(e.content)}catch(t){throw new Om(t.message,e)}}function xm({content:e,status:t},r){try{const n=JSON.parse(e);return"error"in n?new Pm(n.message,t,n.error,r):new Da(n.message,t,r)}catch{}return new Da(e,t,r)}function Im({isTimedOut:e,status:t}){return!e&&~~t===0}function Nm({isTimedOut:e,status:t}){return e||Im({isTimedOut:e,status:t})||~~(t/100)!==2&&~~(t/100)!==4}function Am({status:e}){return~~(e/100)===2}function km(e){return e.map(t=>Vl(t))}function Vl(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function Fm({hosts:e,hostsCache:t,baseHeaders:r,logger:n,baseQueryParameters:i,algoliaAgent:a,timeouts:s,requester:o,requestsCache:u,responsesCache:f}){async function m(l){const p=await Promise.all(l.map(v=>t.get(v,()=>Promise.resolve(vs(v))))),y=p.filter(v=>v.isUp()),_=p.filter(v=>v.isTimedOut()),c=[...y,..._];return{hosts:c.length>0?c:l,getTimeout(v,S){return(_.length===0&&v===0?1:_.length+3+v)*S}}}async function d(l,p,y){const _=[],c=$m(l,p),g=Cm(r,l.headers,p.headers),v=l.method==="GET"?{...l.data,...p.data}:{},S={...i,...l.queryParameters,...v};if(a.value&&(S["x-algolia-agent"]=a.value),p&&p.queryParameters)for(const O of Object.keys(p.queryParameters))!p.queryParameters[O]||Object.prototype.toString.call(p.queryParameters[O])==="[object Object]"?S[O]=p.queryParameters[O]:S[O]=p.queryParameters[O].toString();let w=0;const R=async(O,P)=>{const $=O.pop();if($===void 0)throw new wm(km(_));const T={...s,...p.timeouts},A={data:c,headers:g,method:l.method,url:Rm($,l.path,S),connectTimeout:P(w,T.connect),responseTimeout:P(w,y?T.read:T.write)},B=I=>{const F={request:A,response:I,host:$,triesLeft:O.length};return _.push(F),F},x=await o.send(A);if(Nm(x)){const I=B(x);return x.isTimedOut&&w++,n.info("Retryable failure",Vl(I)),await t.set($,vs($,x.isTimedOut?"timed out":"down")),R(O,P)}if(Am(x))return Tm(x);throw B(x),xm(x,_)},j=e.filter(O=>O.accept==="readWrite"||(y?O.accept==="read":O.accept==="write")),b=await m(j);return R([...b.hosts].reverse(),b.getTimeout)}function h(l,p={}){const y=()=>d(l,p,_),_=l.useReadTransporter||l.method==="GET";if((p.cacheable||l.cacheable)!==!0)return y();const g={request:l,requestOptions:p,transporter:{queryParameters:i,headers:r}};return f.get(g,()=>u.get(g,()=>u.set(g,y()).then(v=>Promise.all([u.delete(g),v]),v=>Promise.all([u.delete(g),Promise.reject(v)])).then(([v,S])=>S)),{miss:v=>f.set(g,v)})}return{hostsCache:t,requester:o,timeouts:s,logger:n,algoliaAgent:a,baseHeaders:r,baseQueryParameters:i,hosts:e,request:h,requestsCache:u,responsesCache:f}}var Ql="5.46.0";function Dm(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(jm([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function Lm({appId:e,apiKey:t,authMode:r,algoliaAgents:n,...i}){const a=bm(e,t,r),s=Fm({hosts:Dm(e),...i,algoliaAgent:_m({algoliaAgents:n,client:"Lite",version:Ql}),baseHeaders:{"content-type":"text/plain",...a.headers(),...i.baseHeaders},baseQueryParameters:{...a.queryParameters(),...i.baseQueryParameters}});return{transporter:s,appId:e,apiKey:t,clearCache(){return Promise.all([s.requestsCache.clear(),s.responsesCache.clear()]).then(()=>{})},get _ua(){return s.algoliaAgent.value},addAlgoliaAgent(o,u){s.algoliaAgent.add({segment:o,version:u})},setClientApiKey({apiKey:o}){!r||r==="WithinHeaders"?s.baseHeaders["x-algolia-api-key"]=o:s.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,u){return this.search(o,u)},searchForFacets(o,u){return this.search(o,u)},customPost({path:o,parameters:u,body:f},m){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const p={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:u||{},headers:{},data:f||{}};return s.request(p,m)},getRecommendations(o,u){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const h={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return s.request(h,u)},search(o,u){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:p,...y})=>y.type==="facet"?{...y,...p,type:"facet"}:{...y,...p,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const h={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return s.request(h,u)}}}function Mm(e,t,r){return Lm({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:Sm(),requester:hm(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:ji(),requestsCache:ji({serializable:!1}),hostsCache:hr({caches:[gm({key:`${Ql}-${e}`}),ji()]}),...r})}var Hm="ais",rt=function(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Hm,"-").concat(t).concat(a).concat(s)}},zm=0;function Um(e){e.dependsOn==="recommend"&&(e.$$id=zm++)}function le(){}var gn=function(t,r){return t};function Bm(e){return Object.prototype.toString.call(e).slice(8,-1)}function Nt(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(Bm(e),`).

`).concat(t))}function ys(e){var t=e.helper,r=e.attributesToClear,n=r===void 0?[]:r,i=t.state.setPage(0);return i=n.reduce(function(a,s){return i.isNumericRefined(s)?a.removeNumericRefinement(s):i.isHierarchicalFacet(s)?a.removeHierarchicalFacetRefinement(s):i.isDisjunctiveFacet(s)?a.removeDisjunctiveFacetRefinement(s):i.isConjunctiveFacet(s)?a.removeFacetRefinement(s):a},i),n.indexOf("query")!==-1&&(i=i.setQuery("")),i}var Zm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kl=/[&<>"']/g,qm=RegExp(Kl.source);function Wm(e){return e&&qm.test(e)?e.replace(Kl,function(t){return Zm[t]}):e}var Vm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jl=/&(amp|quot|lt|gt|#39);/g,Qm=RegExp(Jl.source);function vn(e){return e&&Qm.test(e)?e.replace(Jl,function(t){return Vm[t]}):e}function La(e){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function Km(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Jm(e){return La(e)==="object"&&e!==null}function Yl(e){if(!Jm(e)||Km(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function jr(e){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(e)}function Ym(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(null,arguments)}function bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bs(Object(r),!0).forEach(function(n){Gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gl(e,t,r){return(t=Gm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gm(e){var t=Xm(e,"string");return jr(t)=="symbol"?t:t+""}function Xm(e,t){if(jr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vt={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Ce={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Xl(e){return Wm(e).replace(new RegExp(Vt.highlightPreTag,"g"),Ce.highlightPreTag).replace(new RegExp(Vt.highlightPostTag,"g"),Ce.highlightPostTag)}function Wn(e){return Yl(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,r){return Bt(Bt({},t),{},Gl({},r,Wn(e[r])))},{}):Array.isArray(e)?e.map(Wn):Bt(Bt({},e),{},{value:Xl(e.value)})}function eh(e){return e.__escaped===void 0&&(e=e.map(function(t){var r=Ma({},(Ym(t),t));return r._highlightResult&&(r._highlightResult=Wn(r._highlightResult)),r._snippetResult&&(r._snippetResult=Wn(r._snippetResult)),r}),e.__escaped=!0),e}function th(e){return e.map(function(t){return Bt(Bt({},t),{},{highlighted:Xl(t.highlighted)})})}function ef(e){var t=Ce.highlightPreTag,r=Ce.highlightPostTag;return e.map(function(n){return n.isHighlighted?t+n.value+r:n.value}).join("")}function rh(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}function _s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_s(Object(r),!0).forEach(function(n){ih(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_s(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ih(e,t,r){return(t=ah(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ah(e){var t=oh(e,"string");return Qt(t)=="symbol"?t:t+""}function oh(e,t){if(Qt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(e)}function sh(e,t){return fh(e)||lh(e,t)||uh(e,t)||ch()}function ch(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uh(e,t){if(e){if(typeof e=="string")return Ss(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ss(e,t):void 0}}function Ss(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function fh(e){if(Array.isArray(e))return e}function ph(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType,a=function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var m=u[1],d=u[2],h=d===void 0?"Filter Applied":d,l=u[3],p=l===void 0?{}:l,y=u[0].split(":"),_=sh(y,2),c=_[0],g=_[1],v=typeof n=="string"?n:n(m);if(u.length===1&&Qt(u[0])==="object")t.sendEventToInsights(u[0]);else if(c==="click"&&u.length>=2&&u.length<=4&&!rh(r,v,m)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:c,eventModifier:g,payload:nh({eventName:h,index:((S=r.lastResults)===null||S===void 0?void 0:S.index)||r.state.index,filters:["".concat(v,":").concat(m)]},p),attribute:v})}};return a}function tf(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function rf(e){return JSON.parse(decodeURIComponent(atob(e)))}function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ws(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e,t,r){return(t=mh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mh(e){var t=hh(e,"string");return Kt(t)=="symbol"?t:t+""}function hh(e,t){if(Kt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(e,t){return _h(e)||bh(e,t)||yh(e,t)||vh()}function vh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yh(e,t){if(e){if(typeof e=="string")return Os(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Os(e,t):void 0}}function Os(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function bh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function _h(e){if(Array.isArray(e))return e}function Kt(e){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(e)}function Sh(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}function nf(e){var t=e.helper,r=e.widgetType;e.methodName;var n=e.args,i=e.instantSearchInstance;if(n.length===1&&Kt(n[0])==="object")return[n[0]];var a=n[0].split(":"),s=gh(a,2),o=s[0],u=s[1],f=n[1],m=n[2],d=n[3]||{};if(!f)return[];if((o==="click"||o==="conversion")&&!m)return[];var h=Array.isArray(f)?f:[f];if(h.length===0)return[];var l=h[0].__queryID,p=Sh(h),y=p.map(function(c){return c.map(function(g){return g.objectID})}),_=p.map(function(c){return c.map(function(g){return g.__position})});return o==="view"?i.status!=="idle"?[]:p.map(function(c,g){var v;return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:o,payload:Ri({eventName:m||"Hits Viewed",index:((v=t.lastResults)===null||v===void 0?void 0:v.index)||t.state.index,objectIDs:y[g]},d),hits:c,eventModifier:u}}):o==="click"?p.map(function(c,g){var v;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:o,payload:Ri({eventName:m||"Hit Clicked",index:((v=t.lastResults)===null||v===void 0?void 0:v.index)||t.state.index,queryID:l,objectIDs:y[g],positions:_[g]},d),hits:c,eventModifier:u}}):o==="conversion"?p.map(function(c,g){var v;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:o,payload:Ri({eventName:m||"Hit Converted",index:((v=t.lastResults)===null||v===void 0?void 0:v.index)||t.state.index,queryID:l,objectIDs:y[g]},d),hits:c,eventModifier:u}}):[]}function af(e){var t=e.instantSearchInstance,r=e.helper,n=e.widgetType,i={},a=void 0,s=function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];var d=nf({widgetType:n,helper:r,methodName:"sendEvent",args:f,instantSearchInstance:t});d.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(a),a=setTimeout(function(){i={}},0)};return s}function wh(e){var t=e.helper,r=e.widgetType,n=e.instantSearchInstance,i=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var f=nf({widgetType:r,helper:t,methodName:"bindEvent",args:o,instantSearchInstance:n});return f.length?"data-insights-event=".concat(tf(f)):""};return i}function Ve(e){return e.$$type==="ais.index"}function Ha(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(Ve).forEach(function(n){return Ha(e,n)})}var Oh=Promise.resolve();function zt(e){var t=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];t===null&&(t=Oh.then(function(){if(t=null,r){r=!1;return}e.apply(void 0,s)}))};return n.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){t!==null&&(r=!0)},n}function Ph(e){var t=e.name,r=e.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",n?"#connector":""].join("")}function we(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(i){return Ph(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function jh(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function Rh(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function Rr(e,t){for(var r,n=0;n<e.length;n++)if(r=e[n],t(r,n,e))return r}function Eh(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function of(e){var t=e;return t.transporter&&t.transporter.userAgent?t.transporter.userAgent.value:t._ua}function za(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,r=t.headers||t.baseHeaders,n=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=r[i]||n[i],o=r[a]||n[a];return[s,o]}else return[e.applicationID,e.apiKey]}function $h(e){return e instanceof HTMLElement||!!e&&e.nodeType>0}function vt(e){var t=typeof e=="string",r=t?document.querySelector(e):e;if(!$h(r)){var n="Container must be `string` or `HTMLElement`.";throw t&&(n+=" Unable to find ".concat(e)),new Error(n)}return r}function ar(e){var t=Ce.highlightPostTag,r=Ce.highlightPreTag,n=e.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var o=s.split(t);a.push({value:o[0],isHighlighted:!0}),o[1]!==""&&a.push({value:o[1],isHighlighted:!1})}),a}var Ch=new RegExp(/\w/i);function Th(e,t){var r,n,i=e[t],a=((r=e[t+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=e[t-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Ch.test(vn(i.value))&&s===a?s:i.isHighlighted}function wt(e,t){var r=Array.isArray(t)?t:t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}function Ei(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a={type:t,attribute:r,name:n,escapedValue:Rh(n)},s=Rr(i,function(l){return l.name===r}),o;if(t==="hierarchical"){for(var u=e.getHierarchicalFacetByName(r),f=n.split(u.separator),m=function(p){return function(y){return p[y]}},d=function(p){s=s&&s.data&&Rr(Object.keys(s.data).map(m(s.data)),function(y){return y.name===f[p]})},h=0;s!==void 0&&h<f.length;++h)d(h);o=s&&s.count}else o=s&&s.data&&s.data[a.name];return o!==void 0&&(a.count=o),s&&s.exhaustive!==void 0&&(a.exhaustive=s.exhaustive),a}function xh(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e||{},i=[],a=t.facetsRefinements,s=a===void 0?{}:a,o=t.facetsExcludes,u=o===void 0?{}:o,f=t.disjunctiveFacetsRefinements,m=f===void 0?{}:f,d=t.hierarchicalFacetsRefinements,h=d===void 0?{}:d,l=t.numericRefinements,p=l===void 0?{}:l,y=t.tagRefinements,_=y===void 0?[]:y;return Object.keys(s).forEach(function(c){var g=s[c];g.forEach(function(v){i.push(Ei(t,"facet",c,v,n.facets))})}),Object.keys(u).forEach(function(c){var g=u[c];g.forEach(function(v){i.push({type:"exclude",attribute:c,name:v,exclude:!0})})}),Object.keys(m).forEach(function(c){var g=m[c];g.forEach(function(v){i.push(Ei(t,"disjunctive",c,jh(v),n.disjunctiveFacets))})}),Object.keys(h).forEach(function(c){var g=h[c];g.forEach(function(v){i.push(Ei(t,"hierarchical",c,v,n.hierarchicalFacets))})}),Object.keys(p).forEach(function(c){var g=p[c];Object.keys(g).forEach(function(v){var S=v,w=g[S],R=Array.isArray(w)?w:[w];R.forEach(function(j){i.push({type:"numeric",attribute:c,name:"".concat(j),numericValue:j,operator:S})})})}),_.forEach(function(c){i.push({type:"tag",attribute:"_tags",name:c})}),r&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function Er(e){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(e)}function Ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ps(Object(r),!0).forEach(function(n){Ih(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ih(e,t,r){return(t=Nh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nh(e){var t=Ah(e,"string");return Er(t)=="symbol"?t:t+""}function Ah(e,t){if(Er(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Er(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(e,t,r){return e.map(function(n,i){return js(js({},n),{},{__position:r*t+i+1})})}function $r(e){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}function Rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rs(Object(r),!0).forEach(function(n){Fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fh(e,t,r){return(t=Dh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dh(e){var t=Lh(e,"string");return $r(t)=="symbol"?t:t+""}function Lh(e,t){if($r(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($r(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mh(e,t){return t?e.map(function(r){return Es(Es({},r),{},{__queryID:t})}):e}function Cr(e){"@babel/helpers - typeof";return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$s(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e,t,r){return(t=zh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zh(e){var t=Uh(e,"string");return Cr(t)=="symbol"?t:t+""}function Uh(e,t){if(Cr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(e,t){var r=Object.keys(t).reduce(function(n,i){var a=t[i];return a.recommendResults?Cs(Cs({},n),a.recommendResults.results):n},{});e._recommendCache=r}function Tr(e){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(e)}function Zh(e,t){return Qh(e)||Vh(e,t)||Wh(e,t)||qh()}function qh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wh(e,t){if(e){if(typeof e=="string")return Ts(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ts(e,t):void 0}}function Ts(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Vh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Qh(e){if(Array.isArray(e))return e}function xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xs(Object(r),!0).forEach(function(n){sf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sf(e,t,r){return(t=Kh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kh(e){var t=Jh(e,"string");return Tr(t)=="symbol"?t:t+""}function Jh(e,t){if(Tr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yh(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var r=[Object.keys(t).reduce(function(s,o){var u=t[o],f=u.state,m=u.requestParams,d=u.results,h=d&&f?d.map(function(l,p){return cr({indexName:f.index||l.index},m!=null&&m[p]||l.params?{params:$i(m?.[p]||Gh(l.params))}:{})}):[];return s.concat(h)},[])],n=Object.keys(t).reduce(function(s,o){var u=t[o].results;return u?s.concat(u):s},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(s){for(var o=arguments.length,u=new Array(o>1?o-1:0),f=1;f<o;f++)u[f-1]=arguments[f];var m=Array.isArray(s)?s.map(function(d){return cr(cr({},d),{},{params:$i(d.params)})}):$i(s.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[m].concat(u)},function(){return i.apply(void 0,[s].concat(u))})},e.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in e)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));e.cache=cr(cr({},e.cache),{},sf({},a,JSON.stringify({results:Object.keys(t).map(function(s){return t[s].results})})))}}}function Gh(e){return e.split("&").reduce(function(t,r){var n=r.split("="),i=Zh(n,2),a=i[0],s=i[1];return t[a]=s?decodeURIComponent(s):"",t},{})}function $i(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(s[u++])})};return Object.keys(e).map(function(n){return r("%s=%s",n,t(e[n])?JSON.stringify(e[n]):e[n])}).join("&")}function Is(e){return e!==Object(e)}function Jt(e,t){if(e===t)return!0;if(Is(e)||Is(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!Jt(e[i],t[i]))return!1}return!0}function cf(e){var t=e.button===1;return t||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function li(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function xr(e){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}var Xh=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ns(Object(r),!0).forEach(function(n){eg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ns(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eg(e,t,r){return(t=tg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tg(e){var t=rg(e,"string");return xr(t)=="symbol"?t:t+""}function rg(e,t){if(xr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ng(e,t){if(e==null)return{};var r,n,i=ig(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ig(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ag=function(t,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=ng(r,Xh);return t.setQueryParameters(n)},og=function(t,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},t)},sg=function(t,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},t)},cg=function(t,r){return t.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=Eh(n,function(o){return o.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},t.hierarchicalFacets)})},ug=function(t,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},t)},lg=function(t,r){return t.setQueryParameters({facetsRefinements:tt(tt({},t.facetsRefinements),r.facetsRefinements)})},fg=function(t,r){return t.setQueryParameters({facetsExcludes:tt(tt({},t.facetsExcludes),r.facetsExcludes)})},pg=function(t,r){return t.setQueryParameters({disjunctiveFacetsRefinements:tt(tt({},t.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},dg=function(t,r){return t.setQueryParameters({numericRefinements:tt(tt({},t.numericRefinements),r.numericRefinements)})},mg=function(t,r){return t.setQueryParameters({hierarchicalFacetsRefinements:tt(tt({},t.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},hg=function(t,r){var n=li([].concat(t.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},Sr=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=mg(i,a),o=cg(s,a),u=ug(o,a),f=dg(u,a),m=pg(f,a),d=fg(m,a),h=lg(d,a),l=sg(h,a),p=hg(l,a),y=og(p,a);return ag(y,a)})};function gg(e,t){return e==null?e:Object.keys(e).reduce(function(r,n){if(t.indexOf(n)>=0)return r;var i=n;return r[i]=e[i],r},{})}function vg(e){return Sg(e)||_g(e)||bg(e)||yg()}function yg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bg(e,t){if(e){if(typeof e=="string")return Ua(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ua(e,t):void 0}}function _g(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sg(e){if(Array.isArray(e))return Ua(e)}function Ua(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function As(e){var t=e.start,r=t===void 0?0:t,n=e.end,i=e.step,a=i===void 0?1:i,s=a===0?1:a,o=Math.round((n-r)/s);return vg(Array(o)).map(function(u,f){return r+f*s})}function gr(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function ks(e,t,r){var n=t.getResultsForWidget(r),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:n,scopedResults:t.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function wg(e){for(var t=e.getParent(),r=[e.getHelper().state];t!==null;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}function Ir(e){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(e)}function Fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fs(Object(r),!0).forEach(function(n){Og(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Og(e,t,r){return(t=Pg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pg(e){var t=jg(e,"string");return Ir(t)=="symbol"?t:t+""}function jg(e,t){if(Ir(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ir(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uf(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,r){return Pn(Pn({},t),{},{isHighlighted:!Th(e,r)})}):e.map(function(t){return Pn(Pn({},t),{},{isHighlighted:!1})})}function Ge(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=t.fallback;return typeof window>"u"?r():e({window})}function fi(e){return Array.isArray(e)?e:[e]}var Rg=rt("Highlight");function lf(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=wt(i._highlightResult,t),u=o||{},f=u.value,m=f===void 0?"":f,d=Rg({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return m.replace(new RegExp(Ce.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(Ce.highlightPostTag,"g"),"</".concat(n,">"))}var Eg=rt("ReverseHighlight");function ff(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=wt(i._highlightResult,t),u=o||{},f=u.value,m=f===void 0?"":f,d=Eg({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),h=ef(uf(ar(m)));return h.replace(new RegExp(Ce.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(Ce.highlightPostTag,"g"),"</".concat(n,">"))}var $g=rt("Snippet");function pf(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=wt(i._snippetResult,t),u=o||{},f=u.value,m=f===void 0?"":f,d=$g({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return m.replace(new RegExp(Ce.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(Ce.highlightPostTag,"g"),"</".concat(n,">"))}var Cg=rt("ReverseSnippet");function df(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,o=wt(i._snippetResult,t),u=o||{},f=u.value,m=f===void 0?"":f,d=Cg({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),h=ef(uf(ar(m)));return h.replace(new RegExp(Ce.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(Ce.highlightPostTag,"g"),"</".concat(n,">"))}function Ba(e){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}function Tg(e){var t=e.getAttribute("data-insights-method"),r=e.getAttribute("data-insights-payload");if(typeof r!="string")throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{var n=rf(r);return{method:t,payload:n}}catch{throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}function xg(e){var t=e.method,r=e.payload;if(Ba(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=tf(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}function mf(e,t){return xg({method:e,payload:t})}function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var Ig="_ALGOLIA";function Ng(e){if(!((typeof document>"u"?"undefined":Za(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function hf(){return Ng(Ig)}function Ag(){return hf()}var kg=["page"];function Fg(e,t){if(e==null)return{};var r,n,i=Dg(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Dg(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ds(e){var t=e||{};t.page;var r=Fg(t,kg);return r}function Lg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.key,r=["ais.infiniteHits",t].filter(Boolean).join(":");return{read:function(i){var a=i.state,s=Ge(function(u){var f=u.window;return f.sessionStorage});if(!s)return null;try{var o=JSON.parse(s.getItem(r));return o&&Jt(o.state,Ds(a))?o.hits:null}catch(u){if(u instanceof SyntaxError)try{s.removeItem(r)}catch{}return null}},write:function(i){var a=i.state,s=i.hits,o=Ge(function(u){var f=u.window;return f.sessionStorage});if(o)try{o.setItem(r,JSON.stringify({state:Ds(a),hits:s}))}catch{}}}}function pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ci,Ls;function ko(){if(Ls)return Ci;Ls=1;function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}Ci=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(a){if(!r(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},e.prototype.emit=function(a){var s,o,u,f,m,d;if(this._events||(this._events={}),a==="error"&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if(s=arguments[1],s instanceof Error)throw s;var h=new Error('Uncaught, unspecified "error" event. ('+s+")");throw h.context=s,h}if(o=this._events[a],i(o))return!1;if(t(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),o.apply(this,f)}else if(n(o))for(f=Array.prototype.slice.call(arguments,1),d=o.slice(),u=d.length,m=0;m<u;m++)d[m].apply(this,f);return!0},e.prototype.addListener=function(a,s){var o;if(!t(s))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,t(s.listener)?s.listener:s),this._events[a]?n(this._events[a])?this._events[a].push(s):this._events[a]=[this._events[a],s]:this._events[a]=s,n(this._events[a])&&!this._events[a].warned&&(i(this._maxListeners)?o=e.defaultMaxListeners:o=this._maxListeners,o&&o>0&&this._events[a].length>o&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),typeof console.trace=="function"&&console.trace())),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(a,s){if(!t(s))throw TypeError("listener must be a function");var o=!1;function u(){this.removeListener(a,u),o||(o=!0,s.apply(this,arguments))}return u.listener=s,this.on(a,u),this},e.prototype.removeListener=function(a,s){var o,u,f,m;if(!t(s))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(o=this._events[a],f=o.length,u=-1,o===s||t(o.listener)&&o.listener===s)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,s);else if(n(o)){for(m=f;m-- >0;)if(o[m]===s||o[m].listener&&o[m].listener===s){u=m;break}if(u<0)return this;o.length===1?(o.length=0,delete this._events[a]):o.splice(u,1),this._events.removeListener&&this.emit("removeListener",a,s)}return this},e.prototype.removeAllListeners=function(a){var s,o;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[a]&&delete this._events[a],this;if(arguments.length===0){for(s in this._events)s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events={},this}if(o=this._events[a],t(o))this.removeListener(a,o);else if(o)for(;o.length;)this.removeListener(a,o[o.length-1]);return delete this._events[a],this},e.prototype.listeners=function(a){var s;return!this._events||!this._events[a]?s=[]:t(this._events[a])?s=[this._events[a]]:s=this._events[a].slice(),s},e.prototype.listenerCount=function(a){if(this._events){var s=this._events[a];if(t(s))return 1;if(s)return s.length}return 0},e.listenerCount=function(a,s){return a.listenerCount(s)};function t(a){return typeof a=="function"}function r(a){return typeof a=="number"}function n(a){return typeof a=="object"&&a!==null}function i(a){return a===void 0}return Ci}var Mg=ko();const Hg=pi(Mg);var Ti,Ms;function gf(){if(Ms)return Ti;Ms=1;function e(t,r){t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}return Ti=e,Ti}var xi,Hs;function zg(){if(Hs)return xi;Hs=1;var e=ko(),t=gf();function r(n,i,a){this.main=n,this.fn=i,this.recommendFn=a,this.lastResults=null,this.lastRecommendResults=null}return t(r,e),r.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},r.prototype.getModifiedState=function(n){return this.fn(n)},r.prototype.getModifiedRecommendState=function(n){return this.recommendFn(n)},xi=r,xi}var Ii,zs;function Fo(){if(zs)return Ii;zs=1;function e(r){return typeof r!="string"?r:String(r).replace(/^-/,"\\-")}function t(r){return typeof r!="string"?r:r.replace(/^\\-/,"-")}return Ii={escapeFacetValue:e,unescapeFacetValue:t},Ii}var Ni,Us;function Do(){if(Us)return Ni;Us=1;function e(i){return typeof i=="object"&&i!==null?r(Array.isArray(i)?[]:{},i):i}function t(i){return typeof i=="function"||Array.isArray(i)||Object.prototype.toString.call(i)==="[object Object]"}function r(i,a){if(i===a)return i;for(var s in a)if(!(!Object.prototype.hasOwnProperty.call(a,s)||s==="__proto__"||s==="constructor")){var o=a[s],u=i[s];typeof u<"u"&&typeof o>"u"||(t(u)&&t(o)?i[s]=r(u,o):i[s]=e(o))}return i}function n(i){t(i)||(i={});for(var a=1,s=arguments.length;a<s;a++){var o=arguments[a];t(o)&&r(i,o)}return i}return Ni=n,Ni}var Ai,Bs;function Lo(){if(Bs)return Ai;Bs=1;function e(t){return t&&Object.keys(t).length>0}return Ai=e,Ai}var ki,Zs;function Mo(){if(Zs)return ki;Zs=1;function e(t,r){if(t===null)return{};var n={},i=Object.keys(t),a,s;for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}return ki=e,ki}var Fi,qs;function vf(){if(qs)return Fi;qs=1;function e(t){t=t||{},this.params=t.params||[]}return e.prototype={constructor:e,addParams:function(t){var r=this.params.slice();return r.push(t),new e({params:r})},removeParams:function(t){return new e({params:this.params.filter(function(r){return r.$$id!==t})})},addFrequentlyBoughtTogether:function(t){return this.addParams(Object.assign({},t,{model:"bought-together"}))},addRelatedProducts:function(t){return this.addParams(Object.assign({},t,{model:"related-products"}))},addTrendingItems:function(t){return this.addParams(Object.assign({},t,{model:"trending-items"}))},addTrendingFacets:function(t){return this.addParams(Object.assign({},t,{model:"trending-facets"}))},addLookingSimilar:function(t){return this.addParams(Object.assign({},t,{model:"looking-similar"}))},_buildQueries:function(t,r){return this.params.filter(function(n){return r[n.$$id]===void 0}).map(function(n){var i=Object.assign({},n,{indexName:t,threshold:n.threshold||0});return delete i.$$id,i})}},Fi=e,Fi}var Di,Ws;function yf(){if(Ws)return Di;Ws=1;function e(t,r){this._state=t,this._rawResults={};var n=this;t.params.forEach(function(i){var a=i.$$id;n[a]=r[a],n._rawResults[a]=r[a]})}return e.prototype={constructor:e},Di=e,Di}var Li,Vs;function Ug(){if(Vs)return Li;Vs=1;var e=Do();function t(n){return Object.keys(n).sort().reduce(function(i,a){return i[a]=n[a],i},{})}var r={_getQueries:function(i,a){var s=[];return s.push({indexName:i,params:r._getHitsSearchParams(a)}),a.getRefinedDisjunctiveFacets().forEach(function(o){s.push({indexName:i,params:r._getDisjunctiveFacetSearchParams(a,o)})}),a.getRefinedHierarchicalFacets().forEach(function(o){var u=a.getHierarchicalFacetByName(o),f=a.getHierarchicalRefinement(o),m=a._getHierarchicalFacetSeparator(u);if(f.length>0&&f[0].split(m).length>1){var d=f[0].split(m).slice(0,-1).reduce(function(l,p,y){return l.concat({attribute:u.attributes[y],value:y===0?p:[l[l.length-1].value,p].join(m)})},[]);d.forEach(function(h,l){var p=r._getDisjunctiveFacetSearchParams(a,h.attribute,l===0);function y(g){return u.attributes.some(function(v){return v===g.split(":")[0]})}var _=(p.facetFilters||[]).reduce(function(g,v){if(Array.isArray(v)){var S=v.filter(function(w){return!y(w)});S.length>0&&g.push(S)}return typeof v=="string"&&!y(v)&&g.push(v),g},[]),c=d[l-1];l>0?p.facetFilters=_.concat(c.attribute+":"+c.value):_.length>0?p.facetFilters=_:delete p.facetFilters,s.push({indexName:i,params:p})})}}),s},_getCompositionQueries:function(i){return[{compositionID:i.index,requestBody:{params:r._getCompositionHitsSearchParams(i)}}]},_getHitsSearchParams:function(n){var i=n.facets.concat(n.disjunctiveFacets).concat(r._getHitsHierarchicalFacetsAttributes(n)).sort(),a=r._getFacetFilters(n),s=r._getNumericFilters(n),o=r._getTagFilters(n),u={};return i.length>0&&(u.facets=i.indexOf("*")>-1?["*"]:i),o.length>0&&(u.tagFilters=o),a.length>0&&(u.facetFilters=a),s.length>0&&(u.numericFilters=s),t(e({},n.getQueryParams(),u))},_getCompositionHitsSearchParams:function(n){var i=n.facets.concat(n.disjunctiveFacets.map(function(m){return n.disjunctiveFacetsRefinements&&n.disjunctiveFacetsRefinements[m]&&n.disjunctiveFacetsRefinements[m].length>0?"disjunctive("+m+")":m})).concat(r._getHitsHierarchicalFacetsAttributes(n)).sort(),a=r._getFacetFilters(n),s=r._getNumericFilters(n),o=r._getTagFilters(n),u={};i.length>0&&(u.facets=i.indexOf("*")>-1?["*"]:i),o.length>0&&(u.tagFilters=o),a.length>0&&(u.facetFilters=a),s.length>0&&(u.numericFilters=s);var f=n.getQueryParams();return delete f.highlightPreTag,delete f.highlightPostTag,delete f.index,t(e({},f,u))},_getDisjunctiveFacetSearchParams:function(n,i,a){var s=r._getFacetFilters(n,i,a),o=r._getNumericFilters(n,i),u=r._getTagFilters(n),f={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};u.length>0&&(f.tagFilters=u);var m=n.getHierarchicalFacetByName(i);return m?f.facets=r._getDisjunctiveHierarchicalFacetAttribute(n,m,a):f.facets=i,o.length>0&&(f.numericFilters=o),s.length>0&&(f.facetFilters=s),t(e({},n.getQueryParams(),f))},_getNumericFilters:function(n,i){if(n.numericFilters)return n.numericFilters;var a=[];return Object.keys(n.numericRefinements).forEach(function(s){var o=n.numericRefinements[s]||{};Object.keys(o).forEach(function(u){var f=o[u]||[];i!==s&&f.forEach(function(m){if(Array.isArray(m)){var d=m.map(function(h){return s+u+h});a.push(d)}else a.push(s+u+m)})})}),a},_getTagFilters:function(n){return n.tagFilters?n.tagFilters:n.tagRefinements.join(",")},_getFacetFilters:function(n,i,a){var s=[],o=n.facetsRefinements||{};Object.keys(o).sort().forEach(function(d){var h=o[d]||[];h.slice().sort().forEach(function(l){s.push(d+":"+l)})});var u=n.facetsExcludes||{};Object.keys(u).sort().forEach(function(d){var h=u[d]||[];h.sort().forEach(function(l){s.push(d+":-"+l)})});var f=n.disjunctiveFacetsRefinements||{};Object.keys(f).sort().forEach(function(d){var h=f[d]||[];if(!(d===i||!h||h.length===0)){var l=[];h.slice().sort().forEach(function(p){l.push(d+":"+p)}),s.push(l)}});var m=n.hierarchicalFacetsRefinements||{};return Object.keys(m).sort().forEach(function(d){var h=m[d]||[],l=h[0];if(l!==void 0){var p=n.getHierarchicalFacetByName(d),y=n._getHierarchicalFacetSeparator(p),_=n._getHierarchicalRootPath(p),c,g;if(i===d){if(l.indexOf(y)===-1||!_&&a===!0||_&&_.split(y).length===l.split(y).length)return;_?(g=_.split(y).length-1,l=_):(g=l.split(y).length-2,l=l.slice(0,l.lastIndexOf(y))),c=p.attributes[g]}else g=l.split(y).length-1,c=p.attributes[g];c&&s.push([c+":"+l])}}),s},_getHitsHierarchicalFacetsAttributes:function(n){var i=[];return n.hierarchicalFacets.reduce(function(s,o){var u=n.getHierarchicalRefinement(o.name)[0];if(!u)return s.push(o.attributes[0]),s;var f=n._getHierarchicalFacetSeparator(o),m=u.split(f).length,d=o.attributes.slice(0,m+1);return s.concat(d)},i)},_getDisjunctiveHierarchicalFacetAttribute:function(n,i,a){var s=n._getHierarchicalFacetSeparator(i);if(a===!0){var o=n._getHierarchicalRootPath(i),u=0;return o&&(u=o.split(s).length),[i.attributes[u]]}var f=n.getHierarchicalRefinement(i.name)[0]||"",m=f.split(s).length-1;return i.attributes.slice(0,m+1)},getSearchForFacetQuery:function(n,i,a,s){var o=s.isDisjunctiveFacet(n)?s.clearRefinements(n):s,u={facetQuery:i,facetName:n};return typeof a=="number"&&(u.maxFacetHits=a),t(e({},r._getHitsSearchParams(o),u))}};return Li=r,Li}var Mi,Qs;function Ho(){return Qs||(Qs=1,Mi=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})}),Mi}var Hi,Ks;function yn(){return Ks||(Ks=1,Hi=function(t,r){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}}),Hi}var zi,Js;function Bg(){if(Js)return zi;Js=1;function e(t,r){return t.filter(function(n,i){return r.indexOf(n)>-1&&t.indexOf(n)===i})}return zi=e,zi}var Ui,Ys;function Zg(){if(Ys)return Ui;Ys=1;function e(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}return Ui=e,Ui}var Bi,Gs;function qg(){return Gs||(Gs=1,Bi=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)}),Bi}var Zi,Xs;function Wg(){if(Xs)return Zi;Xs=1;var e=Ho(),t=Lo(),r=Mo(),n={addRefinement:function(a,s,o){if(n.isRefined(a,s,o))return a;var u=""+o,f=a[s]?a[s].concat(u):[u],m={};return m[s]=f,e(m,a)},removeRefinement:function(a,s,o){if(o===void 0)return n.clearRefinement(a,function(f,m){return s===m});var u=""+o;return n.clearRefinement(a,function(f,m){return s===m&&u===f})},toggleRefinement:function(a,s,o){if(o===void 0)throw new Error("toggleRefinement should be used with a value");return n.isRefined(a,s,o)?n.removeRefinement(a,s,o):n.addRefinement(a,s,o)},clearRefinement:function(a,s,o){if(s===void 0)return t(a)?{}:a;if(typeof s=="string")return r(a,[s]);if(typeof s=="function"){var u=!1,f=Object.keys(a).reduce(function(m,d){var h=a[d]||[],l=h.filter(function(p){return!s(p,d,o)});return l.length!==h.length&&(u=!0),m[d]=l,m},{});return u?f:a}},isRefined:function(a,s,o){var u=!!a[s]&&a[s].length>0;if(o===void 0||!u)return u;var f=""+o;return a[s].indexOf(f)!==-1}};return Zi=n,Zi}var qi,ec;function bf(){if(ec)return qi;ec=1;var e=Ho(),t=yn(),r=Bg(),n=Do(),i=Lo(),a=Mo(),s=Zg(),o=qg(),u=Wg();function f(h,l){return Array.isArray(h)&&Array.isArray(l)?h.length===l.length&&h.every(function(p,y){return f(l[y],p)}):h===l}function m(h,l){return t(h,function(p){return f(p,l)})}function d(h){var l=h?d._parseNumbers(h):{};l.userToken!==void 0&&!o(l.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=l.facets||[],this.disjunctiveFacets=l.disjunctiveFacets||[],this.hierarchicalFacets=l.hierarchicalFacets||[],this.facetsRefinements=l.facetsRefinements||{},this.facetsExcludes=l.facetsExcludes||{},this.disjunctiveFacetsRefinements=l.disjunctiveFacetsRefinements||{},this.numericRefinements=l.numericRefinements||{},this.tagRefinements=l.tagRefinements||[],this.hierarchicalFacetsRefinements=l.hierarchicalFacetsRefinements||{};var p=this;Object.keys(l).forEach(function(y){var _=d.PARAMETERS.indexOf(y)!==-1,c=l[y]!==void 0;!_&&c&&(p[y]=l[y])})}return d.PARAMETERS=Object.keys(new d),d._parseNumbers=function(h){if(h instanceof d)return h;var l={},p=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(p.forEach(function(_){var c=h[_];if(typeof c=="string"){var g=parseFloat(c);l[_]=isNaN(g)?c:g}}),Array.isArray(h.insideBoundingBox)&&(l.insideBoundingBox=h.insideBoundingBox.map(function(_){return Array.isArray(_)?_.map(function(c){return parseFloat(c)}):_})),h.numericRefinements){var y={};Object.keys(h.numericRefinements).forEach(function(_){var c=h.numericRefinements[_]||{};y[_]={},Object.keys(c).forEach(function(g){var v=c[g],S=v.map(function(w){return Array.isArray(w)?w.map(function(R){return typeof R=="string"?parseFloat(R):R}):typeof w=="string"?parseFloat(w):w});y[_][g]=S})}),l.numericRefinements=y}return n(h,l)},d.make=function(l){var p=new d(l),y=l.hierarchicalFacets||[];return y.forEach(function(_){if(_.rootPath){var c=p.getHierarchicalRefinement(_.name);c.length>0&&c[0].indexOf(_.rootPath)!==0&&(p=p.clearRefinements(_.name)),c=p.getHierarchicalRefinement(_.name),c.length===0&&(p=p.toggleHierarchicalFacetRefinement(_.name,_.rootPath))}}),p},d.validate=function(h,l){var p=l||{};return h.tagFilters&&p.tagRefinements&&p.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):h.tagRefinements.length>0&&p.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):h.numericFilters&&p.numericRefinements&&i(p.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):i(h.numericRefinements)&&p.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},d.prototype={constructor:d,clearRefinements:function(l){var p={numericRefinements:this._clearNumericRefinements(l),facetsRefinements:u.clearRefinement(this.facetsRefinements,l,"conjunctiveFacet"),facetsExcludes:u.clearRefinement(this.facetsExcludes,l,"exclude"),disjunctiveFacetsRefinements:u.clearRefinement(this.disjunctiveFacetsRefinements,l,"disjunctiveFacet"),hierarchicalFacetsRefinements:u.clearRefinement(this.hierarchicalFacetsRefinements,l,"hierarchicalFacet")};return p.numericRefinements===this.numericRefinements&&p.facetsRefinements===this.facetsRefinements&&p.facetsExcludes===this.facetsExcludes&&p.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&p.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(p)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(l){return l===this.index?this:this.setQueryParameters({index:l})},setQuery:function(l){return l===this.query?this:this.setQueryParameters({query:l})},setPage:function(l){return l===this.page?this:this.setQueryParameters({page:l})},setFacets:function(l){return this.setQueryParameters({facets:l})},setDisjunctiveFacets:function(l){return this.setQueryParameters({disjunctiveFacets:l})},setHitsPerPage:function(l){return this.hitsPerPage===l?this:this.setQueryParameters({hitsPerPage:l})},setTypoTolerance:function(l){return this.typoTolerance===l?this:this.setQueryParameters({typoTolerance:l})},addNumericRefinement:function(h,l,p){var y=s(p);if(this.isNumericRefined(h,l,y))return this;var _=n({},this.numericRefinements);return _[h]=n({},_[h]),_[h][l]?(_[h][l]=_[h][l].slice(),_[h][l].push(y)):_[h][l]=[y],this.setQueryParameters({numericRefinements:_})},getConjunctiveRefinements:function(h){return this.isConjunctiveFacet(h)?this.facetsRefinements[h]||[]:[]},getDisjunctiveRefinements:function(h){return this.isDisjunctiveFacet(h)?this.disjunctiveFacetsRefinements[h]||[]:[]},getHierarchicalRefinement:function(h){return this.hierarchicalFacetsRefinements[h]||[]},getExcludeRefinements:function(h){return this.isConjunctiveFacet(h)?this.facetsExcludes[h]||[]:[]},removeNumericRefinement:function(h,l,p){var y=p;return y!==void 0?this.isNumericRefined(h,l,y)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(_,c){return c===h&&_.op===l&&f(_.val,s(y))})}):this:l!==void 0?this.isNumericRefined(h,l)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(_,c){return c===h&&_.op===l})}):this:this.isNumericRefined(h)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(_,c){return c===h})}):this},getNumericRefinements:function(h){return this.numericRefinements[h]||{}},getNumericRefinement:function(h,l){return this.numericRefinements[h]&&this.numericRefinements[h][l]},_clearNumericRefinements:function(l){if(l===void 0)return i(this.numericRefinements)?{}:this.numericRefinements;if(typeof l=="string")return a(this.numericRefinements,[l]);if(typeof l=="function"){var p=!1,y=this.numericRefinements,_=Object.keys(y).reduce(function(c,g){var v=y[g],S={};return v=v||{},Object.keys(v).forEach(function(w){var R=v[w]||[],j=[];R.forEach(function(b){var O=l({val:b,op:w},g,"numeric");O||j.push(b)}),j.length!==R.length&&(p=!0),S[w]=j}),c[g]=S,c},{});return p?_:this.numericRefinements}},addFacet:function(l){return this.isConjunctiveFacet(l)?this:this.setQueryParameters({facets:this.facets.concat([l])})},addDisjunctiveFacet:function(l){return this.isDisjunctiveFacet(l)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([l])})},addHierarchicalFacet:function(l){if(this.isHierarchicalFacet(l.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+l.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([l])})},addFacetRefinement:function(l,p){if(!this.isConjunctiveFacet(l))throw new Error(l+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,l,p)?this:this.setQueryParameters({facetsRefinements:u.addRefinement(this.facetsRefinements,l,p)})},addExcludeRefinement:function(l,p){if(!this.isConjunctiveFacet(l))throw new Error(l+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,l,p)?this:this.setQueryParameters({facetsExcludes:u.addRefinement(this.facetsExcludes,l,p)})},addDisjunctiveFacetRefinement:function(l,p){if(!this.isDisjunctiveFacet(l))throw new Error(l+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,l,p)?this:this.setQueryParameters({disjunctiveFacetsRefinements:u.addRefinement(this.disjunctiveFacetsRefinements,l,p)})},addTagRefinement:function(l){if(this.isTagRefined(l))return this;var p={tagRefinements:this.tagRefinements.concat(l)};return this.setQueryParameters(p)},removeFacet:function(l){return this.isConjunctiveFacet(l)?this.clearRefinements(l).setQueryParameters({facets:this.facets.filter(function(p){return p!==l})}):this},removeDisjunctiveFacet:function(l){return this.isDisjunctiveFacet(l)?this.clearRefinements(l).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(p){return p!==l})}):this},removeHierarchicalFacet:function(l){return this.isHierarchicalFacet(l)?this.clearRefinements(l).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(p){return p.name!==l})}):this},removeFacetRefinement:function(l,p){if(!this.isConjunctiveFacet(l))throw new Error(l+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,l,p)?this.setQueryParameters({facetsRefinements:u.removeRefinement(this.facetsRefinements,l,p)}):this},removeExcludeRefinement:function(l,p){if(!this.isConjunctiveFacet(l))throw new Error(l+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,l,p)?this.setQueryParameters({facetsExcludes:u.removeRefinement(this.facetsExcludes,l,p)}):this},removeDisjunctiveFacetRefinement:function(l,p){if(!this.isDisjunctiveFacet(l))throw new Error(l+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,l,p)?this.setQueryParameters({disjunctiveFacetsRefinements:u.removeRefinement(this.disjunctiveFacetsRefinements,l,p)}):this},removeTagRefinement:function(l){if(!this.isTagRefined(l))return this;var p={tagRefinements:this.tagRefinements.filter(function(y){return y!==l})};return this.setQueryParameters(p)},toggleRefinement:function(l,p){return this.toggleFacetRefinement(l,p)},toggleFacetRefinement:function(l,p){if(this.isHierarchicalFacet(l))return this.toggleHierarchicalFacetRefinement(l,p);if(this.isConjunctiveFacet(l))return this.toggleConjunctiveFacetRefinement(l,p);if(this.isDisjunctiveFacet(l))return this.toggleDisjunctiveFacetRefinement(l,p);throw new Error("Cannot refine the undeclared facet "+l+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(l,p){if(!this.isConjunctiveFacet(l))throw new Error(l+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:u.toggleRefinement(this.facetsRefinements,l,p)})},toggleExcludeFacetRefinement:function(l,p){if(!this.isConjunctiveFacet(l))throw new Error(l+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:u.toggleRefinement(this.facetsExcludes,l,p)})},toggleDisjunctiveFacetRefinement:function(l,p){if(!this.isDisjunctiveFacet(l))throw new Error(l+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:u.toggleRefinement(this.disjunctiveFacetsRefinements,l,p)})},toggleHierarchicalFacetRefinement:function(l,p){if(!this.isHierarchicalFacet(l))throw new Error(l+" is not defined in the hierarchicalFacets attribute of the helper configuration");var y=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(l)),_={},c=this.hierarchicalFacetsRefinements[l]!==void 0&&this.hierarchicalFacetsRefinements[l].length>0&&(this.hierarchicalFacetsRefinements[l][0]===p||this.hierarchicalFacetsRefinements[l][0].indexOf(p+y)===0);return c?p.indexOf(y)===-1?_[l]=[]:_[l]=[p.slice(0,p.lastIndexOf(y))]:_[l]=[p],this.setQueryParameters({hierarchicalFacetsRefinements:e(_,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(h,l){if(this.isHierarchicalFacetRefined(h))throw new Error(h+" is already refined.");if(!this.isHierarchicalFacet(h))throw new Error(h+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var p={};return p[h]=[l],this.setQueryParameters({hierarchicalFacetsRefinements:e(p,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(h){if(!this.isHierarchicalFacetRefined(h))return this;var l={};return l[h]=[],this.setQueryParameters({hierarchicalFacetsRefinements:e(l,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(l){return this.isTagRefined(l)?this.removeTagRefinement(l):this.addTagRefinement(l)},isDisjunctiveFacet:function(h){return this.disjunctiveFacets.indexOf(h)>-1},isHierarchicalFacet:function(h){return this.getHierarchicalFacetByName(h)!==void 0},isConjunctiveFacet:function(h){return this.facets.indexOf(h)>-1},isFacetRefined:function(l,p){return this.isConjunctiveFacet(l)?u.isRefined(this.facetsRefinements,l,p):!1},isExcludeRefined:function(l,p){return this.isConjunctiveFacet(l)?u.isRefined(this.facetsExcludes,l,p):!1},isDisjunctiveFacetRefined:function(l,p){return this.isDisjunctiveFacet(l)?u.isRefined(this.disjunctiveFacetsRefinements,l,p):!1},isHierarchicalFacetRefined:function(l,p){if(!this.isHierarchicalFacet(l))return!1;var y=this.getHierarchicalRefinement(l);return p?y.indexOf(p)!==-1:y.length>0},isNumericRefined:function(l,p,y){if(y===void 0&&p===void 0)return!!this.numericRefinements[l];var _=this.numericRefinements[l]&&this.numericRefinements[l][p]!==void 0;if(y===void 0||!_)return _;var c=s(y),g=m(this.numericRefinements[l][p],c)!==void 0;return _&&g},isTagRefined:function(l){return this.tagRefinements.indexOf(l)!==-1},getRefinedDisjunctiveFacets:function(){var l=this,p=r(Object.keys(this.numericRefinements).filter(function(y){return Object.keys(l.numericRefinements[y]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(y){return l.disjunctiveFacetsRefinements[y].length>0}).concat(p).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var l=this;return r(this.hierarchicalFacets.map(function(p){return p.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(p){return l.hierarchicalFacetsRefinements[p].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var h=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(l){return h.indexOf(l)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var l=this.managedParameters,p={},y=this;return Object.keys(this).forEach(function(_){var c=y[_];l.indexOf(_)===-1&&c!==void 0&&(p[_]=c)}),p},setQueryParameter:function(l,p){if(this[l]===p)return this;var y={};return y[l]=p,this.setQueryParameters(y)},setQueryParameters:function(l){if(!l)return this;var p=d.validate(this,l);if(p)throw p;var y=this,_=d._parseNumbers(l),c=Object.keys(this).reduce(function(v,S){return v[S]=y[S],v},{}),g=Object.keys(_).reduce(function(v,S){var w=v[S]!==void 0,R=_[S]!==void 0;return w&&!R?a(v,[S]):(R&&(v[S]=_[S]),v)},c);return new this.constructor(g)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(h){return h.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(h){return h.separator||" > "},_getHierarchicalRootPath:function(h){return h.rootPath||null},_getHierarchicalShowParentLevel:function(h){return typeof h.showParentLevel=="boolean"?h.showParentLevel:!0},getHierarchicalFacetByName:function(h){return t(this.hierarchicalFacets,function(l){return l.name===h})},getHierarchicalFacetBreadcrumb:function(h){if(!this.isHierarchicalFacet(h))return[];var l=this.getHierarchicalRefinement(h)[0];if(!l)return[];var p=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(h)),y=l.split(p);return y.map(function(_){return _.trim()})},toString:function(){return JSON.stringify(this,null,2)}},qi=d,qi}var Wi,tc;function Vg(){return tc||(tc=1,Wi=function(t){return Array.isArray(t)?t.filter(Boolean):[]}),Wi}var Vi,rc;function Qg(){return rc||(rc=1,Vi=function(t,r){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(r(t[n]))return n;return-1}),Vi}var Qi,nc;function _f(){if(nc)return Qi;nc=1;var e=yn();return Qi=function(r,n){var i=(n||[]).map(function(a){return a.split(":")});return r.reduce(function(s,o){var u=o.split(":"),f=e(i,function(m){return m[0]===u[0]});return u.length>1||!f?(s[0].push(u[0]),s[1].push(u[1]),s):(s[0].push(f[0]),s[1].push(f[1]),s)},[[],[]])},Qi}var Ki,ic;function Kg(){if(ic)return Ki;ic=1;function e(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){var a=typeof r[i]=="number"?r[i]:0,s=n[i];s!==void 0&&s>=a&&(r[i]!==void 0&&delete r[i],r[i]=s)}),r},{})}return Ki=e,Ki}var Ji,ac;function Sf(){if(ac)return Ji;ac=1;function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=n!==void 0,o=n===null;if(!o&&r>n||a&&s||!i)return 1;if(!a&&r<n||o&&i||!s)return-1}return 0}function t(r,n,i){if(!Array.isArray(r))return[];Array.isArray(i)||(i=[]);var a=r.map(function(s,o){return{criteria:n.map(function(u){return s[u]}),index:o,value:s}});return a.sort(function(o,u){for(var f=-1;++f<o.criteria.length;){var m=e(o.criteria[f],u.criteria[f]);if(m)return f>=i.length?m:i[f]==="desc"?-m:m}return o.index-u.index}),a.map(function(s){return s.value})}return Ji=t,Ji}var Yi,oc;function Jg(){if(oc)return Yi;oc=1,Yi=s;var e=Fo(),t=yn(),r=_f(),n=Sf(),i=e.escapeFacetValue,a=e.unescapeFacetValue;function s(m){return function(h,l){var p=m.hierarchicalFacets[l],y=m.hierarchicalFacetsRefinements[p.name]&&m.hierarchicalFacetsRefinements[p.name][0]||"",_=m._getHierarchicalFacetSeparator(p),c=m._getHierarchicalRootPath(p),g=m._getHierarchicalShowParentLevel(p),v=r(m._getHierarchicalFacetSortBy(p)),S=h.every(function(j){return j.exhaustive}),w=o(v,_,c,g,y),R=h;return c&&(R=h.slice(c.split(_).length)),R.reduce(w,{name:m.hierarchicalFacets[l].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:S,data:null})}}function o(m,d,h,l,p){return function(_,c,g){var v=_;if(g>0){var S=0;for(v=_;S<g;){var w=v&&Array.isArray(v.data)?v.data:[];v=t(w,function(j){return j.isRefined}),S++}}if(v){var R=Object.keys(c.data).map(function(j){return[j,c.data[j]]}).filter(function(j){var b=j[0];return u(b,v.path||h,p,d,h,l)});v.data=n(R.map(function(j){var b=j[0],O=j[1];return f(O,b,d,a(p),c.exhaustive)}),m[0],m[1])}return _}}function u(m,d,h,l,p,y){return p&&(m.indexOf(p)!==0||p===m)?!1:!p&&m.indexOf(l)===-1||p&&m.split(l).length-p.split(l).length===1||m.indexOf(l)===-1&&h.indexOf(l)===-1||h.indexOf(m)===0||m.indexOf(d+l)===0&&(y||m.indexOf(h)===0)}function f(m,d,h,l,p){var y=d.split(h);return{name:y[y.length-1].trim(),path:d,escapedValue:i(d),count:m,isRefined:l===d||l.indexOf(d+h)===0,exhaustive:p,data:null}}return Yi}var Gi,sc;function wf(){if(sc)return Gi;sc=1;var e=Vg(),t=Ho(),r=Fo(),n=yn(),i=Qg(),a=_f(),s=Kg(),o=Sf(),u=r.escapeFacetValue,f=r.unescapeFacetValue,m=Jg();function d(b){var O={};return b.forEach(function(P,$){O[P]=$}),O}function h(b,O,P){O&&O[P]&&(b.stats=O[P])}function l(b,O){return n(b,function($){var T=$.attributes||[];return T.indexOf(O)>-1})}function p(b,O,P){var $=O[0]||{};this._rawResults=O;var T=this;Object.keys($).forEach(function(D){T[D]=$[D]});var A=t(P,{persistHierarchicalRootCount:!1});Object.keys(A).forEach(function(D){T[D]=A[D]}),this.processingTimeMS=O.reduce(function(D,Z){return Z.processingTimeMS===void 0?D:D+Z.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=b.hierarchicalFacets.map(function(){return[]}),this.facets=[];var B=b.getRefinedDisjunctiveFacets(),x=d(b.facets),I=d(b.disjunctiveFacets),F=1,N=$.facets||{};Object.keys(N).forEach(function(D){var Z=N[D],E=l(b.hierarchicalFacets,D);if(E){var C=E.attributes.indexOf(D),M=i(b.hierarchicalFacets,function(W){return W.name===E.name});T.hierarchicalFacets[M][C]={attribute:D,data:Z,exhaustive:$.exhaustiveFacetsCount}}else{var U=b.disjunctiveFacets.indexOf(D)!==-1,z=b.facets.indexOf(D)!==-1,q;U&&(q=I[D],T.disjunctiveFacets[q]={name:D,data:Z,exhaustive:$.exhaustiveFacetsCount},h(T.disjunctiveFacets[q],$.facets_stats,D)),z&&(q=x[D],T.facets[q]={name:D,data:Z,exhaustive:$.exhaustiveFacetsCount},h(T.facets[q],$.facets_stats,D))}}),this.hierarchicalFacets=e(this.hierarchicalFacets),B.forEach(function(D){var Z=O[F],E=Z&&Z.facets?Z.facets:{},C=b.getHierarchicalFacetByName(D);Object.keys(E).forEach(function(M){var U=E[M],z;if(C){z=i(b.hierarchicalFacets,function(Q){return Q.name===C.name});var q=i(T.hierarchicalFacets[z],function(Q){return Q.attribute===M});if(q===-1)return;T.hierarchicalFacets[z][q].data=T.persistHierarchicalRootCount?s(T.hierarchicalFacets[z][q].data,U):t(U,T.hierarchicalFacets[z][q].data)}else{z=I[M];var W=$.facets&&$.facets[M]||{};T.disjunctiveFacets[z]={name:M,data:s(W,U),exhaustive:Z.exhaustiveFacetsCount},h(T.disjunctiveFacets[z],Z.facets_stats,M),b.disjunctiveFacetsRefinements[M]&&b.disjunctiveFacetsRefinements[M].forEach(function(Q){!T.disjunctiveFacets[z].data[Q]&&b.disjunctiveFacetsRefinements[M].indexOf(f(Q))>-1&&(T.disjunctiveFacets[z].data[Q]=0)})}}),F++}),b.getRefinedHierarchicalFacets().forEach(function(D){var Z=b.getHierarchicalFacetByName(D),E=b._getHierarchicalFacetSeparator(Z),C=b.getHierarchicalRefinement(D);C.length===0||C[0].split(E).length<2||O.slice(F).forEach(function(M){var U=M&&M.facets?M.facets:{};Object.keys(U).forEach(function(z){var q=U[z],W=i(b.hierarchicalFacets,function(ce){return ce.name===Z.name}),Q=i(T.hierarchicalFacets[W],function(ce){return ce.attribute===z});if(Q!==-1){var J={};if(C.length>0&&!T.persistHierarchicalRootCount){var ee=C[0].split(E)[0];J[ee]=T.hierarchicalFacets[W][Q].data[ee]}T.hierarchicalFacets[W][Q].data=t(J,q,T.hierarchicalFacets[W][Q].data)}}),F++})}),Object.keys(b.facetsExcludes).forEach(function(D){var Z=b.facetsExcludes[D],E=x[D];T.facets[E]={name:D,data:N[D],exhaustive:$.exhaustiveFacetsCount},Z.forEach(function(C){T.facets[E]=T.facets[E]||{name:D},T.facets[E].data=T.facets[E].data||{},T.facets[E].data[C]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(m(b)),this.facets=e(this.facets),this.disjunctiveFacets=e(this.disjunctiveFacets),this._state=b}p.prototype.getFacetByName=function(b){function O(P){return P.name===b}return n(this.facets,O)||n(this.disjunctiveFacets,O)||n(this.hierarchicalFacets,O)};function y(b,O){function P(N){return N.name===O}if(b._state.isConjunctiveFacet(O)){var $=n(b.facets,P);return $?Object.keys($.data).map(function(N){var D=u(N);return{name:N,escapedValue:D,count:$.data[N],isRefined:b._state.isFacetRefined(O,D),isExcluded:b._state.isExcludeRefined(O,N)}}):[]}else if(b._state.isDisjunctiveFacet(O)){var T=n(b.disjunctiveFacets,P);return T?Object.keys(T.data).map(function(N){var D=u(N);return{name:N,escapedValue:D,count:T.data[N],isRefined:b._state.isDisjunctiveFacetRefined(O,D)}}):[]}else if(b._state.isHierarchicalFacet(O)){var A=n(b.hierarchicalFacets,P);if(!A)return A;var B=b._state.getHierarchicalFacetByName(O),x=b._state._getHierarchicalFacetSeparator(B),I=f(b._state.getHierarchicalRefinement(O)[0]||"");I.indexOf(B.rootPath)===0&&(I=I.replace(B.rootPath+x,""));var F=I.split(x);return F.unshift(O),_(A,F,0),A}}function _(b,O,P){b.isRefined=b.name===(O[P]&&O[P].trim()),b.data&&b.data.forEach(function($){_($,O,P+1)})}function c(b,O,P,$){if($=$||0,Array.isArray(O))return b(O,P[$]);if(!O.data||O.data.length===0)return O;var T=O.data.map(function(x){return c(b,x,P,$+1)}),A=b(T,P[$]),B=t({data:A},O);return B}p.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function g(b,O){return O.sort(b)}function v(b,O){var P=[],$=[],T=O.hide||[],A=O.order||[],B=A.reduce(function(F,N,D){return F[N]=D,F},{});b.forEach(function(F){var N=F.path||F.name,D=T.indexOf(N)>-1;!D&&B[N]!==void 0?P[B[N]]=F:D||$.push(F)}),P=P.filter(function(F){return F});var x=O.sortRemainingBy,I;return x==="hidden"?P:(x==="alpha"?I=[["path","name"],["asc","asc"]]:I=[["count"],["desc"]],P.concat(o($,I[0],I[1])))}function S(b,O){return b.renderingContent&&b.renderingContent.facetOrdering&&b.renderingContent.facetOrdering.values&&b.renderingContent.facetOrdering.values[O]}p.prototype.getFacetValues=function(b,O){var P=y(this,b);if(P){var $=t(O,{sortBy:p.DEFAULT_SORT,facetOrdering:!(O&&O.sortBy)}),T=this,A;if(Array.isArray(P))A=[b];else{var B=T._state.getHierarchicalFacetByName(P.name);A=B.attributes}return c(function(x,I){var F=S(T,I);if($.facetOrdering&&F)return v(x,F);if(Array.isArray($.sortBy)){var N=a($.sortBy,p.DEFAULT_SORT),D=o(x,N[0],N[1]),Z=F&&F.hide?F.hide:[];if(Z.length>0){var E=[];return D.forEach(function(C){var M=C.path||C.name;Z.indexOf(M)===-1&&E.push(C)}),E}return D}else if(typeof $.sortBy=="function")return g($.sortBy,x);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},P,A)}},p.prototype.getFacetStats=function(b){if(this._state.isConjunctiveFacet(b))return w(this.facets,b);if(this._state.isDisjunctiveFacet(b))return w(this.disjunctiveFacets,b)};function w(b,O){var P=n(b,function($){return $.name===O});return P&&P.stats}p.prototype.getRefinements=function(){var b=this._state,O=this,P=[];return Object.keys(b.facetsRefinements).forEach(function($){b.facetsRefinements[$].forEach(function(T){P.push(R(b,"facet",$,T,O.facets))})}),Object.keys(b.facetsExcludes).forEach(function($){b.facetsExcludes[$].forEach(function(T){P.push(R(b,"exclude",$,T,O.facets))})}),Object.keys(b.disjunctiveFacetsRefinements).forEach(function($){b.disjunctiveFacetsRefinements[$].forEach(function(T){P.push(R(b,"disjunctive",$,T,O.disjunctiveFacets))})}),Object.keys(b.hierarchicalFacetsRefinements).forEach(function($){b.hierarchicalFacetsRefinements[$].forEach(function(T){P.push(j(b,$,T,O.hierarchicalFacets))})}),Object.keys(b.numericRefinements).forEach(function($){var T=b.numericRefinements[$];Object.keys(T).forEach(function(A){T[A].forEach(function(B){P.push({type:"numeric",attributeName:$,name:B,numericValue:B,operator:A})})})}),b.tagRefinements.forEach(function($){P.push({type:"tag",attributeName:"_tags",name:$})}),P};function R(b,O,P,$,T){var A=n(T,function(I){return I.name===P}),B=A&&A.data&&A.data[$]?A.data[$]:0,x=A&&A.exhaustive||!1;return{type:O,attributeName:P,name:$,count:B,exhaustive:x}}function j(b,O,P,$){var T=b.getHierarchicalFacetByName(O),A=b._getHierarchicalFacetSeparator(T),B=P.split(A),x=n($,function(Z){return Z.name===O}),I=B.reduce(function(Z,E){var C=Z&&n(Z.data,function(M){return M.name===E});return C!==void 0?C:Z},x),F=I&&I.count||0,N=I&&I.exhaustive||!1,D=I&&I.path||"";return{type:"hierarchical",attributeName:O,name:D,count:F,exhaustive:N}}return Gi=p,Gi}var Xi,cc;function Yg(){return cc||(cc=1,Xi=function(t){return t.reduce(function(r,n){return r.concat(n)},[])}),Xi}var ea,uc;function Gg(){if(uc)return ea;uc=1;var e=yn(),t=Yg();function r(i,a){var s=[];return Object.keys(i).forEach(function(o){i[o].count<2&&(i[o].indexSum+=100),s.push({objectID:o,avgOfIndices:i[o].indexSum/a})}),s.sort(function(o,u){return o.avgOfIndices>u.avgOfIndices?1:-1})}function n(i,a){var s={};a.forEach(function(f){f.forEach(function(m,d){i.includes(m.objectID)||(s[m.objectID]?s[m.objectID]={indexSum:s[m.objectID].indexSum+d,count:s[m.objectID].count+1}:s[m.objectID]={indexSum:d,count:1})})});var o=r(s,a.length),u=o.reduce(function(f,m){var d=e(t(a),function(h){return h.objectID===m.objectID});return d?f.concat(d):f},[]);return u}return ea=n,ea}var ta,lc;function Of(){return lc||(lc=1,ta="3.26.1"),ta}var ra,fc;function Xg(){if(fc)return ra;fc=1;var e=ko(),t=zg(),r=Fo().escapeFacetValue,n=gf(),i=Do(),a=Lo(),s=Mo(),o=vf(),u=yf(),f=Ug(),m=bf(),d=wf(),h=Gg(),l=Of();function p(c,g,v,S){typeof c.addAlgoliaAgent=="function"&&c.addAlgoliaAgent("JS Helper ("+l+")"),this.setClient(c);var w=v||{};w.index=g,this.state=m.make(w),this.recommendState=new o({params:w.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=S,this._recommendCache={}}n(p,e),p.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},p.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},p.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this},p.prototype.recommend=function(){return this._recommend(),this},p.prototype.getQuery=function(){var c=this.state;return f._getHitsSearchParams(c)},p.prototype.searchOnce=function(c,g){var v=c?this.state.setQueryParameters(c):this.state,S=f._getQueries(v.index,v),w=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:v}),g){this.client.search(S).then(function(R){w._currentNbQueries--,w._currentNbQueries===0&&w.emit("searchQueueEmpty"),g(null,new d(v,R.results),v)}).catch(function(R){w._currentNbQueries--,w._currentNbQueries===0&&w.emit("searchQueueEmpty"),g(R,null,v)});return}return this.client.search(S).then(function(R){return w._currentNbQueries--,w._currentNbQueries===0&&w.emit("searchQueueEmpty"),{content:new d(v,R.results),state:v,_originalResponse:R}},function(R){throw w._currentNbQueries--,w._currentNbQueries===0&&w.emit("searchQueueEmpty"),R})},p.prototype.findAnswers=function(c){console.warn("[algoliasearch-helper] answers is no longer supported");var g=this.state,v=this.derivedHelpers[0];if(!v)return Promise.resolve([]);var S=v.getModifiedState(g),w=i({attributesForPrediction:c.attributesForPrediction,nbHits:c.nbHits},{params:s(f._getHitsSearchParams(S),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),R="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(R);var j=this.client.initIndex(S.index);if(typeof j.findAnswers!="function")throw new Error(R);return j.findAnswers(S.query,c.queryLanguages,w)},p.prototype.searchForFacetValues=function(c,g,v,S){var w=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",R=typeof this.client.initIndex=="function";if(!w&&!R&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var j=this.state.setQueryParameters(S||{}),b=j.isDisjunctiveFacet(c),O=f.getSearchForFacetQuery(c,g,v,j);this._currentNbQueries++;var P=this,$;w?$=this.client.searchForFacetValues([{indexName:j.index,params:O}]):R?$=this.client.initIndex(j.index).searchForFacetValues(O):(delete O.facetName,$=this.client.search([{type:"facet",facet:c,indexName:j.index,params:O}]).then(function(B){return B.results[0]})),this.emit("searchForFacetValues",{state:j,facet:c,query:g});var T=this.lastResults&&this.lastResults.index===j.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[c]&&this.lastResults.renderingContent.facetOrdering.values[c].hide||[];return $.then(function(B){return P._currentNbQueries--,P._currentNbQueries===0&&P.emit("searchQueueEmpty"),B=Array.isArray(B)?B[0]:B,B.facetHits=B.facetHits.reduce(function(x,I){return T.indexOf(I.value)>-1||(I.escapedValue=r(I.value),I.isRefined=b?j.isDisjunctiveFacetRefined(c,I.escapedValue):j.isFacetRefined(c,I.escapedValue),x.push(I)),x},[]),B},function(A){throw P._currentNbQueries--,P._currentNbQueries===0&&P.emit("searchQueueEmpty"),A})},p.prototype.searchForCompositionFacetValues=function(c,g,v,S){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var w=this.state.setQueryParameters(S||{}),R=w.isDisjunctiveFacet(c);this._currentNbQueries++;var j=this,b;return b=this.client.searchForFacetValues({compositionID:w.index,facetName:c,searchForFacetValuesRequest:{params:{query:g,maxFacetHits:v,searchQuery:f._getCompositionHitsSearchParams(w)}}}),this.emit("searchForFacetValues",{state:w,facet:c,query:g}),b.then(function(P){return j._currentNbQueries--,j._currentNbQueries===0&&j.emit("searchQueueEmpty"),P=P.results[0],P.facetHits.forEach(function($){$.escapedValue=r($.value),$.isRefined=R?w.isDisjunctiveFacetRefined(c,$.escapedValue):w.isFacetRefined(c,$.escapedValue)}),P},function(O){throw j._currentNbQueries--,j._currentNbQueries===0&&j.emit("searchQueueEmpty"),O})},p.prototype.setQuery=function(c){return this._change({state:this.state.resetPage().setQuery(c),isPageReset:!0}),this},p.prototype.clearRefinements=function(c){return this._change({state:this.state.resetPage().clearRefinements(c),isPageReset:!0}),this},p.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},p.prototype.addDisjunctiveFacetRefinement=function(c,g){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.addHierarchicalFacetRefinement=function(c,g){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.addNumericRefinement=function(c,g,v){return this._change({state:this.state.resetPage().addNumericRefinement(c,g,v),isPageReset:!0}),this},p.prototype.addFacetRefinement=function(c,g){return this._change({state:this.state.resetPage().addFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},p.prototype.addFacetExclusion=function(c,g){return this._change({state:this.state.resetPage().addExcludeRefinement(c,g),isPageReset:!0}),this},p.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},p.prototype.addTag=function(c){return this._change({state:this.state.resetPage().addTagRefinement(c),isPageReset:!0}),this},p.prototype.addFrequentlyBoughtTogether=function(c){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(c)}),this},p.prototype.addRelatedProducts=function(c){return this._recommendChange({state:this.recommendState.addRelatedProducts(c)}),this},p.prototype.addTrendingItems=function(c){return this._recommendChange({state:this.recommendState.addTrendingItems(c)}),this},p.prototype.addTrendingFacets=function(c){return this._recommendChange({state:this.recommendState.addTrendingFacets(c)}),this},p.prototype.addLookingSimilar=function(c){return this._recommendChange({state:this.recommendState.addLookingSimilar(c)}),this},p.prototype.removeNumericRefinement=function(c,g,v){return this._change({state:this.state.resetPage().removeNumericRefinement(c,g,v),isPageReset:!0}),this},p.prototype.removeDisjunctiveFacetRefinement=function(c,g){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.removeHierarchicalFacetRefinement=function(c){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(c),isPageReset:!0}),this},p.prototype.removeFacetRefinement=function(c,g){return this._change({state:this.state.resetPage().removeFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},p.prototype.removeFacetExclusion=function(c,g){return this._change({state:this.state.resetPage().removeExcludeRefinement(c,g),isPageReset:!0}),this},p.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},p.prototype.removeTag=function(c){return this._change({state:this.state.resetPage().removeTagRefinement(c),isPageReset:!0}),this},p.prototype.removeFrequentlyBoughtTogether=function(c){return this._recommendChange({state:this.recommendState.removeParams(c)}),this},p.prototype.removeRelatedProducts=function(c){return this._recommendChange({state:this.recommendState.removeParams(c)}),this},p.prototype.removeTrendingItems=function(c){return this._recommendChange({state:this.recommendState.removeParams(c)}),this},p.prototype.removeTrendingFacets=function(c){return this._recommendChange({state:this.recommendState.removeParams(c)}),this},p.prototype.removeLookingSimilar=function(c){return this._recommendChange({state:this.recommendState.removeParams(c)}),this},p.prototype.toggleFacetExclusion=function(c,g){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},p.prototype.toggleRefinement=function(c,g){return this.toggleFacetRefinement(c,g)},p.prototype.toggleFacetRefinement=function(c,g){return this._change({state:this.state.resetPage().toggleFacetRefinement(c,g),isPageReset:!0}),this},p.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},p.prototype.toggleTag=function(c){return this._change({state:this.state.resetPage().toggleTagRefinement(c),isPageReset:!0}),this},p.prototype.nextPage=function(){var c=this.state.page||0;return this.setPage(c+1)},p.prototype.previousPage=function(){var c=this.state.page||0;return this.setPage(c-1)};function y(c){if(c<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(c),isPageReset:!1}),this}p.prototype.setCurrentPage=y,p.prototype.setPage=y,p.prototype.setIndex=function(c){return this._change({state:this.state.resetPage().setIndex(c),isPageReset:!0}),this},p.prototype.setQueryParameter=function(c,g){return this._change({state:this.state.resetPage().setQueryParameter(c,g),isPageReset:!0}),this},p.prototype.setState=function(c){return this._change({state:m.make(c),isPageReset:!1}),this},p.prototype.overrideStateWithoutTriggeringChangeEvent=function(c){return this.state=new m(c),this},p.prototype.hasRefinements=function(c){return a(this.state.getNumericRefinements(c))?!0:this.state.isConjunctiveFacet(c)?this.state.isFacetRefined(c):this.state.isDisjunctiveFacet(c)?this.state.isDisjunctiveFacetRefined(c):this.state.isHierarchicalFacet(c)?this.state.isHierarchicalFacetRefined(c):!1},p.prototype.isExcluded=function(c,g){return this.state.isExcludeRefined(c,g)},p.prototype.isDisjunctiveRefined=function(c,g){return this.state.isDisjunctiveFacetRefined(c,g)},p.prototype.hasTag=function(c){return this.state.isTagRefined(c)},p.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},p.prototype.getIndex=function(){return this.state.index};function _(){return this.state.page}return p.prototype.getCurrentPage=_,p.prototype.getPage=_,p.prototype.getTags=function(){return this.state.tagRefinements},p.prototype.getRefinements=function(c){var g=[];if(this.state.isConjunctiveFacet(c)){var v=this.state.getConjunctiveRefinements(c);v.forEach(function(j){g.push({value:j,type:"conjunctive"})});var S=this.state.getExcludeRefinements(c);S.forEach(function(j){g.push({value:j,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(c)){var w=this.state.getDisjunctiveRefinements(c);w.forEach(function(j){g.push({value:j,type:"disjunctive"})})}var R=this.state.getNumericRefinements(c);return Object.keys(R).forEach(function(j){var b=R[j];g.push({value:b,operator:j,type:"numeric"})}),g},p.prototype.getNumericRefinement=function(c,g){return this.state.getNumericRefinement(c,g)},p.prototype.getHierarchicalFacetBreadcrumb=function(c){return this.state.getHierarchicalFacetBreadcrumb(c)},p.prototype._search=function(c){var g=this.state,v=[],S=[];c.onlyWithDerivedHelpers||(S=f._getQueries(g.index,g),v.push({state:g,queriesCount:S.length,helper:this}),this.emit("search",{state:g,results:this.lastResults}));var w=this.derivedHelpers.map(function(b){var O=b.getModifiedState(g),P=O.index?f._getQueries(O.index,O):[];return v.push({state:O,queriesCount:P.length,helper:b}),b.emit("search",{state:O,results:b.lastResults}),P}),R=Array.prototype.concat.apply(S,w),j=this._queryId++;if(this._currentNbQueries++,!R.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,v,j));try{this.client.search(R).then(this._dispatchAlgoliaResponse.bind(this,v,j)).catch(this._dispatchAlgoliaError.bind(this,j))}catch(b){this.emit("error",{error:b})}},p.prototype._runComposition=function(){var c=this.state,g=[],v=[],S=this.derivedHelpers.map(function(b){var O=b.getModifiedState(c),P=f._getCompositionQueries(O);return g.push({state:O,queriesCount:P.length,helper:b}),b.emit("search",{state:O,results:b.lastResults}),P}),w=Array.prototype.concat.apply(v,S),R=this._queryId++;if(this._currentNbQueries++,!w.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,g,R));if(w.length>1)throw new Error("Only one query is allowed when using a composition.");var j=w[0];try{this.client.search(j).then(this._dispatchAlgoliaResponse.bind(this,g,R)).catch(this._dispatchAlgoliaError.bind(this,R))}catch(b){this.emit("error",{error:b})}},p.prototype._recommend=function(){var c=this.state,g=this.recommendState,v=this.getIndex(),S=[{state:g,index:v,helper:this}],w=g.params.map(function(P){return P.$$id});this.emit("fetch",{recommend:{state:g,results:this.lastRecommendResults}});var R=this._recommendCache,j=this.derivedHelpers.map(function(P){var $=P.getModifiedState(c).index;if(!$)return[];var T=P.getModifiedRecommendState(new o);return S.push({state:T,index:$,helper:P}),w=Array.prototype.concat.apply(w,T.params.map(function(A){return A.$$id})),P.emit("fetch",{recommend:{state:T,results:P.lastRecommendResults}}),T._buildQueries($,R)}),b=Array.prototype.concat.apply(this.recommendState._buildQueries(v,R),j);if(b.length!==0){if(b.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var O=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(b).then(this._dispatchRecommendResponse.bind(this,O,S,w)).catch(this._dispatchRecommendError.bind(this,O))}catch(P){this.emit("error",{error:P})}}},p.prototype._dispatchAlgoliaResponse=function(c,g,v){var S=this;if(!(g<this._lastQueryIdReceived)){this._currentNbQueries-=g-this._lastQueryIdReceived,this._lastQueryIdReceived=g,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var w=v.results.slice(),R=Object.keys(v).reduce(function(j,b){return b!=="results"&&(j[b]=v[b]),j},{});Object.keys(R).length<=0&&(R=void 0),c.forEach(function(j){var b=j.state,O=j.queriesCount,P=j.helper,$=w.splice(0,O);if(!b.index){P.emit("result",{results:null,state:b});return}P.lastResults=new d(b,$,S._searchResultsOptions),R!==void 0&&(P.lastResults._rawContent=R),P.emit("result",{results:P.lastResults,state:b})})}},p.prototype._dispatchRecommendResponse=function(c,g,v,S){if(!(c<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=c-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=c,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var w=this._recommendCache,R={};v.filter(function(b){return w[b]===void 0}).forEach(function(b,O){R[b]||(R[b]=[]),R[b].push(O)}),Object.keys(R).forEach(function(b){var O=R[b],P=S.results[O[0]];if(O.length===1){w[b]=P;return}w[b]=Object.assign({},P,{hits:h(v,O.map(function($){return S.results[$].hits}))})});var j={};v.forEach(function(b){j[b]=w[b]}),g.forEach(function(b){var O=b.state,P=b.helper;if(!b.index){P.emit("recommend:result",{results:null,state:O});return}P.lastRecommendResults=new u(O,j),P.emit("recommend:result",{recommend:{results:P.lastRecommendResults,state:O}})})}},p.prototype._dispatchAlgoliaError=function(c,g){c<this._lastQueryIdReceived||(this._currentNbQueries-=c-this._lastQueryIdReceived,this._lastQueryIdReceived=c,this.emit("error",{error:g}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))},p.prototype._dispatchRecommendError=function(c,g){c<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=c-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=c,this.emit("error",{error:g}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))},p.prototype.containsRefinement=function(c,g,v,S){return c||g.length!==0||v.length!==0||S.length!==0},p.prototype._hasDisjunctiveRefinements=function(c){return this.state.disjunctiveRefinements[c]&&this.state.disjunctiveRefinements[c].length>0},p.prototype._change=function(c){var g=c.state,v=c.isPageReset;g!==this.state&&(this.state=g,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:v}))},p.prototype._recommendChange=function(c){var g=c.state;g!==this.recommendState&&(this.recommendState=g,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},p.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},p.prototype.setClient=function(c){return this.client===c?this:(typeof c.addAlgoliaAgent=="function"&&c.addAlgoliaAgent("JS Helper ("+l+")"),this.client=c,this)},p.prototype.getClient=function(){return this.client},p.prototype.derive=function(c,g){var v=new t(this,c,g);return this.derivedHelpers.push(v),v},p.prototype.detachDerivedHelper=function(c){var g=this.derivedHelpers.indexOf(c);if(g===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(g,1)},p.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},ra=p,ra}var na,pc;function ev(){if(pc)return na;pc=1;var e=Xg(),t=vf(),r=yf(),n=bf(),i=wf();function a(s,o,u,f){return new e(s,o,u,f)}return a.version=Of(),a.AlgoliaSearchHelper=e,a.SearchParameters=n,a.RecommendParameters=t,a.SearchResults=i,a.RecommendResults=r,na=a,na}var tv=ev();const $e=pi(tv);function rv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dc(Object(r),!0).forEach(function(n){nv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nv(e,t,r){return(t=iv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iv(e){var t=av(e,"string");return Nr(t)=="symbol"?t:t+""}function av(e,t){if(Nr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t){return cv(e)||sv(e,t)||Pf(e,t)||ov()}function ov(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sv(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function cv(e){if(Array.isArray(e))return e}function uv(e){return pv(e)||fv(e)||Pf(e)||lv()}function lv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pf(e,t){if(e){if(typeof e=="string")return qa(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qa(e,t):void 0}}function fv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pv(e){if(Array.isArray(e))return qa(e)}function qa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var jf="2.17.2",dv="https://cdn.jsdelivr.net/npm/search-insights@".concat(jf,"/dist/search-insights.min.js");function mc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,a=i===void 0?!1:i,s=e.$$automatic,o=s===void 0?!1:s,u=t;!t&&t!==null&&Ge(function(m){var d=m.window,h=d.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(u=d[h]),u||(d.AlgoliaAnalyticsObject=h,d[h]||(d[h]=function(){d[h].queue||(d[h].queue=[]);for(var l=arguments.length,p=new Array(l),y=0;y<l;y++)p[y]=arguments[y];d[h].queue.push(p)},d[h].version=jf,d[h].shouldAddScript=!0),u=d[h])});var f=u||le;return function(m){var d=m.instantSearchInstance,h=d.middleware.filter(function(O){return O.instance.$$type==="ais.insights"&&O.instance.$$internal}).map(function(O){return O.creator});d.unuse.apply(d,uv(h));var l=za(d.client),p=ct(l,2),y=p[0],_=p[1],c=void 0,g=void 0,v=void 0,S=f.queue;if(Array.isArray(S)){var w=["setUserToken","init"].map(function(O){var P=Rr(S.slice().reverse(),function(A){var B=ct(A,1),x=B[0];return x===O})||[],$=ct(P,2),T=$[1];return T}),R=ct(w,2);g=R[0],c=R[1]}f("getUserToken",null,function(O,P){v=gc(P)}),(r||!hc(f))&&f("init",jt({appId:y,apiKey:_,partial:!0},r));var j,b;return{$$type:"ais.insights",$$internal:a,$$automatic:o,onStateChange:function(){},subscribe:function(){if(f.shouldAddScript){var P="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var $=document.createElement("script");$.async=!0,$.src=dv,$.onerror=function(){d.emit("error",new Error(P))},document.body.appendChild($),f.shouldAddScript=!1}catch{f.shouldAddScript=!1,d.emit("error",new Error(P))}}},started:function(){f("addAlgoliaAgent","insights-middleware"),b=d.mainHelper;var P=f.queue;if(Array.isArray(P)){var $=["setUserToken","init"].map(function(z){var q=Rr(P.slice().reverse(),function(J){var ee=ct(J,1),ce=ee[0];return ce===z})||[],W=ct(q,2),Q=W[1];return Q}),T=ct($,2);g=T[0],c=T[1]}j=mv(d),o||b.overrideStateWithoutTriggeringChangeEvent(jt(jt({},b.state),{},{clickAnalytics:!0})),a||d.scheduleSearch();var A=function(q){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Q=gc(q);if(!Q)return;var J=b.state.userToken;function ee(){b.overrideStateWithoutTriggeringChangeEvent(jt(jt({},b.state),{},{userToken:Q})),J&&J!==q&&d.scheduleSearch()}W?ee():setTimeout(ee,0)};function B(z){A(z,!0),f("setUserToken",z)}var x=void 0,I=hf();if(I)x=I;else{var F="anonymous-".concat(rv());x=F}var N,D=j.userToken;if(r!=null&&r.userToken&&(N=r.userToken),N)B(N);else if(D)B(D);else if(v)B(v);else if(g)B(g);else if(x){var Z;if(B(x),r!=null&&r.useCookie||(Z=c)!==null&&Z!==void 0&&Z.useCookie){var E;hv(x,r?.cookieDuration||((E=c)===null||E===void 0?void 0:E.cookieDuration))}}f("onUserTokenChange",function(z){return A(z,!0)},{immediate:!0});var C=f;hc(f)&&(C=function(q,W){var Q=za(d.client),J=ct(Q,2),ee=J[0],ce=J[1],Re={headers:{"X-Algolia-Application-Id":ee,"X-Algolia-API-Key":ce}};return f(q,W,Re)});var M=new Set,U;d.mainHelper.derivedHelpers[0].on("result",function(z){var q=z.results;q&&(!q.queryID||q.queryID!==U)&&(U=q.queryID,M.clear())}),d.sendEventToInsights=function(z){if(n)n(z,C);else if(z.insightsMethod){if(z.insightsMethod==="viewedObjectIDs"){var q=z.payload,W=q.objectIDs.filter(function(Q){return!M.has(Q)});if(W.length===0)return;W.forEach(function(Q){return M.add(Q)}),q.objectIDs=W}z.payload.algoliaSource=["instantsearch"],o&&z.payload.algoliaSource.push("instantsearch-automatic"),z.eventModifier==="internal"&&z.payload.algoliaSource.push("instantsearch-internal"),C(z.insightsMethod,z.payload)}}},unsubscribe:function(){f("onUserTokenChange",void 0),d.sendEventToInsights=le,b&&j&&(b.overrideStateWithoutTriggeringChangeEvent(jt(jt({},b.state),j)),d.scheduleSearch())}}}}function mv(e){var t,r,n=((t=e._initialResults)===null||t===void 0||(r=t[e.indexName])===null||r===void 0?void 0:r.state)||{},i=e.mainHelper.state;return{userToken:n.userToken||i.userToken,clickAnalytics:n.clickAnalytics||i.clickAnalytics}}function hv(e,t){var r=2592e6,n=new Date;n.setTime(n.getTime()+(t||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function hc(e){var t=(e.version||"").split(".").map(Number),r=ct(t,2),n=r[0],i=r[1],a=n>=3,s=n===2&&i>=6,o=n===1&&i>=10;return a||s||o}function gc(e){if(e)return typeof e=="number"?e.toString():e}function Rf(e,t,r){var n=gr(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var o=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&Rf(i.getWidgets(),t,r)})}function gv(){return Ge(function(e){var t,r,n=e.window;return((t=n.navigator)===null||t===void 0||(r=t.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function vv(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,r=t===void 0?!1:t;return function(n){var i=n.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),o=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){a.ua=of(i.client),Rf(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(f){return a.widgets.push({middleware:!0,type:f.instance.$$type,internal:f.instance.$$internal})}),s.content=JSON.stringify(a),o.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var ia,vc;function zo(){if(vc)return ia;vc=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return ia={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},ia}var aa,yc;function Ef(){if(yc)return aa;yc=1;var e=zo(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=(function(){for(var y=[],_=0;_<256;++_)y.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return y})(),i=function(_){for(;_.length>1;){var c=_.pop(),g=c.obj[c.prop];if(r(g)){for(var v=[],S=0;S<g.length;++S)typeof g[S]<"u"&&v.push(g[S]);c.obj[c.prop]=v}}},a=function(_,c){for(var g=c&&c.plainObjects?Object.create(null):{},v=0;v<_.length;++v)typeof _[v]<"u"&&(g[v]=_[v]);return g},s=function y(_,c,g){if(!c)return _;if(typeof c!="object"){if(r(_))_.push(c);else if(_&&typeof _=="object")(g&&(g.plainObjects||g.allowPrototypes)||!t.call(Object.prototype,c))&&(_[c]=!0);else return[_,c];return _}if(!_||typeof _!="object")return[_].concat(c);var v=_;return r(_)&&!r(c)&&(v=a(_,g)),r(_)&&r(c)?(c.forEach(function(S,w){if(t.call(_,w)){var R=_[w];R&&typeof R=="object"&&S&&typeof S=="object"?_[w]=y(R,S,g):_.push(S)}else _[w]=S}),_):Object.keys(c).reduce(function(S,w){var R=c[w];return t.call(S,w)?S[w]=y(S[w],R,g):S[w]=R,S},v)},o=function(_,c){return Object.keys(c).reduce(function(g,v){return g[v]=c[v],g},_)},u=function(y,_,c){var g=y.replace(/\+/g," ");if(c==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},f=function(_,c,g,v,S){if(_.length===0)return _;var w=_;if(typeof _=="symbol"?w=Symbol.prototype.toString.call(_):typeof _!="string"&&(w=String(_)),g==="iso-8859-1")return escape(w).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var R="",j=0;j<w.length;++j){var b=w.charCodeAt(j);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||S===e.RFC1738&&(b===40||b===41)){R+=w.charAt(j);continue}if(b<128){R=R+n[b];continue}if(b<2048){R=R+(n[192|b>>6]+n[128|b&63]);continue}if(b<55296||b>=57344){R=R+(n[224|b>>12]+n[128|b>>6&63]+n[128|b&63]);continue}j+=1,b=65536+((b&1023)<<10|w.charCodeAt(j)&1023),R+=n[240|b>>18]+n[128|b>>12&63]+n[128|b>>6&63]+n[128|b&63]}return R},m=function(_){for(var c=[{obj:{o:_},prop:"o"}],g=[],v=0;v<c.length;++v)for(var S=c[v],w=S.obj[S.prop],R=Object.keys(w),j=0;j<R.length;++j){var b=R[j],O=w[b];typeof O=="object"&&O!==null&&g.indexOf(O)===-1&&(c.push({obj:w,prop:b}),g.push(O))}return i(c),_},d=function(_){return Object.prototype.toString.call(_)==="[object RegExp]"},h=function(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},l=function(_,c){return[].concat(_,c)},p=function(_,c){if(r(_)){for(var g=[],v=0;v<_.length;v+=1)g.push(c(_[v]));return g}return c(_)};return aa={arrayToObject:a,assign:o,combine:l,compact:m,decode:u,encode:f,isBuffer:h,isRegExp:d,maybeMap:p,merge:s},aa}var oa,bc;function yv(){if(bc)return oa;bc=1;var e=Ef(),t=zo(),r=Object.prototype.hasOwnProperty,n={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,_){return y+"["+_+"]"},repeat:function(y){return y}},i=Array.isArray,a=String.prototype.split,s=Array.prototype.push,o=function(p,y){s.apply(p,i(y)?y:[y])},u=Date.prototype.toISOString,f=t.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:e.encode,encodeValuesOnly:!1,format:f,formatter:t.formatters[f],indices:!1,serializeDate:function(y){return u.call(y)},skipNulls:!1,strictNullHandling:!1},d=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},h=function p(y,_,c,g,v,S,w,R,j,b,O,P,$,T){var A=y;if(typeof w=="function"?A=w(_,A):A instanceof Date?A=b(A):c==="comma"&&i(A)&&(A=e.maybeMap(A,function(z){return z instanceof Date?b(z):z})),A===null){if(g)return S&&!$?S(_,m.encoder,T,"key",O):_;A=""}if(d(A)||e.isBuffer(A)){if(S){var B=$?_:S(_,m.encoder,T,"key",O);if(c==="comma"&&$){for(var x=a.call(String(A),","),I="",F=0;F<x.length;++F)I+=(F===0?"":",")+P(S(x[F],m.encoder,T,"value",O));return[P(B)+"="+I]}return[P(B)+"="+P(S(A,m.encoder,T,"value",O))]}return[P(_)+"="+P(String(A))]}var N=[];if(typeof A>"u")return N;var D;if(c==="comma"&&i(A))D=[{value:A.length>0?A.join(",")||null:void 0}];else if(i(w))D=w;else{var Z=Object.keys(A);D=R?Z.sort(R):Z}for(var E=0;E<D.length;++E){var C=D[E],M=typeof C=="object"&&typeof C.value<"u"?C.value:A[C];if(!(v&&M===null)){var U=i(A)?typeof c=="function"?c(_,C):_:_+(j?"."+C:"["+C+"]");o(N,p(M,U,c,g,v,S,w,R,j,b,O,P,$,T))}}return N},l=function(y){if(!y)return m;if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var _=y.charset||m.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var c=t.default;if(typeof y.format<"u"){if(!r.call(t.formatters,y.format))throw new TypeError("Unknown format option provided.");c=y.format}var g=t.formatters[c],v=m.filter;return(typeof y.filter=="function"||i(y.filter))&&(v=y.filter),{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:m.addQueryPrefix,allowDots:typeof y.allowDots>"u"?m.allowDots:!!y.allowDots,charset:_,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:m.charsetSentinel,delimiter:typeof y.delimiter>"u"?m.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:m.encode,encoder:typeof y.encoder=="function"?y.encoder:m.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:m.encodeValuesOnly,filter:v,format:c,formatter:g,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:m.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:m.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:m.strictNullHandling}};return oa=function(p,y){var _=p,c=l(y),g,v;typeof c.filter=="function"?(v=c.filter,_=v("",_)):i(c.filter)&&(v=c.filter,g=v);var S=[];if(typeof _!="object"||_===null)return"";var w;y&&y.arrayFormat in n?w=y.arrayFormat:y&&"indices"in y?w=y.indices?"indices":"repeat":w="indices";var R=n[w];g||(g=Object.keys(_)),c.sort&&g.sort(c.sort);for(var j=0;j<g.length;++j){var b=g[j];c.skipNulls&&_[b]===null||o(S,h(_[b],b,R,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset))}var O=S.join(c.delimiter),P=c.addQueryPrefix===!0?"?":"";return c.charsetSentinel&&(c.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),O.length>0?P+O:""},oa}var sa,_c;function bv(){if(_c)return sa;_c=1;var e=Ef(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(l,p){return String.fromCharCode(parseInt(p,10))})},a=function(h,l){return h&&typeof h=="string"&&l.comma&&h.indexOf(",")>-1?h.split(","):h},s="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",u=function(l,p){var y={},_=p.ignoreQueryPrefix?l.replace(/^\?/,""):l,c=p.parameterLimit===1/0?void 0:p.parameterLimit,g=_.split(p.delimiter,c),v=-1,S,w=p.charset;if(p.charsetSentinel)for(S=0;S<g.length;++S)g[S].indexOf("utf8=")===0&&(g[S]===o?w="utf-8":g[S]===s&&(w="iso-8859-1"),v=S,S=g.length);for(S=0;S<g.length;++S)if(S!==v){var R=g[S],j=R.indexOf("]="),b=j===-1?R.indexOf("="):j+1,O,P;b===-1?(O=p.decoder(R,n.decoder,w,"key"),P=p.strictNullHandling?null:""):(O=p.decoder(R.slice(0,b),n.decoder,w,"key"),P=e.maybeMap(a(R.slice(b+1),p),function($){return p.decoder($,n.decoder,w,"value")})),P&&p.interpretNumericEntities&&w==="iso-8859-1"&&(P=i(P)),R.indexOf("[]=")>-1&&(P=r(P)?[P]:P),t.call(y,O)?y[O]=e.combine(y[O],P):y[O]=P}return y},f=function(h,l,p,y){for(var _=y?l:a(l,p),c=h.length-1;c>=0;--c){var g,v=h[c];if(v==="[]"&&p.parseArrays)g=[].concat(_);else{g=p.plainObjects?Object.create(null):{};var S=v.charAt(0)==="["&&v.charAt(v.length-1)==="]"?v.slice(1,-1):v,w=parseInt(S,10);!p.parseArrays&&S===""?g={0:_}:!isNaN(w)&&v!==S&&String(w)===S&&w>=0&&p.parseArrays&&w<=p.arrayLimit?(g=[],g[w]=_):S!=="__proto__"&&(g[S]=_)}_=g}return _},m=function(l,p,y,_){if(l){var c=y.allowDots?l.replace(/\.([^.[]+)/g,"[$1]"):l,g=/(\[[^[\]]*])/,v=/(\[[^[\]]*])/g,S=y.depth>0&&g.exec(c),w=S?c.slice(0,S.index):c,R=[];if(w){if(!y.plainObjects&&t.call(Object.prototype,w)&&!y.allowPrototypes)return;R.push(w)}for(var j=0;y.depth>0&&(S=v.exec(c))!==null&&j<y.depth;){if(j+=1,!y.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!y.allowPrototypes)return;R.push(S[1])}return S&&R.push("["+c.slice(S.index)+"]"),f(R,p,y,_)}},d=function(l){if(!l)return n;if(l.decoder!==null&&l.decoder!==void 0&&typeof l.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof l.charset<"u"&&l.charset!=="utf-8"&&l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var p=typeof l.charset>"u"?n.charset:l.charset;return{allowDots:typeof l.allowDots>"u"?n.allowDots:!!l.allowDots,allowPrototypes:typeof l.allowPrototypes=="boolean"?l.allowPrototypes:n.allowPrototypes,arrayLimit:typeof l.arrayLimit=="number"?l.arrayLimit:n.arrayLimit,charset:p,charsetSentinel:typeof l.charsetSentinel=="boolean"?l.charsetSentinel:n.charsetSentinel,comma:typeof l.comma=="boolean"?l.comma:n.comma,decoder:typeof l.decoder=="function"?l.decoder:n.decoder,delimiter:typeof l.delimiter=="string"||e.isRegExp(l.delimiter)?l.delimiter:n.delimiter,depth:typeof l.depth=="number"||l.depth===!1?+l.depth:n.depth,ignoreQueryPrefix:l.ignoreQueryPrefix===!0,interpretNumericEntities:typeof l.interpretNumericEntities=="boolean"?l.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof l.parameterLimit=="number"?l.parameterLimit:n.parameterLimit,parseArrays:l.parseArrays!==!1,plainObjects:typeof l.plainObjects=="boolean"?l.plainObjects:n.plainObjects,strictNullHandling:typeof l.strictNullHandling=="boolean"?l.strictNullHandling:n.strictNullHandling}};return sa=function(h,l){var p=d(l);if(h===""||h===null||typeof h>"u")return p.plainObjects?Object.create(null):{};for(var y=typeof h=="string"?u(h,p):h,_=p.plainObjects?Object.create(null):{},c=Object.keys(y),g=0;g<c.length;++g){var v=c[g],S=m(v,y[v],p,typeof h=="string");_=e.merge(_,S,p)}return e.compact(_)},sa}var ca,Sc;function _v(){if(Sc)return ca;Sc=1;var e=yv(),t=bv(),r=zo();return ca={formats:r,parse:t,stringify:e},ca}var Sv=_v();const wc=pi(Sv);function Ar(e){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}function wv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ov(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$f(n.key),n)}}function Pv(e,t,r){return t&&Ov(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e,t,r){return(t=$f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $f(e){var t=jv(e,"string");return Ar(t)=="symbol"?t:t+""}function jv(e,t){if(Ar(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ar(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oc=function(t){t&&(window.document.title=t)},Rv=(function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,s=t.createURL,o=t.parseURL,u=t.getLocation,f=t.start,m=t.dispose,d=t.push,h=t.cleanUrlOnDispose;wv(this,e),Te(this,"$$type","ais.browser"),Te(this,"windowTitle",void 0),Te(this,"writeDelay",void 0),Te(this,"_createURL",void 0),Te(this,"parseURL",void 0),Te(this,"getLocation",void 0),Te(this,"writeTimer",void 0),Te(this,"_onPopState",void 0),Te(this,"inPopState",!1),Te(this,"isDisposed",!1),Te(this,"latestAcknowledgedHistory",0),Te(this,"_start",void 0),Te(this,"_dispose",void 0),Te(this,"_push",void 0),Te(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=o,this.getLocation=u,this._start=f,this._dispose=m,this._push=d,this._cleanUrlOnDispose=typeof h>"u"?!0:h,Ge(function(l){var p=l.window,y=r.windowTitle&&r.windowTitle(r.read());Oc(y),r.latestAcknowledgedHistory=p.history.length})}return Pv(e,[{key:"read",value:function(){return this.parseURL({qsModule:wc,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;Ge(function(i){var a=i.window,s=n.createURL(r),o=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){Oc(o),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,o||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},Ge(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:wc,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ge(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return Ge(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),e})();function Ev(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,r=t===void 0?function(p){var y=p.qsModule,_=p.routeState,c=p.location,g=c.protocol,v=c.hostname,S=c.port,w=S===void 0?"":S,R=c.pathname,j=c.hash,b=y.stringify(_),O=w===""?"":":".concat(w);return b?"".concat(g,"//").concat(v).concat(O).concat(R,"?").concat(b).concat(j):"".concat(g,"//").concat(v).concat(O).concat(R).concat(j)}:t,n=e.parseURL,i=n===void 0?function(p){var y=p.qsModule,_=p.location;return y.parse(_.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,s=a===void 0?400:a,o=e.windowTitle,u=e.getLocation,f=u===void 0?function(){return Ge(function(p){var y=p.window;return y.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,m=e.start,d=e.dispose,h=e.push,l=e.cleanUrlOnDispose;return new Rv({createURL:r,parseURL:i,writeDelay:s,windowTitle:o,getLocation:f,start:m,dispose:d,push:h,cleanUrlOnDispose:l})}function kr(e){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(e)}var $v=["configure"];function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pc(Object(r),!0).forEach(function(n){Wa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wa(e,t,r){return(t=Cv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cv(e){var t=Tv(e,"string");return kr(t)=="symbol"?t:t+""}function Tv(e,t){if(kr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xv(e,t){if(e==null)return{};var r,n,i=Iv(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Iv(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jc(e){e.configure;var t=xv(e,$v);return t}function Nv(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(r,n){return jn(jn({},r),{},Wa({},n,jc(t[n])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return jn(jn({},r),{},Wa({},n,jc(t[n])))},{})}}}function Fr(e){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}function Rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rc(Object(r),!0).forEach(function(n){Cf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cf(e,t,r){return(t=Av(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Av(e){var t=kv(e,"string");return Fr(t)=="symbol"?t:t+""}function kv(e,t){if(Fr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fv=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.router,n=r===void 0?Ev():r,i=t.stateMapping,a=i===void 0?Nv():i,s=t.$$internal,o=s===void 0?!1:s;return function(u){var f=u.instantSearchInstance;function m(l){var p=f.mainIndex.getWidgets().length===0?f._initialUiState:f.mainIndex.getWidgetUiState({}),y=Object.keys(l).reduce(function(c,g){return Rn(Rn({},c),{},Cf({},g,l[g]))},p),_=a.stateToRoute(y);return n.createURL(_)}f._createURL=m;var d=void 0,h=f._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(p){var y=p.uiState,_=a.stateToRoute(y);(d===void 0||!Jt(d,_))&&(n.write(_),d=_)},subscribe:function(){f._initialUiState=Rn(Rn({},h),a.routeToState(n.read())),n.onUpdate(function(p){f.mainIndex.getWidgets().length>0&&f.setUiState(a.routeToState(p))})},started:function(){var p;(p=n.start)===null||p===void 0||p.call(n)},unsubscribe:function(){n.dispose()}}}};function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}var Dv=["initialSearchParameters"],Lv=["initialRecommendParameters"];function Ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ec(Object(r),!0).forEach(function(n){Zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ec(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zt(e,t,r){return(t=Mv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mv(e){var t=Hv(e,"string");return Dr(t)=="symbol"?t:t+""}function Hv(e,t){if(Dr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tf(e){return Zv(e)||Bv(e)||Uv(e)||zv()}function zv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uv(e,t){if(e){if(typeof e=="string")return Va(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Va(e,t):void 0}}function Bv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zv(e){if(Array.isArray(e))return Va(e)}function Va(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xf(e,t){if(e==null)return{};var r,n,i=qv(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qv(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ur=we({name:"index-widget"});function If(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,a=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:a})),n!==e.recommendState&&(e.recommendState=n)}function lr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(n,i){return Ve(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,t):i.getWidgetState(n,t)},r)}function fr(e,t){var r=t.initialSearchParameters,n=xf(t,Dv);return e.reduce(function(i,a){return!a.getWidgetSearchParameters||Ve(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function $c(e,t){var r=t.initialRecommendParameters,n=xf(t,Lv);return e.reduce(function(i,a){return!Ve(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function Nf(e){var t=e.filter(Ve);t.length!==0&&t.forEach(function(r){var n=r.getHelper();If(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),Nf(r.getWidgets())})}function Af(e){var t=e.filter(Ve);return t.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(Tf(Af(n.getWidgets()))))},[])}var Wv=function(t){if(t===void 0||t.indexName===void 0&&!t.EXPERIMENTAL_isolated)throw new Error(ur("The `indexName` option is required."));var r=t.indexName,n=r===void 0?"":r,i=t.indexId,a=i===void 0?n:i,s=t.EXPERIMENTAL_isolated,o=s===void 0?!1:s,u=[],f={},m=null,d=null,h=null,l=null,p=null,y=!1,_=!1;return{$$type:"ais.index",$$widgetType:"ais.index",_isolated:o,getIndexName:function(){return n},getIndexId:function(){return a},getHelper:function(){return h},getResults:function(){var g;return(g=l)!==null&&g!==void 0&&g.lastResults?(l.lastResults._state=h.state,l.lastResults):null},getResultsForWidget:function(g){var v;return g.dependsOn!=="recommend"||Ve(g)||g.$$id===void 0?this.getResults():(v=h)!==null&&v!==void 0&&v.lastRecommendResults?h.lastRecommendResults[g.$$id]:null},getPreviousState:function(){return p},getScopedResults:function(){var g=this.getParent(),v;return g?v=g.getWidgets():n.length===0?v=this.getWidgets():v=[this],Af(v)},getParent:function(){return o?null:d},createURL:function(g){return typeof g=="function"?m._createURL(Zt({},a,g(f))):m._createURL(Zt({},a,lr(u,{searchParameters:g,helper:h})))},scheduleLocalSearch:zt(function(){if(o){var c;(c=h)===null||c===void 0||c.search()}}),getWidgets:function(){return u},addWidgets:function(g){var v=this;if(!Array.isArray(g))throw new Error(ur("The `addWidgets` method expects an array of widgets."));var S=g.reduce(function(w,R){return w.concat(Array.isArray(R)?R:[R])},[]);if(S.some(function(w){return typeof w.init!="function"&&typeof w.render!="function"}))throw new Error(ur("The widget definition expects a `render` and/or an `init` method."));return S.forEach(function(w){w.parent=v,!Ve(w)&&(m&&w.dependsOn==="recommend"?m._hasRecommendWidget=!0:m?m._hasSearchWidget=!0:w.dependsOn==="recommend"?y=!0:_=!0,Um(w))}),u=u.concat(S),m&&S.length&&(If(h,{state:fr(u,{uiState:f,initialSearchParameters:h.state}),recommendState:$c(u,{uiState:f,initialRecommendParameters:h.recommendState}),_uiState:f}),S.forEach(function(w){if(w.getRenderState){var R=w.getRenderState(m.renderState[v.getIndexId()]||{},gr(m,v,m._initialUiState));ua({renderState:R,instantSearchInstance:m,parent:v})}}),S.forEach(function(w){w.init&&w.init(gr(m,v,m._initialUiState))}),o?this.scheduleLocalSearch():m.scheduleSearch()),this},removeWidgets:function(g){var v=this;if(!Array.isArray(g))throw new Error(ur("The `removeWidgets` method expects an array of widgets."));var S=g.reduce(function(O,P){return O.concat(Array.isArray(P)?P:[P])},[]);if(S.some(function(O){return typeof O.dispose!="function"}))throw new Error(ur("The widget definition expects a `dispose` method."));if(u=u.filter(function(O){return S.indexOf(O)===-1}),u.forEach(function(O){O.parent=void 0,!Ve(O)&&(m&&O.dependsOn==="recommend"?m._hasRecommendWidget=!0:m?m._hasSearchWidget=!0:O.dependsOn==="recommend"?y=!0:_=!0)}),m&&S.length){var w=S.reduce(function(O,P){var $=P.dispose({helper:h,state:O.cleanedSearchState,recommendState:O.cleanedRecommendState,parent:v});return $ instanceof $e.RecommendParameters?O.cleanedRecommendState=$:$&&(O.cleanedSearchState=$),O},{cleanedSearchState:h.state,cleanedRecommendState:h.recommendState}),R=w.cleanedSearchState,j=w.cleanedRecommendState,b=m.future.preserveSharedStateOnUnmount?fr(u,{uiState:f,initialSearchParameters:new $e.SearchParameters({index:this.getIndexName()})}):fr(u,{uiState:lr(u,{searchParameters:R,helper:h}),initialSearchParameters:R});f=lr(u,{searchParameters:b,helper:h}),h.setState(b),h.recommendState=j,u.length&&(o?this.scheduleLocalSearch():m.scheduleSearch())}return this},init:function(g){var v=this,S,w=g.instantSearchInstance,R=g.parent,j=g.uiState;if(h===null){m=w,d=R,f=j[a]||{};var b=w.mainHelper,O=fr(u,{uiState:f,initialSearchParameters:new $e.SearchParameters({index:n})}),P=$c(u,{uiState:f,initialRecommendParameters:new $e.RecommendParameters});h=$e(b.getClient(),O.index,O),h.recommendState=P,h.search=function(){return o?(w.status="loading",v.render({instantSearchInstance:w}),w.compositionID?h.searchWithComposition():h.searchOnlyWithDerivedHelpers()):w.onStateChange?(w.onStateChange({uiState:w.mainIndex.getWidgetUiState({}),setUiState:function(F){return w.setUiState(F,!1)}}),b):b.search()},h.searchWithoutTriggeringOnStateChange=function(){return b.search()};var $=n?h:$e({},"__empty_index__",{}),T=o?$:Vv(R,b);l=T.derive(function(){return Sr.apply(void 0,[b.state].concat(Tf(wg(v))))},function(){return v.getHelper().recommendState});var A=(S=w._initialResults)===null||S===void 0?void 0:S[this.getIndexId()];if(A!=null&&A.results){var B=new $e.SearchResults(new $e.SearchParameters(A.state),A.results);l.lastResults=B,h.lastResults=B}if(A!=null&&A.recommendResults){var x=new $e.RecommendResults(new $e.RecommendParameters({params:A.recommendResults.params}),A.recommendResults.results);l.lastRecommendResults=x,h.lastRecommendResults=x}h.on("change",function(I){var F=I.isPageReset;F&&Nf(u)}),l.on("search",function(){w.scheduleStalledRender()}),l.on("result",function(I){var F=I.results;w.scheduleRender(),h.lastResults=F,p=F?._state}),l.on("recommend:result",function(I){var F=I.recommend;w.scheduleRender(),h.lastRecommendResults=F.results}),u.forEach(function(I){if(I.getRenderState){var F=I.getRenderState(w.renderState[v.getIndexId()]||{},gr(w,v,j));ua({renderState:F,instantSearchInstance:w,parent:v})}}),u.forEach(function(I){I.init&&I.init(gr(w,v,j))}),h.on("change",function(I){var F=I.state,N=I._uiState;f=lr(u,{searchParameters:F,helper:h},N||{}),w.onStateChange||w.onInternalStateChange()}),A&&w.scheduleRender(),y&&(w._hasRecommendWidget=!0),_&&(w._hasSearchWidget=!0)}},render:function(g){var v,S=this,w=g.instantSearchInstance;w.status==="error"&&!w.mainHelper.hasPendingRequests()&&p&&h.setState(p);var R=this.getResults()||(v=l)!==null&&v!==void 0&&v.lastRecommendResults||o&&!n?u:u.filter(function(j){return j.shouldRender});R=R.filter(function(j){return j.shouldRender?j.shouldRender({instantSearchInstance:w}):!0}),R.forEach(function(j){if(j.getRenderState){var b=j.getRenderState(w.renderState[S.getIndexId()]||{},ks(w,S,j));ua({renderState:b,instantSearchInstance:w,parent:S})}}),R.forEach(function(j){j.render&&j.render(ks(w,S,j))})},dispose:function(){var g=this,v,S;u.forEach(function(w){w.dispose&&h&&w.dispose({helper:h,state:h.state,recommendState:h.recommendState,parent:g})}),m=null,d=null,(v=h)===null||v===void 0||v.removeAllListeners(),h=null,(S=l)===null||S===void 0||S.detach(),l=null},getWidgetUiState:function(g){return u.filter(Ve).filter(function(v){return!v._isolated}).reduce(function(v,S){return S.getWidgetUiState(v)},Ye(Ye({},g),{},Zt({},a,Ye(Ye({},g[a]),f))))},getWidgetState:function(g){return this.getWidgetUiState(g)},getWidgetSearchParameters:function(g,v){var S=v.uiState;return fr(u,{uiState:S,initialSearchParameters:g})},shouldRender:function(){return!0},refreshUiState:function(){f=lr(u,{searchParameters:this.getHelper().state,helper:this.getHelper()},f)},setIndexUiState:function(g){var v=typeof g=="function"?g(f):g;m.setUiState(function(S){return Ye(Ye({},S),{},Zt({},a,v))})}}};function ua(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=Ye(Ye({},r.renderState),{},Zt({},i,Ye(Ye({},r.renderState[i]),t)))}function Vv(e,t){for(;e;){if(e._isolated)return e.getHelper();e=e.getParent()}return t}function Lr(e,t){return e.toLocaleString(t)}function Mr(e){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(e)}function Cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cc(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qv(e,t,r){return(t=Kv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kv(e){var t=Jv(e,"string");return Mr(t)=="symbol"?t:t+""}function Jv(e,t){if(Mr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yv(e){var t=e.numberLocale;return{formatNumber:function(n,i){return Lr(Number(i(n)),t)},highlight:function(n,i){try{var a=JSON.parse(n);return i(lf(nt(nt({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(ff(nt(nt({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(pf(nt(nt({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(df(nt(nt({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,o=a.payload;return i(mf(s,nt({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const kf="4.85.2";function Yt(e){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(e)}function Tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tc(Object(r),!0).forEach(function(n){ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Df(n.key),n)}}function ey(e,t,r){return t&&Xv(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ty(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qa(e,t)}function Qa(e,t){return Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qa(e,t)}function ry(e){var t=Ff();return function(){var r,n=Vn(e);if(t){var i=Vn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ny(this,r)}}function ny(e,t){if(t&&(Yt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ff(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ff=function(){return!!e})()}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(e)}function ne(e,t,r){return(t=Df(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Df(e){var t=iy(e,"string");return Yt(t)=="symbol"?t:t+""}function iy(e,t){if(Yt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var it=we({name:"instantsearch"});function ay(){return"#"}var oy={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},sy=(function(e){ty(r,e);var t=ry(r);function r(n){var i;Gv(this,r),i=t.call(this),ne(te(i),"client",void 0),ne(te(i),"indexName",void 0),ne(te(i),"compositionID",void 0),ne(te(i),"insightsClient",void 0),ne(te(i),"onStateChange",null),ne(te(i),"future",void 0),ne(te(i),"helper",void 0),ne(te(i),"mainHelper",void 0),ne(te(i),"mainIndex",void 0),ne(te(i),"started",void 0),ne(te(i),"templatesConfig",void 0),ne(te(i),"renderState",{}),ne(te(i),"_stalledSearchDelay",void 0),ne(te(i),"_searchStalledTimer",void 0),ne(te(i),"_initialUiState",void 0),ne(te(i),"_initialResults",void 0),ne(te(i),"_manuallyResetScheduleSearch",!1),ne(te(i),"_resetScheduleSearch",void 0),ne(te(i),"_createURL",void 0),ne(te(i),"_searchFunction",void 0),ne(te(i),"_mainHelperSearch",void 0),ne(te(i),"_hasSearchWidget",!1),ne(te(i),"_hasRecommendWidget",!1),ne(te(i),"_insights",void 0),ne(te(i),"middleware",[]),ne(te(i),"sendEventToInsights",void 0),ne(te(i),"status","idle"),ne(te(i),"error",void 0),ne(te(i),"scheduleSearch",zt(function(){i.started&&i.mainHelper.search()})),ne(te(i),"scheduleRender",zt(function(){var T,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(T=i.mainHelper)!==null&&T!==void 0&&T.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,A&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:te(i)}),i.emit("render")})),ne(te(i),"onInternalStateChange",zt(function(){var T=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(A){var B=A.instance;B.onStateChange({uiState:T})})})),i.setMaxListeners(100);var a=n.indexName,s=a===void 0?"":a,o=n.compositionID,u=n.numberLocale,f=n.initialUiState,m=f===void 0?{}:f,d=n.routing,h=d===void 0?null:d,l=n.insights,p=l===void 0?void 0:l,y=n.searchFunction,_=n.stalledSearchDelay,c=_===void 0?200:_,g=n.searchClient,v=g===void 0?null:g,S=n.insightsClient,w=S===void 0?null:S,R=n.onStateChange,j=R===void 0?null:R,b=n.future,O=b===void 0?la(la({},oy),n.future||{}):b;if(v===null)throw new Error(it("The `searchClient` option is required."));if(typeof v.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof v.addAlgoliaAgent=="function"&&v.addAlgoliaAgent("instantsearch.js (".concat(kf,")")),w&&typeof w!="function")throw new Error(it("The `insightsClient` option should be a function."));if(i.client=v,i.future=O,i.insightsClient=w,i.indexName=s,i.compositionID=o,i.helper=null,i.mainHelper=null,i.mainIndex=Wv({indexName:i.compositionID||i.indexName}),i.onStateChange=j,i.started=!1,i.templatesConfig={helpers:Yv({numberLocale:u}),compileOptions:{}},i._stalledSearchDelay=c,i._searchStalledTimer=null,i._createURL=ay,i._initialUiState=m,i._initialResults=null,i._insights=p,y&&(i._searchFunction=y),i.sendEventToInsights=le,h){var P=typeof h=="boolean"?{}:h;P.$$internal=!0,i.use(Fv(P))}if(p){var $=typeof p=="boolean"?{}:p;$.$$internal=!0,i.use(mc($))}return gv()&&i.use(vv({$$internal:!0})),i}return ey(r,[{key:"_isSearchStalled",get:(function(){return this.status==="stalled"})},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var u=s.map(function(f){var m=la({$$type:"__unknown__",$$internal:!1,subscribe:le,started:le,unsubscribe:le,onStateChange:le},f({instantSearchInstance:i}));return i.middleware.push({creator:f,instance:m}),m});return this.started&&u.forEach(function(f){f.subscribe(),f.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(o){return a.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!a.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(it("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(this.compositionID&&i.some(function(a){return!Array.isArray(a)&&Ve(a)&&!a._isolated}))throw new Error(it("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(it("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(it("The `start` method has already been called once."));var a=this.mainHelper||$e(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(a.searchForFacetValues=a.searchForCompositionFacetValues.bind(a)),a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?a.searchWithComposition():a.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var s={search:function(){return new Promise(le)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),f=$e(s,u.state.index,u.state);return f.once("search",function(m){var d=m.state;u.overrideStateWithoutTriggeringChangeEvent(d),i._mainHelperSearch()}),f.on("change",function(m){var d=m.state;u.setState(d)}),i._searchFunction(f),a}}if(a.on("error",function(u){var f=u.error;if(!(f instanceof Error)){var m=f;f=Object.keys(m).reduce(function(d,h){return d[h]=m[h],d},new Error(m.message))}f.error=f,i.error=f,i.status="error",i.scheduleRender(!1),i.emit("error",f)}),this.mainHelper=a,this.middleware.forEach(function(u){var f=u.instance;f.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){Yh(this.client,this._initialResults),Bh(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=zt(le),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=o}:zt(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var f=u.instance;f.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(f){var m=f.results;return m?._automaticInsights});u&&i.use(mc({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(it("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:o,setUiState:function(f){Ha(typeof f=="function"?f(o):f,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(Ha(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(it("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(it("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r})(Hg),Ue=function(t){return new sy(t)};Ue.version=kf;Ue.createInfiniteHitsSessionStorageCache=gn(Lg);Ue.highlight=gn(lf);Ue.reverseHighlight=gn(ff);Ue.snippet=gn(pf);Ue.reverseSnippet=gn(df);Ue.insights=mf;Ue.getInsightsAnonymousUserToken=Ag;Object.defineProperty(Ue,"widgets",{get:function(){throw new ReferenceError(`"instantsearch.widgets" are not available from the ES build.

To import the widgets:

import { searchBox } from 'instantsearch.js/es/widgets'`)}});Object.defineProperty(Ue,"connectors",{get:function(){throw new ReferenceError(`"instantsearch.connectors" are not available from the ES build.

To import the connectors:

import { connectSearchBox } from 'instantsearch.js/es/connectors'`)}});Object.defineProperty(Ue,"templates",{get:function(){throw new ReferenceError(`"instantsearch.templates" are not available from the ES build.

To import the templates:

import { carousel } from 'instantsearch.js/es/templates'`)}});function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(null,arguments)}function cy(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Be(e,t){if(e==null)return{};var r,n,i=cy(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(n,i){return Array.isArray(i)?n.concat(i):n.concat([i])},[]).filter(Boolean).join(" ")}function Gt(e){"@babel/helpers - typeof";return Gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(e)}function uy(e,t){if(Gt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ly(e){var t=uy(e,"string");return Gt(t)=="symbol"?t:t+""}function lt(e,t,r){return(t=ly(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fy(e){if(Array.isArray(e))return e}function py(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Ka(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Lf(e,t){if(e){if(typeof e=="string")return Ka(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ka(e,t):void 0}}function dy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function En(e,t){return fy(e)||py(e,t)||Lf(e,t)||dy()}function xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function my(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xc(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hy={damping:.7,stiffness:.05,mass:1.25},gy=70,vy=1e3/60,yy=350,Ln=!1;if(typeof window<"u"){var fa,pa,da;(fa=window.document)===null||fa===void 0||fa.addEventListener("mousedown",function(){Ln=!0}),(pa=window.document)===null||pa===void 0||pa.addEventListener("mouseup",function(){Ln=!1}),(da=window.document)===null||da===void 0||da.addEventListener("click",function(){Ln=!1})}function by(e){var t=e.useCallback,r=e.useEffect,n=e.useMemo,i=e.useRef,a=e.useState;return function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=a(!1),f=En(u,2),m=f[0],d=f[1],h=a(o.initial!==!1),l=En(h,2),p=l[0],y=l[1],_=a(!1),c=En(_,2),g=c[0],v=c[1],S=i(null);S.current=o;var w=i(null),R=i(null),j=t(function(){var x;if(!Ln||typeof window>"u")return!1;var I=window.getSelection();if(!I||!I.rangeCount)return!1;var F=I.getRangeAt(0);return F.commonAncestorContainer.contains(w.current)||((x=w.current)===null||x===void 0?void 0:x.contains(F.commonAncestorContainer))},[]),b=n(function(){var x;return{escapedFromLock:m,isAtBottom:p,resizeDifference:0,accumulated:0,velocity:0,get scrollTop(){var I,F;return(I=(F=w.current)===null||F===void 0?void 0:F.scrollTop)!==null&&I!==void 0?I:0},set scrollTop(I){w.current&&(w.current.scrollTop=I,b.ignoreScrollToTop=w.current.scrollTop)},get targetScrollTop(){return!w.current||!R.current?0:w.current.scrollHeight-1-w.current.clientHeight},get calculatedTargetScrollTop(){var I;if(!w.current||!R.current)return 0;var F=this.targetScrollTop;if(!S.current.targetScrollTop)return F;if(((I=x)===null||I===void 0?void 0:I.targetScrollTop)===F)return x.calculatedScrollTop;var N=Math.max(Math.min(S.current.targetScrollTop(F,{scrollElement:w.current,contentElement:R.current}),F),0);return x={targetScrollTop:F,calculatedScrollTop:N},requestAnimationFrame(function(){x=void 0}),N},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=gy}}},[]),O=t(function(x){b.isAtBottom=x,y(x)},[b]),P=t(function(x){b.escapedFromLock=x,d(x)},[b]),$=t(function(){var x,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof I=="string"&&(I={animation:I}),I.preserveScrollPosition||O(!0);var F=Date.now()+(Number(I.wait)||0),N=ha(S.current,I.animation),D=I,Z=D.ignoreEscapes,E=Z===void 0?!1:Z,C,M=b.calculatedTargetScrollTop;if(I.duration instanceof Promise)I.duration.then(function(){C=Date.now()},function(){C=Date.now()});else{var U;C=F+((U=I.duration)!==null&&U!==void 0?U:0)}var z=function q(){var W=new Promise(requestAnimationFrame).then(function(){var Q;if(!b.isAtBottom)return b.animation=void 0,!1;var J=b.scrollTop,ee=performance.now(),ce=(ee-((Q=b.lastTick)!==null&&Q!==void 0?Q:ee))/vy;if(b.animation||(b.animation={behavior:N,promise:W,ignoreEscapes:E}),b.animation.behavior===N&&(b.lastTick=ee),j()||F>Date.now())return q();if(J<Math.min(M,b.calculatedTargetScrollTop)){var Re;if(((Re=b.animation)===null||Re===void 0?void 0:Re.behavior)===N){if(N==="instant")return b.scrollTop=b.calculatedTargetScrollTop,q();b.velocity=(N.damping*b.velocity+N.stiffness*b.scrollDifference)/N.mass,b.accumulated+=b.velocity*ce,b.scrollTop+=b.accumulated,b.scrollTop!==J&&(b.accumulated=0)}return q()}return C>Date.now()?(M=b.calculatedTargetScrollTop,q()):(b.animation=void 0,b.scrollTop<b.calculatedTargetScrollTop?$({animation:ha(S.current,S.current.resize),ignoreEscapes:E,duration:Math.max(0,C-Date.now())||void 0}):b.isAtBottom)});return W.then(function(Q){return requestAnimationFrame(function(){b.animation||(b.lastTick=void 0,b.velocity=0)}),Q})};return I.wait!==!0&&(b.animation=void 0),((x=b.animation)===null||x===void 0?void 0:x.behavior)===N?b.animation.promise:z()},[O,j,b]),T=t(function(){P(!0),O(!1)},[P,O]),A=t(function(x){var I=x.target;if(I===w.current){var F=b.scrollTop,N=b.ignoreScrollToTop,D=b.lastScrollTop,Z=D===void 0?F:D;b.lastScrollTop=F,b.ignoreScrollToTop=void 0,N&&N>F&&(Z=N),v(b.isNearBottom),setTimeout(function(){var E;if(!(b.resizeDifference||F===N)){if(j()){P(!0),O(!1);return}var C=F>Z,M=F<Z;if((E=b.animation)!==null&&E!==void 0&&E.ignoreEscapes){b.scrollTop=Z;return}M&&(P(!0),O(!1)),C&&P(!1),!b.escapedFromLock&&b.isNearBottom&&O(!0)}},1)}},[P,O,j,b]),B=t(function(x){for(var I,F=x.target,N=x.deltaY,D=F;!["scroll","auto"].includes(getComputedStyle(D).overflow);){if(!D.parentElement)return;D=D.parentElement}D===w.current&&N<0&&w.current.scrollHeight>w.current.clientHeight&&!((I=b.animation)!==null&&I!==void 0&&I.ignoreEscapes)&&(P(!0),O(!1))},[P,O,b]);return r(function(){var x=w.current;if(x)return x.addEventListener("scroll",A,{passive:!0}),x.addEventListener("wheel",B,{passive:!0}),function(){x.removeEventListener("scroll",A),x.removeEventListener("wheel",B)}},[A,B]),r(function(){var x=R.current;if(x){var I,F=new ResizeObserver(function(N){var D,Z=En(N,1),E=Z[0],C=E.contentRect.height,M=C-((D=I)!==null&&D!==void 0?D:C);if(b.resizeDifference=M,b.scrollTop>b.targetScrollTop&&(b.scrollTop=b.targetScrollTop),v(b.isNearBottom),M>=0){var U=ha(S.current,I?S.current.resize:S.current.initial);$({animation:U,wait:!0,preserveScrollPosition:!0,duration:U==="instant"?void 0:yy})}else b.isNearBottom&&(P(!1),O(!0));I=C,requestAnimationFrame(function(){setTimeout(function(){b.resizeDifference===M&&(b.resizeDifference=0)},1)})});return F.observe(x),b.resizeObserver=F,function(){F.disconnect(),b.resizeObserver=void 0}}},[b,v,P,O,$]),{contentRef:R,scrollRef:w,scrollToBottom:$,stopScroll:T,isAtBottom:p||g,isNearBottom:g,escapedFromLock:m,state:b}}}var ma=new Map;function ha(){for(var e=my({},hy),t=!1,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach(function(s){var o,u,f;if(s==="instant"){t=!0;return}Gt(s)==="object"&&(t=!1,e.damping=(o=s.damping)!==null&&o!==void 0?o:e.damping,e.stiffness=(u=s.stiffness)!==null&&u!==void 0?u:e.stiffness,e.mass=(f=s.mass)!==null&&f!==void 0?f:e.mass)});var a=JSON.stringify(e);return ma.has(a)||ma.set(a,Object.freeze(e)),t?"instant":ma.get(a)}function _y(e,t){return e.slice(0,t.length)===t}function Sy(e){if(Array.isArray(e))return Ka(e)}function wy(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oy(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Py(e){return Sy(e)||wy(e)||Lf(e)||Oy()}var jy=["variant","size","iconOnly","className","children"];function At(e){var t=e.createElement;return function(n){var i=n.variant,a=i===void 0?"primary":i,s=n.size,o=s===void 0?"md":s,u=n.iconOnly,f=u===void 0?!1:u,m=n.className,d=n.children,h=Be(n,jy);return t("button",je({type:"button",className:k("ais-Button","ais-Button--".concat(a),"ais-Button--".concat(o),f&&"ais-Button--icon-only",m)},h),d)}}function Ry(e){var t=e.createElement,r=e.Fragment;return function(i){return t(r,null,JSON.stringify(i.item,null,2))}}var Ey=["listRef","nextButtonRef","previousButtonRef","carouselIdRef","canScrollLeft","canScrollRight","setCanScrollLeft","setCanScrollRight","classNames","itemComponent","previousIconComponent","nextIconComponent","headerComponent","showNavigation","items","translations","sendEvent"];function Ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ic(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ic(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Cy=0;function Ty(){return"ais-Carousel-".concat(Cy++)}function xy(e){var t=e.createElement;return t("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},t("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M7.13809 0.744078C7.39844 1.06951 7.39844 1.59715 7.13809 1.92259L2.27616 8L7.13809 14.0774C7.39844 14.4028 7.39844 14.9305 7.13809 15.2559C6.87774 15.5814 6.45563 15.5814 6.19528 15.2559L0.861949 8.58926C0.6016 8.26382 0.6016 7.73618 0.861949 7.41074L6.19528 0.744078C6.45563 0.418641 6.87774 0.418641 7.13809 0.744078Z"}))}function Iy(e){var t=e.createElement;return t("svg",{width:"8",height:"16",viewBox:"0 0 8 16",fill:"none"},t("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M0.861908 15.2559C0.601559 14.9305 0.601559 14.4028 0.861908 14.0774L5.72384 8L0.861908 1.92259C0.601559 1.59715 0.601559 1.06952 0.861908 0.744079C1.12226 0.418642 1.54437 0.418642 1.80472 0.744079L7.13805 7.41074C7.3984 7.73618 7.3984 8.26382 7.13805 8.58926L1.80472 15.2559C1.54437 15.5814 1.12226 15.5814 0.861908 15.2559Z"}))}function Ny(e){var t=e.createElement,r=e.Fragment;return function(i){var a=i.listRef,s=i.nextButtonRef,o=i.previousButtonRef,u=i.carouselIdRef,f=i.canScrollLeft,m=i.canScrollRight,d=i.setCanScrollLeft,h=i.setCanScrollRight,l=i.classNames,p=l===void 0?{}:l,y=i.itemComponent,_=y===void 0?Ry({createElement:t,Fragment:r}):y,c=i.previousIconComponent,g=c===void 0?xy:c,v=i.nextIconComponent,S=v===void 0?Iy:v,w=i.headerComponent,R=i.showNavigation,j=R===void 0?!0:R,b=i.items,O=i.translations,P=i.sendEvent,$=Be(i,Ey),T=$y({listLabel:"Items",nextButtonLabel:"Next",nextButtonTitle:"Next",previousButtonLabel:"Previous",previousButtonTitle:"Previous"},O),A={root:k("ais-Carousel",p.root),list:k("ais-Carousel-list",p.list),item:k("ais-Carousel-item",p.item),navigation:k("ais-Carousel-navigation",p.navigation),navigationNext:k("ais-Carousel-navigation--next",p.navigationNext),navigationPrevious:k("ais-Carousel-navigation--previous",p.navigationPrevious)};function B(){a.current&&(a.current.scrollLeft-=a.current.offsetWidth*.75)}function x(){a.current&&(a.current.scrollLeft+=a.current.offsetWidth*.75)}function I(){if(a.current){var F=a.current.scrollLeft<=0,N=a.current.scrollLeft+a.current.clientWidth>=a.current.scrollWidth;d(!F),h(!N),o.current&&(o.current.hidden=F),s.current&&(s.current.hidden=N)}}return b.length===0?null:t("div",je({},$,{className:k(A.root)}),w&&t(w,{canScrollLeft:f,canScrollRight:m,scrollLeft:B,scrollRight:x}),j&&t("button",{ref:o,title:T.previousButtonTitle,"aria-label":T.previousButtonLabel,hidden:!0,"aria-controls":u.current,className:k(A.navigation,A.navigationPrevious),onClick:function(N){N.preventDefault(),B()}},t(g,{createElement:t})),t("ol",{className:k(A.list),ref:a,tabIndex:0,id:u.current,"aria-roledescription":"carousel","aria-label":T.listLabel,"aria-live":"polite",onScroll:I,onKeyDown:function(N){N.key==="ArrowLeft"?(N.preventDefault(),B()):N.key==="ArrowRight"&&(N.preventDefault(),x())}},b.map(function(F,N){return t("li",{key:F.objectID,className:k(A.item),"aria-roledescription":"slide","aria-label":"".concat(N+1," of ").concat(b.length),onClick:function(){P("click:internal",F,"Item Clicked")},onAuxClick:function(){P("click:internal",F,"Item Clicked")}},t(_,{item:F,sendEvent:P}))})),j&&t("button",{ref:s,title:T.nextButtonTitle,"aria-label":T.nextButtonLabel,"aria-controls":u.current,className:k(A.navigation,A.navigationNext),onClick:function(N){N.preventDefault(),x()}},t(S,{createElement:t})))}}function Mf(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},t("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 1.875c.27 0 .51.173.594.43l1.593 4.844a1.043 1.043 0 0 0 .664.664l4.844 1.593a.625.625 0 0 1 0 1.188l-4.844 1.593a1.043 1.043 0 0 0-.664.664l-1.593 4.844a.625.625 0 0 1-1.188 0l-1.593-4.844a1.042 1.042 0 0 0-.664-.664l-4.844-1.593a.625.625 0 0 1 0-1.188l4.844-1.593a1.042 1.042 0 0 0 .664-.664l1.593-4.844a.625.625 0 0 1 .594-.43ZM9 7.539A2.292 2.292 0 0 1 7.54 9L4.5 10l3.04 1A2.292 2.292 0 0 1 9 12.46l1 3.04 1-3.04A2.293 2.293 0 0 1 12.46 11l3.04-1-3.04-1A2.292 2.292 0 0 1 11 7.54L10 4.5 9 7.54ZM4.167 1.875c.345 0 .625.28.625.625v3.333a.625.625 0 0 1-1.25 0V2.5c0-.345.28-.625.625-.625ZM15.833 13.542c.345 0 .625.28.625.625V17.5a.625.625 0 1 1-1.25 0v-3.333c0-.345.28-.625.625-.625Z",clipRule:"evenodd"}),t("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.875 4.167c0-.346.28-.625.625-.625h3.333a.625.625 0 1 1 0 1.25H2.5a.625.625 0 0 1-.625-.625ZM13.542 15.833c0-.345.28-.625.625-.625H17.5a.625.625 0 0 1 0 1.25h-3.333a.625.625 0 0 1-.625-.625Z",clipRule:"evenodd"}))}function Ay(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m5 12 7-7 7 7"}),t("path",{d:"M12 19V5"}))}function ky(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M5 12h14"}),t("path",{d:"m12 5 7 7-7 7"}))}function Fy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m18 15-6-6-6 6"}))}function Dy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m6 9 6 6 6-6"}))}function Ly(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"}))}function My(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M15 3h6v6"}),t("path",{d:"m21 3-7 7"}),t("path",{d:"m3 21 7-7"}),t("path",{d:"M9 21H3v-6"}))}function Hy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m14 10 7-7"}),t("path",{d:"M20 10h-6V4"}),t("path",{d:"m3 21 7-7"}),t("path",{d:"M4 14h6v6"}))}function zy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("circle",{cx:"12",cy:"12",r:"10"}),t("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}))}function Hf(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),t("path",{d:"M21 3v5h-5"}),t("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),t("path",{d:"M3 21v-5h5"}))}function Uy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),t("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}))}function By(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("circle",{cx:"12",cy:"12",r:"1"}),t("circle",{cx:"12",cy:"5",r:"1"}),t("circle",{cx:"12",cy:"19",r:"1"}))}function Zy(e){var t=e.createElement;return t("svg",{viewBox:"12 12 24 24",role:"status","aria-busy":"true","aria-live":"polite"},t("title",null,"Loading spinner"),t("circle",{cx:"24",cy:"24",r:"11",fill:"none",stroke:"currentColor"}))}function qy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m15 18-6-6 6-6"}))}function Wy(e){var t=e.createElement;return t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},t("path",{d:"m9 18 6-6-6-6"}))}var Vy=["maximized","onToggleMaximize","onClose","onClear","canClear","closeIconComponent","minimizeIconComponent","maximizeIconComponent","titleIconComponent","classNames","translations"];function Nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nc(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ky(e){var t=e.createElement,r=At({createElement:t});return function(i){var a=i.maximized,s=a===void 0?!1:a,o=i.onToggleMaximize,u=i.onClose,f=i.onClear,m=i.canClear,d=m===void 0?!1:m,h=i.closeIconComponent;i.minimizeIconComponent;var l=i.maximizeIconComponent,p=i.titleIconComponent,y=i.classNames,_=y===void 0?{}:y,c=i.translations,g=Be(i,Vy),v=Qy({title:"Chat",minimizeLabel:"Minimize chat",maximizeLabel:"Maximize chat",closeLabel:"Close chat",clearLabel:"Clear"},c),S=s?t(Hy,{createElement:t}):t(My,{createElement:t});return t("div",je({className:k("ais-ChatHeader",_.root,g.className)},g),t("span",{className:k("ais-ChatHeader-title",_.title)},t("span",{className:k("ais-ChatHeader-titleIcon",_.titleIcon)},p?t(p,null):t(Mf,{createElement:t})),v.title),t("div",{className:k("ais-ChatHeader-actions")},f&&t(r,{variant:"ghost",size:"sm",className:k("ais-ChatHeader-clear",_.clear),onClick:f,disabled:!d},v.clearLabel),t(r,{variant:"ghost",size:"sm",iconOnly:!0,className:k("ais-ChatHeader-maximize",_.maximize),onClick:o,"aria-label":s?v.minimizeLabel:v.maximizeLabel},l?t(l,{maximized:s}):S),t(r,{variant:"ghost",size:"sm",iconOnly:!0,className:k("ais-ChatHeader-close",_.close),onClick:u,"aria-label":v.closeLabel,title:v.closeLabel},h?t(h,null):t(Ly,{createElement:t}))))}}var ga={exports:{}},Y={};var Ac;function Jy(){if(Ac)return Y;Ac=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),h=Symbol.iterator;function l(E){return E===null||typeof E!="object"?null:(E=h&&E[h]||E["@@iterator"],typeof E=="function"?E:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,_={};function c(E,C,M){this.props=E,this.context=C,this.refs=_,this.updater=M||p}c.prototype.isReactComponent={},c.prototype.setState=function(E,C){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,C,"setState")},c.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function g(){}g.prototype=c.prototype;function v(E,C,M){this.props=E,this.context=C,this.refs=_,this.updater=M||p}var S=v.prototype=new g;S.constructor=v,y(S,c.prototype),S.isPureReactComponent=!0;var w=Array.isArray;function R(){}var j={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function O(E,C,M){var U=M.ref;return{$$typeof:e,type:E,key:C,ref:U!==void 0?U:null,props:M}}function P(E,C){return O(E.type,C,E.props)}function $(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function T(E){var C={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(M){return C[M]})}var A=/\/+/g;function B(E,C){return typeof E=="object"&&E!==null&&E.key!=null?T(""+E.key):C.toString(36)}function x(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(R,R):(E.status="pending",E.then(function(C){E.status==="pending"&&(E.status="fulfilled",E.value=C)},function(C){E.status==="pending"&&(E.status="rejected",E.reason=C)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function I(E,C,M,U,z){var q=typeof E;(q==="undefined"||q==="boolean")&&(E=null);var W=!1;if(E===null)W=!0;else switch(q){case"bigint":case"string":case"number":W=!0;break;case"object":switch(E.$$typeof){case e:case t:W=!0;break;case m:return W=E._init,I(W(E._payload),C,M,U,z)}}if(W)return z=z(E),W=U===""?"."+B(E,0):U,w(z)?(M="",W!=null&&(M=W.replace(A,"$&/")+"/"),I(z,C,M,"",function(ee){return ee})):z!=null&&($(z)&&(z=P(z,M+(z.key==null||E&&E.key===z.key?"":(""+z.key).replace(A,"$&/")+"/")+W)),C.push(z)),1;W=0;var Q=U===""?".":U+":";if(w(E))for(var J=0;J<E.length;J++)U=E[J],q=Q+B(U,J),W+=I(U,C,M,q,z);else if(J=l(E),typeof J=="function")for(E=J.call(E),J=0;!(U=E.next()).done;)U=U.value,q=Q+B(U,J++),W+=I(U,C,M,q,z);else if(q==="object"){if(typeof E.then=="function")return I(x(E),C,M,U,z);throw C=String(E),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return W}function F(E,C,M){if(E==null)return E;var U=[],z=0;return I(E,U,"","",function(q){return C.call(M,q,z++)}),U}function N(E){if(E._status===-1){var C=E._result;C=C(),C.then(function(M){(E._status===0||E._status===-1)&&(E._status=1,E._result=M)},function(M){(E._status===0||E._status===-1)&&(E._status=2,E._result=M)}),E._status===-1&&(E._status=0,E._result=C)}if(E._status===1)return E._result.default;throw E._result}var D=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Z={map:F,forEach:function(E,C,M){F(E,function(){C.apply(this,arguments)},M)},count:function(E){var C=0;return F(E,function(){C++}),C},toArray:function(E){return F(E,function(C){return C})||[]},only:function(E){if(!$(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Y.Activity=d,Y.Children=Z,Y.Component=c,Y.Fragment=r,Y.Profiler=i,Y.PureComponent=v,Y.StrictMode=n,Y.Suspense=u,Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Y.__COMPILER_RUNTIME={__proto__:null,c:function(E){return j.H.useMemoCache(E)}},Y.cache=function(E){return function(){return E.apply(null,arguments)}},Y.cacheSignal=function(){return null},Y.cloneElement=function(E,C,M){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var U=y({},E.props),z=E.key;if(C!=null)for(q in C.key!==void 0&&(z=""+C.key),C)!b.call(C,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&C.ref===void 0||(U[q]=C[q]);var q=arguments.length-2;if(q===1)U.children=M;else if(1<q){for(var W=Array(q),Q=0;Q<q;Q++)W[Q]=arguments[Q+2];U.children=W}return O(E.type,z,U)},Y.createContext=function(E){return E={$$typeof:s,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:a,_context:E},E},Y.createElement=function(E,C,M){var U,z={},q=null;if(C!=null)for(U in C.key!==void 0&&(q=""+C.key),C)b.call(C,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(z[U]=C[U]);var W=arguments.length-2;if(W===1)z.children=M;else if(1<W){for(var Q=Array(W),J=0;J<W;J++)Q[J]=arguments[J+2];z.children=Q}if(E&&E.defaultProps)for(U in W=E.defaultProps,W)z[U]===void 0&&(z[U]=W[U]);return O(E,q,z)},Y.createRef=function(){return{current:null}},Y.forwardRef=function(E){return{$$typeof:o,render:E}},Y.isValidElement=$,Y.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:N}},Y.memo=function(E,C){return{$$typeof:f,type:E,compare:C===void 0?null:C}},Y.startTransition=function(E){var C=j.T,M={};j.T=M;try{var U=E(),z=j.S;z!==null&&z(M,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(R,D)}catch(q){D(q)}finally{C!==null&&M.types!==null&&(C.types=M.types),j.T=C}},Y.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Y.use=function(E){return j.H.use(E)},Y.useActionState=function(E,C,M){return j.H.useActionState(E,C,M)},Y.useCallback=function(E,C){return j.H.useCallback(E,C)},Y.useContext=function(E){return j.H.useContext(E)},Y.useDebugValue=function(){},Y.useDeferredValue=function(E,C){return j.H.useDeferredValue(E,C)},Y.useEffect=function(E,C){return j.H.useEffect(E,C)},Y.useEffectEvent=function(E){return j.H.useEffectEvent(E)},Y.useId=function(){return j.H.useId()},Y.useImperativeHandle=function(E,C,M){return j.H.useImperativeHandle(E,C,M)},Y.useInsertionEffect=function(E,C){return j.H.useInsertionEffect(E,C)},Y.useLayoutEffect=function(E,C){return j.H.useLayoutEffect(E,C)},Y.useMemo=function(E,C){return j.H.useMemo(E,C)},Y.useOptimistic=function(E,C){return j.H.useOptimistic(E,C)},Y.useReducer=function(E,C,M){return j.H.useReducer(E,C,M)},Y.useRef=function(E){return j.H.useRef(E)},Y.useState=function(E){return j.H.useState(E)},Y.useSyncExternalStore=function(E,C,M){return j.H.useSyncExternalStore(E,C,M)},Y.useTransition=function(){return j.H.useTransition()},Y.version="19.2.3",Y}var kc;function Yy(){return kc||(kc=1,ga.exports=Jy()),ga.exports}var Gy=Yy();function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$t.apply(this,arguments)}const Fc=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),Dc={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},Xy=["style","script","pre"],eb=["src","href","data","formAction","srcDoc","action"],tb=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,rb=/\n{2,}$/,Lc=/^(\s*>[\s\S]*?)(?=\n\n|$)/,nb=/^ *> ?/gm,ib=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,ab=/^ {2,}\n/,ob=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,Mc=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,Hc=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,sb=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,cb=/^(?:\n *)*\n/,ub=/\r\n?/g,lb=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,fb=/^\[\^([^\]]+)]/,pb=/\f/g,db=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,mb=/^\s*?\[(x|\s)\]/,zc=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Uc=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Bc=/^([^\n]+)\n *(=|-)\2{2,} *\n/,va=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,hb=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Zc=/^<!--[\s\S]*?(?:-->)/,gb=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,ya=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,vb=/^\{.*\}$/,yb=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,bb=/^<([^ >]+[:@\/][^ >]+)>/,_b=/-([a-z])?/gi,qc=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Sb=/^[^\n]+(?:  \n|\n{2,})/,wb=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,Ob=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Pb=/^\[([^\]]*)\] ?\[([^\]]*)\]/,jb=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Rb=/\t/g,Eb=/(^ *\||\| *$)/g,$b=/^ *:-+: *$/,Cb=/^ *:-+ *$/,Tb=/^ *-+: *$/,di=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,mi="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",xb=RegExp(`^([*_])\\1${di(1)}${mi}\\1\\1(?!\\1)`),Ib=RegExp(`^([*_])${di(0)}${mi}\\1(?!\\1)`),Nb=RegExp(`^(==)${di(0)}${mi}\\1`),Ab=RegExp(`^(~~)${di(0)}${mi}\\1`),kb=/^(:[a-zA-Z0-9-_]+:)/,Fb=/^\\([^0-9A-Za-z\s])/,Db=/\\([^0-9A-Za-z\s])/g,Lb=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,Mb=/^\n+/,Hb=/^([ \t]*)/,zb=/(?:^|\n)( *)$/,Uo="(?:\\d+\\.)",Bo="(?:[*+-])";function zf(e){return"( *)("+(e===1?Uo:Bo)+") +"}const Uf=zf(1),Bf=zf(2);function Zf(e){return RegExp("^"+(e===1?Uf:Bf))}const Ub=Zf(1),Bb=Zf(2);function qf(e){return RegExp("^"+(e===1?Uf:Bf)+"[^\\n]*(?:\\n(?!\\1"+(e===1?Uo:Bo)+" )[^\\n]*)*(\\n|$)","gm")}const Zb=qf(1),qb=qf(2);function Wf(e){const t=e===1?Uo:Bo;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const Vf=Wf(1),Qf=Wf(2);function Wc(e,t){const r=t===1,n=r?Vf:Qf,i=r?Zb:qb,a=r?Ub:Bb;return{t:s=>a.test(s),o:Xt(function(s,o){const u=zb.exec(o.prevCapture);return u&&(o.list||!o.inline&&!o.simple)?n.exec(s=u[1]+s):null}),i:1,u(s,o,u){const f=r?+s[2]:void 0,m=s[0].replace(rb,`
`).match(i);let d=!1;return{items:m.map(function(h,l){const p=a.exec(h)[0].length,y=RegExp("^ {1,"+p+"}","gm"),_=h.replace(y,"").replace(a,""),c=l===m.length-1,g=_.indexOf(`

`)!==-1||c&&d;d=g;const v=u.inline,S=u.list;let w;u.list=!0,g?(u.inline=!1,w=wr(_)+`

`):(u.inline=!0,w=wr(_));const R=o(w,u);return u.inline=v,u.list=S,R}),ordered:r,start:f}},l:(s,o,u)=>e(s.ordered?"ol":"ul",{key:u.key,start:s.type==="20"?s.start:void 0},s.items.map(function(f,m){return e("li",{key:m},o(f,u))}))}}const Wb=RegExp(`^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Vb=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function Vc(e){return typeof e=="string"}function wr(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function Mn(e,t){return e.startsWith(t)}function Qb(e,t,r){if(Array.isArray(r)){for(let n=0;n<r.length;n++)if(Mn(e,r[n]))return!0;return!1}return r(e,t)}function pr(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Kb(e){return Tb.test(e)?"right":$b.test(e)?"center":Cb.test(e)?"left":null}function Qc(e,t,r,n){const i=r.inTable;r.inTable=!0;let a=[[]],s="";function o(){if(!s)return;const u=a[a.length-1];u.push.apply(u,t(s,r)),s=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((u,f,m)=>{u.trim()==="|"&&(o(),n)?f!==0&&f!==m.length-1&&a.push([]):s+=u}),o(),r.inTable=i,a}function Jb(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(Eb,"").split("|").map(Kb):[],i=e[3]?(function(s,o,u){return s.trim().split(`
`).map(function(f){return Qc(f,o,u,!0)})})(e[3],t,r):[],a=Qc(e[1],t,r,!!i.length);return r.inline=!1,i.length?{align:n,cells:i,header:a,type:"25"}:{children:a,type:"21"}}function Kc(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function Xt(e){return e.inline=1,e}function Rt(e){return Xt(function(t,r){return r.inline?e.exec(t):null})}function ft(e){return Xt(function(t,r){return r.inline||r.simple?e.exec(t):null})}function at(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function $n(e){return Xt(function(t){return e.exec(t)})}const Yb=/(javascript|vbscript|data(?!:image)):/i;function Gb(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(Yb.test(t))return null}catch{return null}return e}function Qe(e){return e&&e.replace(Db,"$1")}function Hn(e,t,r){const n=r.inline||!1,i=r.simple||!1;r.inline=!0,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=i,a}function Xb(e,t,r){const n=r.inline||!1,i=r.simple||!1;r.inline=!1,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=i,a}function e_(e,t,r){const n=r.inline||!1;r.inline=!1;const i=e(t,r);return r.inline=n,i}const ba=(e,t,r)=>({children:Hn(t,e[2],r)});function _a(){return{}}function Sa(){return null}function t_(...e){return e.filter(Boolean).join(" ")}function wa(e,t,r){let n=e;const i=t.split(".");for(;i.length&&(n=n[i[0]],n!==void 0);)i.shift();return n||r}function r_(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?$t({},Dc,t.namedCodesToUnicode):Dc;const r=t.slugify||pr,n=t.sanitizer||Gb,i=t.createElement||Gy.createElement,a=[Lc,Mc,Hc,t.enforceAtxHeadings?Uc:zc,Bc,qc,Vf,Qf],s=[...a,Sb,va,Zc,ya];function o(c,g){for(let v=0;v<c.length;v++)if(c[v].test(g))return!0;return!1}function u(c,g,...v){const S=wa(t.overrides,c+".props",{});return i((function(w,R){const j=wa(R,w);return j?typeof j=="function"||typeof j=="object"&&"render"in j?j:wa(R,w+".component",w):w})(c,t.overrides),$t({},g,S,{className:t_(g?.className,S.className)||void 0}),...v)}function f(c){c=c.replace(db,"");let g=!1;t.forceInline?g=!0:t.forceBlock||(g=jb.test(c)===!1);const v=y(p(g?c:wr(c).replace(Mb,"")+`

`,{inline:g}));for(;Vc(v[v.length-1])&&!v[v.length-1].trim();)v.pop();if(t.wrapper===null)return v;const S=t.wrapper||(g?"span":"div");let w;if(v.length>1||t.forceWrapper)w=v;else{if(v.length===1)return w=v[0],typeof w=="string"?u("span",{key:"outer"},w):w;w=null}return i(S,{key:"outer"},w)}function m(c,g){if(!g||!g.trim())return null;const v=g.match(tb);return v?v.reduce(function(S,w){const R=w.indexOf("=");if(R!==-1){const j=(function($){return $.indexOf("-")!==-1&&$.match(gb)===null&&($=$.replace(_b,function(T,A){return A.toUpperCase()})),$})(w.slice(0,R)).trim(),b=(function($){const T=$[0];return(T==='"'||T==="'")&&$.length>=2&&$[$.length-1]===T?$.slice(1,-1):$})(w.slice(R+1).trim()),O=Fc[j]||j;if(O==="ref")return S;const P=S[O]=(function($,T,A,B){return T==="style"?(function(x){const I=[];let F="",N=!1,D=!1,Z="";if(!x)return I;for(let C=0;C<x.length;C++){const M=x[C];if(M!=='"'&&M!=="'"||N||(D?M===Z&&(D=!1,Z=""):(D=!0,Z=M)),M==="("&&F.endsWith("url")?N=!0:M===")"&&N&&(N=!1),M!==";"||D||N)F+=M;else{const U=F.trim();if(U){const z=U.indexOf(":");if(z>0){const q=U.slice(0,z).trim(),W=U.slice(z+1).trim();I.push([q,W])}}F=""}}const E=F.trim();if(E){const C=E.indexOf(":");if(C>0){const M=E.slice(0,C).trim(),U=E.slice(C+1).trim();I.push([M,U])}}return I})(A).reduce(function(x,[I,F]){return x[I.replace(/(-[a-z])/g,N=>N[1].toUpperCase())]=B(F,$,I),x},{}):eb.indexOf(T)!==-1?B(Qe(A),$,T):(A.match(vb)&&(A=Qe(A.slice(1,A.length-1))),A==="true"||A!=="false"&&A)})(c,j,b,n);typeof P=="string"&&(va.test(P)||ya.test(P))&&(S[O]=f(P.trim()))}else w!=="style"&&(S[Fc[w]||w]=!0);return S},{}):null}const d=[],h={},l={0:{t:[">"],o:at(Lc),i:1,u(c,g,v){const[,S,w]=c[0].replace(nb,"").match(ib);return{alert:S,children:g(w,v)}},l(c,g,v){const S={key:v.key};return c.alert&&(S.className="markdown-alert-"+r(c.alert.toLowerCase(),pr),c.children.unshift({attrs:{},children:[{type:"27",text:c.alert}],noInnerParse:!0,type:"11",tag:"header"})),u("blockquote",S,g(c.children,v))}},1:{t:["  "],o:$n(ab),i:1,u:_a,l:(c,g,v)=>u("br",{key:v.key})},2:{t:["--","__","**","- ","* ","_ "],o:at(ob),i:1,u:_a,l:(c,g,v)=>u("hr",{key:v.key})},3:{t:["    "],o:at(Hc),i:0,u:c=>({lang:void 0,text:Qe(wr(c[0].replace(/^ {4}/gm,"")))}),l:(c,g,v)=>u("pre",{key:v.key},u("code",$t({},c.attrs,{className:c.lang?"lang-"+c.lang:""}),c.text))},4:{t:["```","~~~"],o:at(Mc),i:0,u:c=>({attrs:m("code",c[3]||""),lang:c[2]||void 0,text:c[4],type:"3"})},5:{t:["`"],o:ft(sb),i:3,u:c=>({text:Qe(c[2])}),l:(c,g,v)=>u("code",{key:v.key},c.text)},6:{t:["[^"],o:at(lb),i:0,u:c=>(d.push({footnote:c[2],identifier:c[1]}),{}),l:Sa},7:{t:["[^"],o:Rt(fb),i:1,u:c=>({target:"#"+r(c[1],pr),text:c[1]}),l:(c,g,v)=>u("a",{key:v.key,href:n(c.target,"a","href")},u("sup",{key:v.key},c.text))},8:{t:["[ ]","[x]"],o:Rt(mb),i:1,u:c=>({completed:c[1].toLowerCase()==="x"}),l:(c,g,v)=>u("input",{checked:c.completed,key:v.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:at(t.enforceAtxHeadings?Uc:zc),i:1,u:(c,g,v)=>({children:Hn(g,c[2],v),id:r(c[2],pr),level:c[1].length}),l:(c,g,v)=>u("h"+c.level,{id:c.id,key:v.key},g(c.children,v))},10:{t:c=>{const g=c.indexOf(`
`);return g>0&&g<c.length-1&&(c[g+1]==="="||c[g+1]==="-")},o:at(Bc),i:1,u:(c,g,v)=>({children:Hn(g,c[1],v),level:c[2]==="="?1:2,type:"9"})},11:{t:["<"],o:$n(va),i:1,u(c,g,v){const[,S]=c[3].match(Hb),w=RegExp("^"+S,"gm"),R=c[3].replace(w,""),j=o(s,R)?e_:Hn,b=c[1].toLowerCase(),O=Xy.indexOf(b)!==-1,P=(O?b:c[1]).trim(),$={attrs:m(P,c[2]),noInnerParse:O,tag:P};if(v.inAnchor=v.inAnchor||b==="a",O)$.text=c[3];else{const T=v.inHTML;v.inHTML=!0,$.children=j(g,R,v),v.inHTML=T}return v.inAnchor=!1,$},l:(c,g,v)=>u(c.tag,$t({key:v.key},c.attrs),c.text||(c.children?g(c.children,v):""))},13:{t:["<"],o:$n(ya),i:1,u(c){const g=c[1].trim();return{attrs:m(g,c[2]||""),tag:g}},l:(c,g,v)=>u(c.tag,$t({},c.attrs,{key:v.key}))},12:{t:["<!--"],o:$n(Zc),i:1,u:()=>({}),l:Sa},14:{t:["!["],o:ft(Vb),i:1,u:c=>({alt:Qe(c[1]),target:Qe(c[2]),title:Qe(c[3])}),l:(c,g,v)=>u("img",{key:v.key,alt:c.alt||void 0,title:c.title||void 0,src:n(c.target,"img","src")})},15:{t:["["],o:Rt(Wb),i:3,u:(c,g,v)=>({children:Xb(g,c[1],v),target:Qe(c[2]),title:Qe(c[3])}),l:(c,g,v)=>u("a",{key:v.key,href:n(c.target,"a","href"),title:c.title},g(c.children,v))},16:{t:["<"],o:Rt(bb),i:0,u(c){let g=c[1],v=!1;return g.indexOf("@")!==-1&&g.indexOf("//")===-1&&(v=!0,g=g.replace("mailto:","")),{children:[{text:g,type:"27"}],target:v?"mailto:"+g:g,type:"15"}}},17:{t:(c,g)=>!g.inAnchor&&!t.disableAutoLink&&(Mn(c,"http://")||Mn(c,"https://")),o:Rt(yb),i:0,u:c=>({children:[{text:c[1],type:"27"}],target:c[1],title:void 0,type:"15"})},20:Wc(u,1),33:Wc(u,2),19:{t:[`
`],o:at(cb),i:3,u:_a,l:()=>`
`},21:{o:Xt(function(c,g){if(g.inline||g.simple||g.inHTML&&c.indexOf(`

`)===-1&&g.prevCapture.indexOf(`

`)===-1)return null;let v="",S=0;for(;;){const R=c.indexOf(`
`,S),j=c.slice(S,R===-1?void 0:R+1);if(o(a,j)||(v+=j,R===-1||!j.trim()))break;S=R+1}const w=wr(v);return w===""?null:[v,,w]}),i:3,u:ba,l:(c,g,v)=>u("p",{key:v.key},g(c.children,v))},22:{t:["["],o:Rt(wb),i:0,u:c=>(h[c[1]]={target:c[2],title:c[4]},{}),l:Sa},23:{t:["!["],o:ft(Ob),i:0,u:c=>({alt:c[1]?Qe(c[1]):void 0,ref:c[2]}),l:(c,g,v)=>h[c.ref]?u("img",{key:v.key,alt:c.alt,src:n(h[c.ref].target,"img","src"),title:h[c.ref].title}):null},24:{t:c=>c[0]==="["&&c.indexOf("](")===-1,o:Rt(Pb),i:0,u:(c,g,v)=>({children:g(c[1],v),fallbackChildren:c[0],ref:c[2]}),l:(c,g,v)=>h[c.ref]?u("a",{key:v.key,href:n(h[c.ref].target,"a","href"),title:h[c.ref].title},g(c.children,v)):u("span",{key:v.key},c.fallbackChildren)},25:{t:["|"],o:at(qc),i:1,u:Jb,l(c,g,v){const S=c;return u("table",{key:v.key},u("thead",null,u("tr",null,S.header.map(function(w,R){return u("th",{key:R,style:Kc(S,R)},g(w,v))}))),u("tbody",null,S.cells.map(function(w,R){return u("tr",{key:R},w.map(function(j,b){return u("td",{key:b,style:Kc(S,b)},g(j,v))}))})))}},27:{o:Xt(function(c,g){let v;return Mn(c,":")&&(v=kb.exec(c)),v||Lb.exec(c)}),i:4,u(c){const g=c[0];return{text:g.indexOf("&")===-1?g:g.replace(hb,(v,S)=>t.namedCodesToUnicode[S]||v)}},l:c=>c.text},28:{t:["**","__"],o:ft(xb),i:2,u:(c,g,v)=>({children:g(c[2],v)}),l:(c,g,v)=>u("strong",{key:v.key},g(c.children,v))},29:{t:c=>{const g=c[0];return(g==="*"||g==="_")&&c[1]!==g},o:ft(Ib),i:3,u:(c,g,v)=>({children:g(c[2],v)}),l:(c,g,v)=>u("em",{key:v.key},g(c.children,v))},30:{t:["\\"],o:ft(Fb),i:1,u:c=>({text:c[1],type:"27"})},31:{t:["=="],o:ft(Nb),i:3,u:ba,l:(c,g,v)=>u("mark",{key:v.key},g(c.children,v))},32:{t:["~~"],o:ft(Ab),i:3,u:ba,l:(c,g,v)=>u("del",{key:v.key},g(c.children,v))}};t.disableParsingRawHTML===!0&&(delete l[11],delete l[13]);const p=(function(c){var g=Object.keys(c);function v(S,w){var R=[];if(w.prevCapture=w.prevCapture||"",S.trim())for(;S;)for(var j=0;j<g.length;){var b=g[j],O=c[b];if(!O.t||Qb(S,w,O.t)){var P=O.o(S,w);if(P&&P[0]){S=S.substring(P[0].length);var $=O.u(P,v,w);w.prevCapture+=P[0],$.type||($.type=b),R.push($);break}j++}else j++}return w.prevCapture="",R}return g.sort(function(S,w){return c[S].i-c[w].i||(S<w?-1:1)}),function(S,w){return v((function(R){return R.replace(ub,`
`).replace(pb,"").replace(Rb,"    ")})(S),w)}})(l),y=(function(c,g){return function v(S,w={}){if(Array.isArray(S)){const R=w.key,j=[];let b=!1;for(let O=0;O<S.length;O++){w.key=O;const P=v(S[O],w),$=Vc(P);$&&b?j[j.length-1]+=P:P!==null&&j.push(P),b=$}return w.key=R,j}return(function(R,j,b){const O=c[R.type].l;return g?g(()=>O(R,j,b),R,j,b):O(R,j,b)})(S,v,w)}})(l,t.renderRule),_=f(e);return d.length?u("div",null,_,u("footer",{key:"footer"},d.map(function(c){return u("div",{id:r(c.identifier,pr),key:c.identifier},c.identifier,y(p(c.footnote,{inline:!0})))}))):_}var n_=["classNames","message","side","variant","actions","autoHideActions","leadingComponent","actionsComponent","footerComponent","tools","indexUiState","setIndexUiState","onClose","translations"];function Jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jc(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_(e){var t=e.createElement,r=At({createElement:t});return function(i){var a=i.classNames,s=a===void 0?{}:a,o=i.message,u=i.side,f=u===void 0?"left":u,m=i.variant,d=m===void 0?"subtle":m,h=i.actions,l=h===void 0?[]:h,p=i.autoHideActions,y=p===void 0?!1:p,_=i.leadingComponent,c=i.actionsComponent,g=i.footerComponent,v=i.tools,S=v===void 0?{}:v,w=i.indexUiState,R=i.setIndexUiState,j=i.onClose,b=i.translations,O=Be(i,n_),P=i_({messageLabel:"Message",actionsLabel:"Message actions"},b),$=!!_,T=!!(l.length>0||c),A={root:k("ais-ChatMessage","ais-ChatMessage--".concat(f),"ais-ChatMessage--".concat(d),y&&"ais-ChatMessage--auto-hide-actions",s.root),container:k("ais-ChatMessage-container",s.container),leading:k("ais-ChatMessage-leading",s.leading),content:k("ais-ChatMessage-content",s.content),message:k("ais-ChatMessage-message",s.message),actions:k("ais-ChatMessage-actions",s.actions),footer:k("ais-ChatMessage-footer",s.footer)};function B(x,I){if(x.type==="step-start")return null;if(x.type==="text"){var F=r_(x.text,{createElement:t,disableParsingRawHTML:!0});return t("span",{key:"".concat(o.id,"-").concat(I)},F)}if(_y(x.type,"tool-")){var N=x.type.replace("tool-",""),D=S[N];if(D){var Z=D.layoutComponent,E=x,C=function(U){var z;return(z=D.addToolResult)===null||z===void 0?void 0:z.call(D,{output:U.output,tool:x.type,toolCallId:E.toolCallId})};return Z?t("div",{key:"".concat(o.id,"-").concat(I),className:"ais-ChatMessage-tool"},t(Z,{message:E,indexUiState:w,setIndexUiState:R,addToolResult:C,onClose:j})):null}}return null}return t("article",je({},O,{className:k(A.root,O.className),"aria-label":P.messageLabel}),t("div",{className:k(A.container)},$&&t("div",{className:k(A.leading)},_&&t(_,null)),t("div",{className:k(A.content)},t("div",{className:k(A.message)},o.parts.map(B)),T&&t("div",{className:k(A.actions),"aria-label":P.actionsLabel},c?t(c,{actions:l,message:o}):l.map(function(x,I){return t(r,{key:I,variant:"ghost",size:"sm",iconOnly:!0,className:"ais-ChatMessage-action",disabled:x.disabled,"aria-label":x.title,onClick:function(){var N;return(N=x.onClick)===null||N===void 0?void 0:N.call(x,o)}},x.icon?t(x.icon,null):t(By,{createElement:t}))})),g&&t("div",{className:k(A.footer)},t(g,null)))))}}var o_=["onReload","actions","translations"];function Yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yc(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_(e){var t=e.createElement,r=At({createElement:t});return function(i){var a=i.onReload,s=i.actions,o=i.translations,u=Be(i,o_),f=s_({errorMessage:"Sorry, we are not able to generate a response at the moment. Please retry or contact support.",retryText:"Retry"},o);return t("article",je({className:"ais-ChatMessageError ais-ChatMessage ais-ChatMessage--left ais-ChatMessage--subtle"},u),t("div",{className:"ais-ChatMessage-container"},t("div",{className:"ais-ChatMessage-content"},t("div",{className:"ais-ChatMessage-message"},f.errorMessage),(s||a)&&t("div",{className:"ais-ChatMessage-actions"},s?s.map(function(m,d){return t(r,je({key:d,variant:"ghost",className:"ais-ChatMessage-action"},m),m.children)}):t(r,{variant:"primary",size:"md",className:"ais-ChatMessage-errorAction",onClick:function(){return a?.()}},t(Hf,{createElement:t}),f.retryText)))))}}var u_=["translations"];function Gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gc(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_(e){var t=e.createElement;return function(n){var i=n.translations,a=Be(n,u_),s=l_({loaderText:"Thinking..."},i);return t("article",je({className:"ais-ChatMessageLoader ais-ChatMessage ais-ChatMessage--left ais-ChatMessage--subtle"},a),t("div",{className:"ais-ChatMessage-container"},t("div",{className:"ais-ChatMessage-leading"},t("div",{className:"ais-ChatMessageLoader-spinner"},t(Zy,{createElement:t}))),t("div",{className:"ais-ChatMessage-content"},t("div",{className:"ais-ChatMessage-message"},s.loaderText&&t("div",{className:"ais-ChatMessageLoader-text"},s.loaderText),t("div",{className:"ais-ChatMessageLoader-skeletonWrapper"},t("div",{className:"ais-ChatMessageLoader-skeletonItem"}),t("div",{className:"ais-ChatMessageLoader-skeletonItem"}))))))}}var p_=["classNames","messageClassNames","messageTranslations","messages","messageComponent","loaderComponent","errorComponent","actionsComponent","tools","indexUiState","setIndexUiState","status","hideScrollToBottom","onReload","onClose","translations","userMessageProps","assistantMessageProps","isClearing","onClearTransitionEnd","isScrollAtBottom","scrollRef","contentRef","onScrollToBottom"];function Xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xc(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Kf=function(t){return t.parts.map(function(r){return"text"in r?r.text:""}).join("")},m_=function(t){return Kf(t).trim()!==""},h_=function(t){navigator.clipboard.writeText(Kf(t))};function g_(e){var t=e.createElement,r=a_({createElement:t});return function(i){var a=i.message,s=i.userMessageProps,o=i.assistantMessageProps,u=i.tools,f=i.indexUiState,m=i.setIndexUiState,d=i.onReload,h=i.onClose,l=i.actionsComponent,p=i.classNames,y=i.messageTranslations,_=i.translations,c=[].concat(Py(m_(a)?[{title:_.copyToClipboardLabel,icon:function(){return t(Uy,{createElement:t})},onClick:h_}]:[]),[{title:_.regenerateLabel,icon:function(){return t(Hf,{createElement:t})},onClick:function(w){return d(w.id)}}]),g=a.role==="user"?s:o,v=a.role==="user"?void 0:c;return t(r,je({side:a.role==="user"?"right":"left",variant:a.role==="user"?"neutral":"subtle",message:a,tools:u,indexUiState:f,setIndexUiState:m,onClose:h,actions:v,actionsComponent:l,"data-role":a.role,classNames:p,translations:y},g))}}function v_(e){var t=e.createElement,r=At({createElement:t}),n=g_({createElement:t}),i=f_({createElement:t}),a=c_({createElement:t});return function(o){var u=o.classNames,f=u===void 0?{}:u,m=o.messageClassNames,d=m===void 0?{}:m,h=o.messageTranslations,l=o.messages,p=l===void 0?[]:l,y=o.messageComponent,_=o.loaderComponent,c=o.errorComponent,g=o.actionsComponent,v=o.tools,S=o.indexUiState,w=o.setIndexUiState,R=o.status,j=R===void 0?"ready":R,b=o.hideScrollToBottom,O=b===void 0?!1:b,P=o.onReload,$=o.onClose,T=o.translations,A=o.userMessageProps,B=o.assistantMessageProps,x=o.isClearing,I=x===void 0?!1:x,F=o.onClearTransitionEnd,N=o.isScrollAtBottom,D=o.scrollRef,Z=o.contentRef,E=o.onScrollToBottom,C=Be(o,p_),M=d_({scrollToBottomLabel:"Scroll to bottom",copyToClipboardLabel:"Copy to clipboard",regenerateLabel:"Regenerate"},T),U={root:k("ais-ChatMessages",f.root),scroll:k("ais-ChatMessages-scroll ais-Scrollbar",f.scroll),content:k("ais-ChatMessages-content",f.content),scrollToBottom:k("ais-ChatMessages-scrollToBottom",f.scrollToBottom),scrollToBottomHidden:k("ais-ChatMessages-scrollToBottom--hidden",f.scrollToBottomHidden)},z=y||n,q=_||i,W=c||a;return t("div",je({},C,{className:k(U.root,C.className),role:"log","aria-live":"polite"}),t("div",{className:k(U.scroll),ref:D},t("div",{className:k(U.content,I&&"ais-ChatMessages-content--clearing"),ref:Z,onTransitionEnd:function(J){J.target===J.currentTarget&&J.propertyName==="opacity"&&I&&F?.()}},p.map(function(Q){return t(z,{key:Q.id,message:Q,userMessageProps:A,assistantMessageProps:B,tools:v,indexUiState:S,setIndexUiState:w,onReload:P,actionsComponent:g,onClose:$,translations:M,classNames:d,messageTranslations:h})}),j==="submitted"&&t(q,{translations:{loaderText:M.loaderText}}),j==="error"&&t(W,{onReload:P}))),t(r,{variant:"outline",size:"sm",iconOnly:!0,className:k(U.scrollToBottom,(O||N)&&U.scrollToBottomHidden),onClick:E,"aria-label":M.scrollToBottomLabel,tabIndex:N?-1:0},t(Dy,{createElement:t})))}}var y_=["classNames","headerComponent","footerComponent","value","placeholder","status","disabled","maxRows","autoFocus","translations","onInput","onSubmit","onKeyDown","onStop","promptRef"];function eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eu(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function __(e){var t=e.createElement,r=At({createElement:t}),n=null,i=0,a=0,s=function(){if(n){n.style.height="auto";var f=n.scrollHeight;if(n.getAttribute("data-max-rows")){var m=parseInt(n.getAttribute("data-max-rows")||"0",10);if(m>0){var d=m*i+a;n.style.overflowY=f>d?"auto":"hidden",n.style.height="".concat(Math.min(f,d),"px");return}}n.style.overflowY="hidden",n.style.height="".concat(f,"px")}},o=function(f,m){if(n=f,m&&(m.current=f),f){var d=getComputedStyle(f);i=parseFloat(d.lineHeight);var h=parseFloat(d.paddingTop),l=parseFloat(d.paddingBottom);a=h+l,s()}};return function(f){var m=f.classNames,d=m===void 0?{}:m,h=f.headerComponent,l=f.footerComponent,p=f.value,y=f.placeholder,_=f.status,c=_===void 0?"ready":_,g=f.disabled,v=g===void 0?!1:g,S=f.maxRows,w=S===void 0?5:S,R=f.autoFocus,j=R===void 0?!0:R,b=f.translations,O=f.onInput,P=f.onSubmit,$=f.onKeyDown,T=f.onStop,A=f.promptRef,B=Be(f,y_),x=b_({textareaLabel:"Type your message...",textareaPlaceholder:"Type your message...",emptyMessageTooltip:"Message is empty",stopResponseTooltip:"Stop response",sendMessageTooltip:"Send message",disclaimer:"AI can make mistakes. Verify responses."},b),I={root:k("ais-ChatPrompt",d.root),header:k("ais-ChatPrompt-header",d.header),body:k("ais-ChatPrompt-body",d.body),textarea:k("ais-ChatPrompt-textarea ais-Scrollbar",v&&"ais-ChatPrompt-textarea--disabled",d.textarea),actions:k("ais-ChatPrompt-actions",d.actions,v&&"ais-ChatPrompt-actions--disabled"),submit:k("ais-ChatPrompt-submit",d.submit),footer:k("ais-ChatPrompt-footer",d.footer)},F=typeof p=="string"?p.trim()!=="":!!p,N=c==="submitted"||c==="streaming",D=!F&&!N||v,Z=N?t(zy,{createElement:t}):t(Ay,{createElement:t});return t("form",{className:k(I.root,B.className),onSubmit:function(C){if(C.preventDefault(),N){T?.();return}F&&P?.(C)}},h&&t("div",{className:k(I.header)},t(h,null)),t("div",{className:k(I.body),onClick:function(C){var M;C.target!==n&&((M=n)===null||M===void 0||M.focus())}},t("textarea",je({},B,{ref:function(C){return o(C,A)},"data-max-rows":w,className:k(I.textarea),value:p,placeholder:y||x.textareaPlaceholder,"aria-label":x.textareaLabel,disabled:v,autoFocus:j,onInput:function(C){s(),O?.(C)},onKeyDown:function(C){if($?.(C),C.key==="Enter"&&!C.shiftKey){if(C.preventDefault(),N){T?.();return}if(!F)return;P?.(C)}C.key==="Escape"&&C.currentTarget&&C.currentTarget.blur&&C.currentTarget.blur()}})),t("div",{className:k(I.actions)},t(r,{type:"submit",variant:"primary",size:"sm",iconOnly:!0,className:k(I.submit),disabled:D,"aria-label":(function(){return D?x.emptyMessageTooltip:N?x.stopResponseTooltip:x.sendMessageTooltip})(),"data-status":c},Z))),t("div",{className:k(I.footer)},l?t(l,null):t("div",{className:"ais-ChatPrompt-disclaimer"},x.disclaimer)))}}var S_=["open","onClick","toggleIconComponent","classNames","className"];function w_(e){var t=e.createElement,r=At({createElement:t});return function(i){var a=i.open,s=i.onClick,o=i.toggleIconComponent,u=i.classNames,f=u===void 0?{}:u,m=i.className,d=Be(i,S_),h=a?t(Fy,{createElement:t}):t(Mf,{createElement:t});return t(r,je({variant:"primary",size:"md",iconOnly:!0,className:k("ais-ChatToggleButton",a&&"ais-ChatToggleButton--open",f.root,m),onClick:s},d),o?t(o,{isOpen:a}):h)}}var O_=["open","maximized","headerProps","toggleButtonProps","messagesProps","promptProps","headerComponent","promptComponent","toggleButtonComponent","classNames","className"];function tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tu(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_(e){var t=e.createElement,r=w_({createElement:t}),n=Ky({createElement:t}),i=v_({createElement:t}),a=__({createElement:t});return function(o){var u=o.open,f=o.maximized,m=f===void 0?!1:f,d=o.headerProps,h=o.toggleButtonProps,l=o.messagesProps,p=o.promptProps,y=p===void 0?{}:p,_=o.headerComponent,c=o.promptComponent,g=o.toggleButtonComponent,v=o.classNames,S=v===void 0?{}:v,w=o.className,R=Be(o,O_);return t("div",je({},R,{className:k("ais-Chat",m&&"ais-Chat--maximized",S.root,w)}),t("div",{className:k("ais-Chat-container",u&&"ais-Chat-container--open",m&&"ais-Chat-container--maximized",S.container)},t(_||n,Dt(Dt({},d),{},{classNames:S.header,maximized:m})),t(i,je({},l,{classNames:S.messages,messageClassNames:S.message})),t(c||a,Dt(Dt({},y),{},{classNames:S.prompt}))),t("div",{className:"ais-Chat-toggleButtonWrapper"},t(g||r,Dt(Dt({},h),{},{classNames:S.toggleButton,onClick:function(){var b;if((b=h.onClick)===null||b===void 0||b.call(h),!u){var O,P;(O=y.promptRef)===null||O===void 0||(P=O.current)===null||P===void 0||P.focus()}}}))))}}var j_=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function R_(e){var t=e.createElement;return function(n){var i=n.classNames,a=n.children,s=n.highlightedTagName,o=n.isHighlighted,u=n.nonHighlightedTagName,f=o?s:u;return t(f,{className:o?i.highlighted:i.nonHighlighted},a)}}function E_(e){var t=e.createElement,r=e.Fragment,n=R_({createElement:t});return function(a){var s=a.parts,o=a.highlightedTagName,u=o===void 0?"mark":o,f=a.nonHighlightedTagName,m=f===void 0?"span":f,d=a.separator,h=d===void 0?", ":d,l=a.className,p=a.classNames,y=p===void 0?{}:p,_=Be(a,j_);return t("span",je({},_,{className:k(y.root,l)}),s.map(function(c,g){var v=g===s.length-1;return t(r,{key:g},c.map(function(S,w){return t(n,{key:w,classNames:y,highlightedTagName:u,nonHighlightedTagName:m,isHighlighted:S.isHighlighted},S.value)}),!v&&t("span",{className:y.separator},h))}))}}var $_=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function C_(e){var t=e.createElement;return function(n){var i=n.classNames,a=n.banner;return a.image.urls[0].url?t("aside",{className:k("ais-Hits-banner",i.bannerRoot)},a.link?t("a",{className:k("ais-Hits-banner-link",i.bannerLink),href:a.link.url,target:a.link.target},t("img",{className:k("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):t("img",{className:k("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):null}}function T_(e){var t=e.createElement,r=C_({createElement:t});return function(i){var a=i.classNames,s=a===void 0?{}:a,o=i.hits,u=i.itemComponent,f=i.sendEvent,m=i.emptyComponent,d=i.banner,h=i.bannerComponent,l=Be(i,$_);return t("div",je({},l,{className:k("ais-Hits",s.root,o.length===0&&k("ais-Hits--empty",s.emptyRoot),l.className)}),d&&(h?t(h,{className:k("ais-Hits-banner",s.bannerRoot),banner:d}):t(r,{classNames:s,banner:d})),o.length===0&&m?t(m,null):t("ol",{className:k("ais-Hits-list",s.list)},o.map(function(p,y){return t(u,{key:p.objectID,hit:p,index:y,className:k("ais-Hits-item",s.item),onClick:function(){f("click:internal",p,"Hit Clicked")},onAuxClick:function(){f("click:internal",p,"Hit Clicked")}})})))}}var hi,ue,Jf,Ct,ru,Yf,Gf,Xf,Zo,Ja,Ya,Hr={},ep=[],x_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,gi=Array.isArray;function ut(e,t){for(var r in t)e[r]=t[r];return e}function qo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function H(e,t,r){var n,i,a,s={};for(a in t)a=="key"?n=t[a]:a=="ref"?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?hi.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return zn(e,s,n,i,null)}function zn(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Jf,__i:-1,__u:0};return i==null&&ue.vnode!=null&&ue.vnode(a),a}function Qn(){return{current:null}}function yt(e){return e.children}function gt(e,t){this.props=e,this.context=t}function er(e,t){if(t==null)return e.__?er(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?er(e):null}function tp(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return tp(e)}}function nu(e){(!e.__d&&(e.__d=!0)&&Ct.push(e)&&!Kn.__r++||ru!=ue.debounceRendering)&&((ru=ue.debounceRendering)||Yf)(Kn)}function Kn(){for(var e,t,r,n,i,a,s,o=1;Ct.length;)Ct.length>o&&Ct.sort(Gf),e=Ct.shift(),o=Ct.length,e.__d&&(r=void 0,n=void 0,i=(n=(t=e).__v).__e,a=[],s=[],t.__P&&((r=ut({},n)).__v=n.__v+1,ue.vnode&&ue.vnode(r),Wo(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,a,i??er(n),!!(32&n.__u),s),r.__v=n.__v,r.__.__k[r.__i]=r,ip(a,r,s),n.__e=n.__=null,r.__e!=i&&tp(r)));Kn.__r=0}function rp(e,t,r,n,i,a,s,o,u,f,m){var d,h,l,p,y,_,c,g=n&&n.__k||ep,v=t.length;for(u=I_(r,t,g,u,v),d=0;d<v;d++)(l=r.__k[d])!=null&&(h=l.__i==-1?Hr:g[l.__i]||Hr,l.__i=d,_=Wo(e,l,h,i,a,s,o,u,f,m),p=l.__e,l.ref&&h.ref!=l.ref&&(h.ref&&Vo(h.ref,null,l),m.push(l.ref,l.__c||p,l)),y==null&&p!=null&&(y=p),(c=!!(4&l.__u))||h.__k===l.__k?u=np(l,u,e,c):typeof l.type=="function"&&_!==void 0?u=_:p&&(u=p.nextSibling),l.__u&=-7);return r.__e=y,u}function I_(e,t,r,n,i){var a,s,o,u,f,m=r.length,d=m,h=0;for(e.__k=new Array(i),a=0;a<i;a++)(s=t[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=e.__k[a]=zn(null,s,null,null,null):gi(s)?s=e.__k[a]=zn(yt,{children:s},null,null,null):s.constructor==null&&s.__b>0?s=e.__k[a]=zn(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):e.__k[a]=s,u=a+h,s.__=e,s.__b=e.__b+1,(f=s.__i=N_(s,r,u,d))!=-1&&(d--,(o=r[f])&&(o.__u|=2)),o==null||o.__v==null?(f==-1&&(i>m?h--:i<m&&h++),typeof s.type!="function"&&(s.__u|=4)):f!=u&&(f==u-1?h--:f==u+1?h++:(f>u?h--:h++,s.__u|=4))):e.__k[a]=null;if(d)for(a=0;a<m;a++)(o=r[a])!=null&&(2&o.__u)==0&&(o.__e==n&&(n=er(o)),op(o,o));return n}function np(e,t,r,n){var i,a;if(typeof e.type=="function"){for(i=e.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=e,t=np(i[a],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=er(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function N_(e,t,r,n){var i,a,s,o=e.key,u=e.type,f=t[r],m=f!=null&&(2&f.__u)==0;if(f===null&&o==null||m&&o==f.key&&u==f.type)return r;if(n>(m?1:0)){for(i=r-1,a=r+1;i>=0||a<t.length;)if((f=t[s=i>=0?i--:a++])!=null&&(2&f.__u)==0&&o==f.key&&u==f.type)return s}return-1}function iu(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||x_.test(t)?r:r+"px"}function Cn(e,t,r,n,i){var a,s;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||iu(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||iu(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(Xf,"$1")),s=t.toLowerCase(),t=s in e||t=="onFocusOut"||t=="onFocusIn"?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=Zo,e.addEventListener(t,a?Ya:Ja,a)):e.removeEventListener(t,a?Ya:Ja,a);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function au(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Zo++;else if(t.t<r.u)return;return r(ue.event?ue.event(t):t)}}}function Wo(e,t,r,n,i,a,s,o,u,f){var m,d,h,l,p,y,_,c,g,v,S,w,R,j,b,O,P,$=t.type;if(t.constructor!=null)return null;128&r.__u&&(u=!!(32&r.__u),a=[o=t.__e=r.__e]),(m=ue.__b)&&m(t);e:if(typeof $=="function")try{if(c=t.props,g="prototype"in $&&$.prototype.render,v=(m=$.contextType)&&n[m.__c],S=m?v?v.props.value:m.__:n,r.__c?_=(d=t.__c=r.__c).__=d.__E:(g?t.__c=d=new $(c,S):(t.__c=d=new gt(c,S),d.constructor=$,d.render=k_),v&&v.sub(d),d.state||(d.state={}),d.__n=n,h=d.__d=!0,d.__h=[],d._sb=[]),g&&d.__s==null&&(d.__s=d.state),g&&$.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ut({},d.__s)),ut(d.__s,$.getDerivedStateFromProps(c,d.__s))),l=d.props,p=d.state,d.__v=t,h)g&&$.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),g&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(g&&$.getDerivedStateFromProps==null&&c!==l&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(c,S),t.__v==r.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(c,d.__s,S)===!1){for(t.__v!=r.__v&&(d.props=c,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(T){T&&(T.__=t)}),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(c,d.__s,S),g&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(l,p,y)})}if(d.context=S,d.props=c,d.__P=e,d.__e=!1,R=ue.__r,j=0,g){for(d.state=d.__s,d.__d=!1,R&&R(t),m=d.render(d.props,d.state,d.context),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[]}else do d.__d=!1,R&&R(t),m=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++j<25);d.state=d.__s,d.getChildContext!=null&&(n=ut(ut({},n),d.getChildContext())),g&&!h&&d.getSnapshotBeforeUpdate!=null&&(y=d.getSnapshotBeforeUpdate(l,p)),O=m,m!=null&&m.type===yt&&m.key==null&&(O=ap(m.props.children)),o=rp(e,gi(O)?O:[O],t,r,n,i,a,s,o,u,f),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),_&&(d.__E=d.__=null)}catch(T){if(t.__v=null,u||a!=null)if(T.then){for(t.__u|=u?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;a[a.indexOf(o)]=null,t.__e=o}else{for(P=a.length;P--;)qo(a[P]);Ga(t)}else t.__e=r.__e,t.__k=r.__k,T.then||Ga(t);ue.__e(T,t,r)}else a==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):o=t.__e=A_(r.__e,t,r,n,i,a,s,u,f);return(m=ue.diffed)&&m(t),128&t.__u?void 0:o}function Ga(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Ga)}function ip(e,t,r){for(var n=0;n<r.length;n++)Vo(r[n],r[++n],r[++n]);ue.__c&&ue.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){ue.__e(a,i.__v)}})}function ap(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:gi(e)?e.map(ap):ut({},e)}function A_(e,t,r,n,i,a,s,o,u){var f,m,d,h,l,p,y,_=r.props||Hr,c=t.props,g=t.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(f=0;f<a.length;f++)if((l=a[f])&&"setAttribute"in l==!!g&&(g?l.localName==g:l.nodeType==3)){e=l,a[f]=null;break}}if(e==null){if(g==null)return document.createTextNode(c);e=document.createElementNS(i,g,c.is&&c),o&&(ue.__m&&ue.__m(t,a),o=!1),a=null}if(g==null)_===c||o&&e.data==c||(e.data=c);else{if(a=a&&hi.call(e.childNodes),!o&&a!=null)for(_={},f=0;f<e.attributes.length;f++)_[(l=e.attributes[f]).name]=l.value;for(f in _)if(l=_[f],f!="children"){if(f=="dangerouslySetInnerHTML")d=l;else if(!(f in c)){if(f=="value"&&"defaultValue"in c||f=="checked"&&"defaultChecked"in c)continue;Cn(e,f,null,l,i)}}for(f in c)l=c[f],f=="children"?h=l:f=="dangerouslySetInnerHTML"?m=l:f=="value"?p=l:f=="checked"?y=l:o&&typeof l!="function"||_[f]===l||Cn(e,f,l,_[f],i);if(m)o||d&&(m.__html==d.__html||m.__html==e.innerHTML)||(e.innerHTML=m.__html),t.__k=[];else if(d&&(e.innerHTML=""),rp(t.type=="template"?e.content:e,gi(h)?h:[h],t,r,n,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:r.__k&&er(r,0),o,u),a!=null)for(f=a.length;f--;)qo(a[f]);o||(f="value",g=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[f]||g=="progress"&&!p||g=="option"&&p!=_[f])&&Cn(e,f,p,_[f],i),f="checked",y!=null&&y!=e[f]&&Cn(e,f,y,_[f],i))}return e}function Vo(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){ue.__e(i,r)}}function op(e,t,r){var n,i;if(ue.unmount&&ue.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||Vo(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ue.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&op(n[i],t,r||typeof e.type!="function");r||qo(e.__e),e.__c=e.__=e.__e=void 0}function k_(e,t,r){return this.constructor(e,r)}function Ne(e,t,r){var n,i,a,s;t==document&&(t=document.documentElement),ue.__&&ue.__(e,t),i=(n=!1)?null:t.__k,a=[],s=[],Wo(t,e=t.__k=H(yt,null,[e]),i||Hr,Hr,t.namespaceURI,i?null:t.firstChild?hi.call(t.childNodes):null,a,i?i.__e:t.firstChild,n,s),ip(a,e,s)}hi=ep.slice,ue={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(o){e=o}throw e}},Jf=0,gt.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ut({},this.state),typeof e=="function"&&(e=e(ut({},r),this.props)),e&&ut(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),nu(this))},gt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nu(this))},gt.prototype.render=yt,Ct=[],Yf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Gf=function(e,t){return e.__v.__b-t.__v.__b},Kn.__r=0,Xf=/(PointerCapture)$|Capture$/i,Zo=0,Ja=au(!1),Ya=au(!0);function zr(e){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(e)}function ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ou(Object(r),!0).forEach(function(n){D_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ou(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D_(e,t,r){return(t=L_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_(e){var t=M_(e,"string");return zr(t)=="symbol"?t:t+""}function M_(e,t){if(zr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(e){return B_(e)||U_(e)||z_(e)||H_()}function H_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_(e,t){if(e){if(typeof e=="string")return Xa(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xa(e,t):void 0}}function U_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B_(e){if(Array.isArray(e))return Xa(e)}function Xa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Z_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=li([].concat(su(Object.keys(e||{})),su(Object.keys(t))));return r.reduce(function(n,i){var a=e?e[i]:void 0,s=t[i],o=s!==void 0&&s!==a;return n.templates[i]=o?s:a,n.useCustomCompileOptions[i]=o,n},{templates:{},useCustomCompileOptions:{}})}function Le(e){var t=e.defaultTemplates,r=e.templates,n=e.templatesConfig,i=Z_(t,r);return F_({templatesConfig:n},i)}var Oa={},cu;function q_(){return cu||(cu=1,(function(e){(function(t){var r=/\S/,n=/\"/g,i=/\n/g,a=/\r/g,s=/\\/g,o=/\u2028/,u=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(O,P){var $=O.length,T=0,A=1,B=2,x=T,I=null,F=null,N="",D=[],Z=!1,E=0,C=0,M="{{",U="}}";function z(){N.length>0&&(D.push({tag:"_t",text:new String(N)}),N="")}function q(){for(var J=!0,ee=C;ee<D.length;ee++)if(J=t.tags[D[ee].tag]<t.tags._v||D[ee].tag=="_t"&&D[ee].text.match(r)===null,!J)return!1;return J}function W(J,ee){if(z(),J&&q())for(var ce=C,Re;ce<D.length;ce++)D[ce].text&&((Re=D[ce+1])&&Re.tag==">"&&(Re.indent=D[ce].text.toString()),D.splice(ce,1));else ee||D.push({tag:`
`});Z=!1,C=D.length}function Q(J,ee){var ce="="+U,Re=J.indexOf(ce,ee),Ot=m(J.substring(J.indexOf("=",ee)+1,Re)).split(" ");return M=Ot[0],U=Ot[Ot.length-1],Re+ce.length-1}for(P&&(P=P.split(" "),M=P[0],U=P[1]),E=0;E<$;E++)x==T?d(M,O,E)?(--E,z(),x=A):O.charAt(E)==`
`?W(Z):N+=O.charAt(E):x==A?(E+=M.length-1,F=t.tags[O.charAt(E+1)],I=F?O.charAt(E+1):"_v",I=="="?(E=Q(O,E),x=T):(F&&E++,x=B),Z=E):d(U,O,E)?(D.push({tag:I,n:m(N),otag:M,ctag:U,i:I=="/"?Z-M.length:E+U.length}),N="",E+=U.length-1,x=T,I=="{"&&(U=="}}"?E++:f(D[D.length-1]))):N+=O.charAt(E);return W(Z,!0),D};function f(b){b.n.substr(b.n.length-1)==="}"&&(b.n=b.n.substring(0,b.n.length-1))}function m(b){return b.trim?b.trim():b.replace(/^\s*|\s*$/g,"")}function d(b,O,P){if(O.charAt(P)!=b.charAt(0))return!1;for(var $=1,T=b.length;$<T;$++)if(O.charAt(P+$)!=b.charAt($))return!1;return!0}var h={_t:!0,"\n":!0,$:!0,"/":!0};function l(b,O,P,$){var T=[],A=null,B=null,x=null;for(B=P[P.length-1];b.length>0;){if(x=b.shift(),B&&B.tag=="<"&&!(x.tag in h))throw new Error("Illegal content in < super tag.");if(t.tags[x.tag]<=t.tags.$||p(x,$))P.push(x),x.nodes=l(b,x.tag,P,$);else if(x.tag=="/"){if(P.length===0)throw new Error("Closing tag without opener: /"+x.n);if(A=P.pop(),x.n!=A.n&&!y(x.n,A.n,$))throw new Error("Nesting error: "+A.n+" vs. "+x.n);return A.end=x.i,T}else x.tag==`
`&&(x.last=b.length==0||b[0].tag==`
`);T.push(x)}if(P.length>0)throw new Error("missing closing tag: "+P.pop().n);return T}function p(b,O){for(var P=0,$=O.length;P<$;P++)if(O[P].o==b.n)return b.tag="#",!0}function y(b,O,P){for(var $=0,T=P.length;$<T;$++)if(P[$].c==b&&P[$].o==O)return!0}function _(b){var O=[];for(var P in b)O.push('"'+v(P)+'": function(c,p,t,i) {'+b[P]+"}");return"{ "+O.join(",")+" }"}function c(b){var O=[];for(var P in b.partials)O.push('"'+v(P)+'":{name:"'+v(b.partials[P].name)+'", '+c(b.partials[P])+"}");return"partials: {"+O.join(",")+"}, subs: "+_(b.subs)}t.stringify=function(b,O,P){return"{code: function (c,p,i) { "+t.wrapMain(b.code)+" },"+c(b)+"}"};var g=0;t.generate=function(b,O,P){g=0;var $={code:"",subs:{},partials:{}};return t.walk(b,$),P.asString?this.stringify($,O,P):this.makeTemplate($,O,P)},t.wrapMain=function(b){return'var t=this;t.b(i=i||"");'+b+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(b,O,P){var $=this.makePartials(b);return $.code=new Function("c","p","i",this.wrapMain(b.code)),new this.template($,O,this,P)},t.makePartials=function(b){var O,P={subs:{},partials:b.partials,name:b.name};for(O in P.partials)P.partials[O]=this.makePartials(P.partials[O]);for(O in b.subs)P.subs[O]=new Function("c","p","t","i",b.subs[O]);return P};function v(b){return b.replace(s,"\\\\").replace(n,'\\"').replace(i,"\\n").replace(a,"\\r").replace(o,"\\u2028").replace(u,"\\u2029")}function S(b){return~b.indexOf(".")?"d":"f"}function w(b,O){var P="<"+(O.prefix||""),$=P+b.n+g++;return O.partials[$]={name:b.n,partials:{}},O.code+='t.b(t.rp("'+v($)+'",c,p,"'+(b.indent||"")+'"));',$}t.codegen={"#":function(b,O){O.code+="if(t.s(t."+S(b.n)+'("'+v(b.n)+'",c,p,1),c,p,0,'+b.i+","+b.end+',"'+b.otag+" "+b.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(b.nodes,O),O.code+="});c.pop();}"},"^":function(b,O){O.code+="if(!t.s(t."+S(b.n)+'("'+v(b.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(b.nodes,O),O.code+="};"},">":w,"<":function(b,O){var P={partials:{},code:"",subs:{},inPartial:!0};t.walk(b.nodes,P);var $=O.partials[w(b,O)];$.subs=P.subs,$.partials=P.partials},$:function(b,O){var P={subs:{},code:"",partials:O.partials,prefix:b.n};t.walk(b.nodes,P),O.subs[b.n]=P.code,O.inPartial||(O.code+='t.sub("'+v(b.n)+'",c,p,i);')},"\n":function(b,O){O.code+=j('"\\n"'+(b.last?"":" + i"))},_v:function(b,O){O.code+="t.b(t.v(t."+S(b.n)+'("'+v(b.n)+'",c,p,0)));'},_t:function(b,O){O.code+=j('"'+v(b.text)+'"')},"{":R,"&":R};function R(b,O){O.code+="t.b(t.t(t."+S(b.n)+'("'+v(b.n)+'",c,p,0)));'}function j(b){return"t.b("+b+");"}t.walk=function(b,O){for(var P,$=0,T=b.length;$<T;$++)P=t.codegen[b[$].tag],P&&P(b[$],O);return O},t.parse=function(b,O,P){return P=P||{},l(b,"",[],P.sectionTags||[])},t.cache={},t.cacheKey=function(b,O){return[b,!!O.asString,!!O.disableLambda,O.delimiters,!!O.modelGet].join("||")},t.compile=function(b,O){O=O||{};var P=t.cacheKey(b,O),$=this.cache[P];if($){var T=$.partials;for(var A in T)delete T[A].instance;return $}return $=this.generate(this.parse(this.scan(b,O.delimiters),b,O),b,O),this.cache[P]=$}})(e)})(Oa)),Oa}var Pa={},uu;function W_(){return uu||(uu=1,(function(e){(function(t){t.Template=function(l,p,y,_){l=l||{},this.r=l.code||this.r,this.c=y,this.options=_||{},this.text=p||"",this.partials=l.partials||{},this.subs=l.subs||{},this.buf=""},t.Template.prototype={r:function(l,p,y){return""},v:d,t:m,render:function(p,y,_){return this.ri([p],y||{},_)},ri:function(l,p,y){return this.r(l,p,y)},ep:function(l,p){var y=this.partials[l],_=p[y.name];if(y.instance&&y.base==_)return y.instance;if(typeof _=="string"){if(!this.c)throw new Error("No compiler available.");_=this.c.compile(_,this.options)}if(!_)return null;if(this.partials[l].base=_,y.subs){p.stackText||(p.stackText={});for(key in y.subs)p.stackText[key]||(p.stackText[key]=this.activeSub!==void 0&&p.stackText[this.activeSub]?p.stackText[this.activeSub]:this.text);_=n(_,y.subs,y.partials,this.stackSubs,this.stackPartials,p.stackText)}return this.partials[l].instance=_,_},rp:function(l,p,y,_){var c=this.ep(l,y);return c?c.ri(p,y,_):""},rs:function(l,p,y){var _=l[l.length-1];if(!h(_)){y(l,p,this);return}for(var c=0;c<_.length;c++)l.push(_[c]),y(l,p,this),l.pop()},s:function(l,p,y,_,c,g,v){var S;return h(l)&&l.length===0?!1:(typeof l=="function"&&(l=this.ms(l,p,y,_,c,g,v)),S=!!l,!_&&S&&p&&p.push(typeof l=="object"?l:p[p.length-1]),S)},d:function(l,p,y,_){var c,g=l.split("."),v=this.f(g[0],p,y,_),S=this.options.modelGet,w=null;if(l==="."&&h(p[p.length-2]))v=p[p.length-1];else for(var R=1;R<g.length;R++)c=r(g[R],v,S),c!==void 0?(w=v,v=c):v="";return _&&!v?!1:(!_&&typeof v=="function"&&(p.push(w),v=this.mv(v,p,y),p.pop()),v)},f:function(l,p,y,_){for(var c=!1,g=null,v=!1,S=this.options.modelGet,w=p.length-1;w>=0;w--)if(g=p[w],c=r(l,g,S),c!==void 0){v=!0;break}return v?(!_&&typeof c=="function"&&(c=this.mv(c,p,y)),c):_?!1:""},ls:function(l,p,y,_,c){var g=this.options.delimiters;return this.options.delimiters=c,this.b(this.ct(m(l.call(p,_)),p,y)),this.options.delimiters=g,!1},ct:function(l,p,y){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(l,this.options).render(p,y)},b:function(l){this.buf+=l},fl:function(){var l=this.buf;return this.buf="",l},ms:function(l,p,y,_,c,g,v){var S,w=p[p.length-1],R=l.call(w);return typeof R=="function"?_?!0:(S=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(R,w,y,S.substring(c,g),v)):R},mv:function(l,p,y){var _=p[p.length-1],c=l.call(_);return typeof c=="function"?this.ct(m(c.call(_)),_,y):c},sub:function(l,p,y,_){var c=this.subs[l];c&&(this.activeSub=l,c(p,y,this,_),this.activeSub=!1)}};function r(l,p,y){var _;return p&&typeof p=="object"&&(p[l]!==void 0?_=p[l]:y&&p.get&&typeof p.get=="function"&&(_=p.get(l))),_}function n(l,p,y,_,c,g){function v(){}v.prototype=l;function S(){}S.prototype=l.subs;var w,R=new v;R.subs=new S,R.subsText={},R.buf="",_=_||{},R.stackSubs=_,R.subsText=g;for(w in p)_[w]||(_[w]=p[w]);for(w in _)R.subs[w]=_[w];c=c||{},R.stackPartials=c;for(w in y)c[w]||(c[w]=y[w]);for(w in c)R.partials[w]=c[w];return R}var i=/&/g,a=/</g,s=/>/g,o=/\'/g,u=/\"/g,f=/[&<>\"\']/;function m(l){return String(l??"")}function d(l){return l=m(l),f.test(l)?l.replace(i,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(o,"&#39;").replace(u,"&quot;"):l}var h=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"}})(e)})(Pa)),Pa}var ja,lu;function V_(){if(lu)return ja;lu=1;var e=q_();return e.Template=W_().Template,e.template=e.Template,ja=e,ja}var Q_=V_();const sp=pi(Q_);var cp=function(e,t,r,n){var i;t[0]=0;for(var a=1;a<t.length;a++){var s=t[a++],o=t[a]?(t[0]|=s?1:2,r[t[a++]]):t[++a];s===3?n[0]=o:s===4?n[1]=Object.assign(n[1]||{},o):s===5?(n[1]=n[1]||{})[t[++a]]=o:s===6?n[1][t[++a]]+=o+"":s?(i=e.apply(o,cp(e,o,r,["",null])),n.push(i),o[0]?t[0]|=2:(t[a-2]=0,t[a]=i)):n.push(o)}return n},fu=new Map;function K_(e){var t=fu.get(this);return t||(t=new Map,fu.set(this,t)),(t=cp(this,t.get(e)||(t.set(e,t=(function(r){for(var n,i,a=1,s="",o="",u=[0],f=function(h){a===1&&(h||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,h,s):a===3&&(h||s)?(u.push(3,h,s),a=2):a===2&&s==="..."&&h?u.push(4,h,0):a===2&&s&&!h?u.push(5,0,!0,s):a>=5&&((s||!h&&a===5)&&(u.push(a,0,s,i),a=6),h&&(u.push(a,h,0,i),a=6)),s=""},m=0;m<r.length;m++){m&&(a===1&&f(),f(m));for(var d=0;d<r[m].length;d++)n=r[m][d],a===1?n==="<"?(f(),u=[u],a=3):s+=n:a===4?s==="--"&&n===">"?(a=1,s=""):s=n+s[0]:o?n===o?o="":s+=n:n==='"'||n==="'"?o=n:n===">"?(f(),a=1):a&&(n==="="?(a=5,i=s,s=""):n==="/"&&(a<5||r[m][d+1]===">")?(f(),a===3&&(u=u[0]),a=u,(u=u[0]).push(2,0,a),a=0):n===" "||n==="	"||n===`
`||n==="\r"?(f(),a=2):s+=n),a===3&&s==="!--"&&(a=4,u=u[0])}return f(),u})(e)),t),arguments,[])).length>1?t:t[0]}var Un=K_.bind(H),vi=E_({createElement:H,Fragment:yt}),J_=["classNames"];function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(null,arguments)}function Y_(e,t){if(e==null)return{};var r,n,i=G_(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G_(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X_(e){var t=e.classNames,r=t===void 0?{}:t,n=Y_(e,J_);return H(vi,eo({classNames:{root:k("ais-Highlight",r.root),highlighted:k("ais-Highlight-highlighted",r.highlighted),nonHighlighted:k("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:k("ais-Highlight-separator",r.separator)}},n))}var eS=["hit","attribute","cssClasses"];function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},to.apply(null,arguments)}function tS(e,t){if(e==null)return{};var r,n,i=rS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nS(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=tS(e,eS),a=wt(t._highlightResult,r)||[],s=fi(a),o=s.map(function(u){var f=u.value;return ar(vn(f||""))});return H(X_,to({},i,{parts:o,classNames:n}))}var iS=["classNames"];function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ro.apply(null,arguments)}function aS(e,t){if(e==null)return{};var r,n,i=oS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sS(e){var t=e.classNames,r=t===void 0?{}:t,n=aS(e,iS);return H(vi,ro({classNames:{root:k("ais-ReverseHighlight",r.root),highlighted:k("ais-ReverseHighlight-highlighted",r.highlighted),nonHighlighted:k("ais-ReverseHighlight-nonHighlighted",r.nonHighlighted),separator:k("ais-ReverseHighlight-separator",r.separator)}},n))}function Ur(e){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}var cS=["hit","attribute","cssClasses"],uS=["isHighlighted"];function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},no.apply(null,arguments)}function pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pu(Object(r),!0).forEach(function(n){lS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lS(e,t,r){return(t=fS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fS(e){var t=pS(e,"string");return Ur(t)=="symbol"?t:t+""}function pS(e,t){if(Ur(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ur(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mu(e,t){if(e==null)return{};var r,n,i=dS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mS(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=mu(e,cS),a=wt(t._highlightResult,r)||[],s=fi(a),o=s.map(function(u){var f=u.value;return ar(vn(f||"")).map(function(m){var d=m.isHighlighted,h=mu(m,uS);return du(du({},h),{},{isHighlighted:!d})})});return H(sS,no({},i,{parts:o,classNames:n}))}var hS=["classNames"];function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(null,arguments)}function gS(e,t){if(e==null)return{};var r,n,i=vS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yS(e){var t=e.classNames,r=t===void 0?{}:t,n=gS(e,hS);return H(vi,io({classNames:{root:k("ais-ReverseSnippet",r.root),highlighted:k("ais-ReverseSnippet-highlighted",r.highlighted),nonHighlighted:k("ais-ReverseSnippet-nonHighlighted",r.nonHighlighted),separator:k("ais-ReverseSnippet-separator",r.separator)}},n))}function Br(e){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(e)}var bS=["hit","attribute","cssClasses"],_S=["isHighlighted"];function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ao.apply(null,arguments)}function hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hu(Object(r),!0).forEach(function(n){SS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SS(e,t,r){return(t=wS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wS(e){var t=OS(e,"string");return Br(t)=="symbol"?t:t+""}function OS(e,t){if(Br(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Br(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vu(e,t){if(e==null)return{};var r,n,i=PS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jS(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=vu(e,bS),a=wt(t._snippetResult,r)||[],s=fi(a),o=s.map(function(u){var f=u.value;return ar(vn(f||"")).map(function(m){var d=m.isHighlighted,h=vu(m,_S);return gu(gu({},h),{},{isHighlighted:!d})})});return H(yS,ao({},i,{parts:o,classNames:n}))}var RS=["classNames"];function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(null,arguments)}function ES(e,t){if(e==null)return{};var r,n,i=$S(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $S(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CS(e){var t=e.classNames,r=t===void 0?{}:t,n=ES(e,RS);return H(vi,oo({classNames:{root:k("ais-Snippet",r.root),highlighted:k("ais-Snippet-highlighted",r.highlighted),nonHighlighted:k("ais-Snippet-nonHighlighted",r.nonHighlighted),separator:k("ais-Snippet-separator",r.separator)}},n))}var TS=["hit","attribute","cssClasses"];function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(null,arguments)}function xS(e,t){if(e==null)return{};var r,n,i=IS(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NS(e){var t=e.hit,r=e.attribute,n=e.cssClasses,i=xS(e,TS),a=wt(t._snippetResult,r)||[],s=fi(a),o=s.map(function(u){var f=u.value;return ar(vn(f||""))});return H(CS,so({},i,{parts:o,classNames:n}))}function tr(e){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}function yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yu(Object(r),!0).forEach(function(n){up(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function up(e,t,r){return(t=AS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AS(e){var t=kS(e,"string");return tr(t)=="symbol"?t:t+""}function kS(e,t){if(tr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object.keys(e).reduce(function(n,i){return Jn(Jn({},n),{},up({},i,function(){var a=this;return function(s){var o=function(f){return sp.compile(f,t).render(a)};return e[i].call(r,s,o)}}))},{})}function DS(e){var t=e.templates,r=e.templateKey,n=e.compileOptions,i=e.helpers,a=e.data,s=e.bindEvent,o=e.sendEvent,u=t[r];if(typeof u!="string"&&typeof u!="function")throw new Error("Template must be 'string' or 'function', was '".concat(tr(u),"' (key: ").concat(r,")"));if(typeof u=="function"){var f=s||{};return f.html=Un,f.sendEvent=o,f.components={Highlight:nS,ReverseHighlight:mS,Snippet:NS,ReverseSnippet:jS},u(a,f)}var m=FS(i,n,a);return sp.compile(u,n).render(Jn(Jn({},a),{},{helpers:m})).replace(/[ \n\r\t\f\xA0]+/g,function(d){return d.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}function It(e){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(e)}function LS(e){return US(e)||zS(e)||HS(e)||MS()}function MS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HS(e,t){if(e){if(typeof e=="string")return uo(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uo(e,t):void 0}}function zS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function US(e){if(Array.isArray(e))return uo(e)}function uo(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hp(n.key),n)}}function fp(e,t,r){return t&&BS(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lo(e,t)}function lo(e,t){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lo(e,t)}function dp(e){var t=mp();return function(){var r,n=Yn(e);if(t){var i=Yn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ZS(this,r)}}function ZS(e,t){if(t&&(It(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fo(e)}function fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mp=function(){return!!e})()}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yn(e)}function po(e,t,r){return(t=hp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hp(e){var t=qS(e,"string");return It(t)=="symbol"?t:t+""}function qS(e,t){if(It(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(It(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WS=(function(e){pp(r,e);var t=dp(r);function r(){var n;lp(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),po(fo(n),"ref",Qn()),po(fo(n),"nodes",[]),n}return fp(r,[{key:"componentDidMount",value:function(){var i=new DocumentFragment,a=document.createElement("div");a.innerHTML=this.props.content,this.nodes=LS(a.childNodes),this.nodes.forEach(function(s){return i.appendChild(s)}),this.ref.current.replaceWith(i)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach(function(i){if(i instanceof Element){i.outerHTML="";return}i.nodeValue=""}),this.nodes[0]&&this.nodes[0].nodeValue&&(this.nodes[0].nodeValue="")}},{key:"render",value:function(){return H("div",{ref:this.ref})}}]),r})(gt),VS={data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}},re=(function(e){pp(r,e);var t=dp(r);function r(){return lp(this,r),t.apply(this,arguments)}return fp(r,[{key:"shouldComponentUpdate",value:function(i){return!Jt(this.props.data,i.data)||this.props.templateKey!==i.templateKey||!Jt(this.props.rootProps,i.rootProps)}},{key:"render",value:function(){var i=this.props.rootTagName==="fragment"?yt:this.props.rootTagName,a=this.props.useCustomCompileOptions[this.props.templateKey],s=a?this.props.templatesConfig.compileOptions:{},o=DS({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:s,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return o===null?null:It(o)==="object"?H(i,this.props.rootProps,o):i===yt?H(WS,{content:o,key:Math.random()}):H(i,co({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:o}}))}}]),r})(gt);po(re,"defaultProps",VS);function Zr(e){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(e)}function bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bu(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gp(e,t,r){return(t=QS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QS(e){var t=KS(e,"string");return Zr(t)=="symbol"?t:t+""}function KS(e,t){if(Zr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JS=we({name:"configure",connector:!0});function _u(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(r,n){return Se(Se({},r),{},gp({},n,void 0))},{}))}var YS=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:le,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return function(n){if(!n||!Yl(n.searchParameters))throw new Error(JS("The `searchParameters` option expects an object."));var i={};function a(s){return function(o){var u=_u(s.state,n),f=Sr(u,new $e.SearchParameters(o));n.searchParameters=o,s.setState(f).search()}}return{$$type:"ais.configure",init:function(o){var u=o.instantSearchInstance;t(Se(Se({},this.getWidgetRenderState(o)),{},{instantSearchInstance:u}),!0)},render:function(o){var u=o.instantSearchInstance;t(Se(Se({},this.getWidgetRenderState(o)),{},{instantSearchInstance:u}),!1)},dispose:function(o){var u=o.state;return r(),_u(u,n)},getRenderState:function(o,u){var f,m=this.getWidgetRenderState(u);return Se(Se({},o),{},{configure:Se(Se({},m),{},{widgetParams:Se(Se({},m.widgetParams),{},{searchParameters:Sr(new $e.SearchParameters((f=o.configure)===null||f===void 0?void 0:f.widgetParams.searchParameters),new $e.SearchParameters(m.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var u=o.helper;return i.refine||(i.refine=a(u)),{refine:i.refine,widgetParams:n}},getWidgetSearchParameters:function(o,u){var f=u.uiState;return Sr(o,new $e.SearchParameters(Se(Se({},f.configure),n.searchParameters)))},getWidgetUiState:function(o){return Se(Se({},o),{},{configure:Se(Se({},o.configure),n.searchParameters)})}}}},qr,ve,Ra,Su,Wr=0,vp=[],be=ue,wu=be.__b,Ou=be.__r,Pu=be.diffed,ju=be.__c,Ru=be.unmount,Eu=be.__;function Qo(e,t){be.__h&&be.__h(ve,e,Wr||t),Wr=0;var r=ve.__H||(ve.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function mo(e){return Wr=1,GS(bp,e)}function GS(e,t,r){var n=Qo(qr++,2);if(n.t=e,!n.__c&&(n.__=[bp(void 0,t),function(o){var u=n.__N?n.__N[0]:n.__[0],f=n.t(u,o);u!==f&&(n.__N=[f,n.__[1]],n.__c.setState({}))}],n.__c=ve,!ve.__f)){var i=function(o,u,f){if(!n.__c.__H)return!0;var m=n.__c.__H.__.filter(function(h){return!!h.__c});if(m.every(function(h){return!h.__N}))return!a||a.call(this,o,u,f);var d=n.__c.props!==o;return m.forEach(function(h){if(h.__N){var l=h.__[0];h.__=h.__N,h.__N=void 0,l!==h.__[0]&&(d=!0)}}),a&&a.call(this,o,u,f)||d};ve.__f=!0;var a=ve.shouldComponentUpdate,s=ve.componentWillUpdate;ve.componentWillUpdate=function(o,u,f){if(this.__e){var m=a;a=void 0,i(o,u,f),a=m}s&&s.call(this,o,u,f)},ve.shouldComponentUpdate=i}return n.__N||n.__}function XS(e,t){var r=Qo(qr++,3);!be.__s&&yp(r.__H,t)&&(r.__=e,r.u=t,ve.__H.__h.push(r))}function vr(e){return Wr=5,yi(function(){return{current:e}},[])}function yi(e,t){var r=Qo(qr++,7);return yp(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function ew(e,t){return Wr=8,yi(function(){return e},t)}function tw(){for(var e;e=vp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Bn),e.__H.__h.forEach(ho),e.__H.__h=[]}catch(t){e.__H.__h=[],be.__e(t,e.__v)}}be.__b=function(e){ve=null,wu&&wu(e)},be.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Eu&&Eu(e,t)},be.__r=function(e){Ou&&Ou(e),qr=0;var t=(ve=e.__c).__H;t&&(Ra===ve?(t.__h=[],ve.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(Bn),t.__h.forEach(ho),t.__h=[],qr=0)),Ra=ve},be.diffed=function(e){Pu&&Pu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(vp.push(t)!==1&&Su===be.requestAnimationFrame||((Su=be.requestAnimationFrame)||rw)(tw)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Ra=ve=null},be.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Bn),r.__h=r.__h.filter(function(n){return!n.__||ho(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],be.__e(n,r.__v)}}),ju&&ju(e,t)},be.unmount=function(e){Ru&&Ru(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Bn(n)}catch(i){t=i}}),r.__H=void 0,t&&be.__e(t,r.__v))};var $u=typeof requestAnimationFrame=="function";function rw(e){var t,r=function(){clearTimeout(n),$u&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);$u&&(t=requestAnimationFrame(r))}function Bn(e){var t=ve,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),ve=t}function ho(e){var t=ve;e.__c=e.__(),ve=t}function yp(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function bp(e,t){return typeof t=="function"?t(e):t}function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function nw(e){return sw(e)||ow(e)||aw(e)||iw()}function iw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aw(e,t){if(e){if(typeof e=="string")return go(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?go(e,t):void 0}}function ow(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sw(e){if(Array.isArray(e))return go(e)}function go(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cu(Object(r),!0).forEach(function(n){cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cw(e,t,r){return(t=uw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uw(e){var t=lw(e,"string");return Vr(t)=="symbol"?t:t+""}function lw(e,t){if(Vr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tu=we({name:"clear-refinements",connector:!0}),fw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,Tu()),function(n){var i=n||{},a=i.includedAttributes,s=a===void 0?[]:a,o=i.excludedAttributes,u=o===void 0?["query"]:o,f=i.transformItems,m=f===void 0?function(p){return p}:f;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(Tu("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var d={refine:le,createURL:function(){return""},attributesToClear:[]},h=function(){return d.refine()},l=function(){return d.createURL()};return{$$type:"ais.clearRefinements",init:function(y){var _=y.instantSearchInstance;t(Lt(Lt({},this.getWidgetRenderState(y)),{},{instantSearchInstance:_}),!0)},render:function(y){var _=y.instantSearchInstance;t(Lt(Lt({},this.getWidgetRenderState(y)),{},{instantSearchInstance:_}),!1)},dispose:function(){r()},getRenderState:function(y,_){return Lt(Lt({},y),{},{clearRefinements:this.getWidgetRenderState(_)})},getWidgetRenderState:function(y){var _=y.createURL,c=y.scopedResults,g=y.results;d.attributesToClear=c.reduce(function(S,w){return S.concat(pw({scopedResult:w,includedAttributes:s,excludedAttributes:u,transformItems:m,results:g}))},[]),d.refine=function(){d.attributesToClear.forEach(function(S){var w=S.helper,R=S.items;w.setState(ys({helper:w,attributesToClear:R})).search()})},d.createURL=function(){return _(Sr.apply(void 0,nw(d.attributesToClear.map(function(S){var w=S.helper,R=S.items;return ys({helper:w,attributesToClear:R})}))))};var v=d.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:v,hasRefinements:v,refine:h,createURL:l,widgetParams:n}}}}};function pw(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,a=e.results,s=r.indexOf("query")!==-1||n.indexOf("query")===-1;return{helper:t.helper,items:i(li(xh(t.results,t.helper.state,s).map(function(o){return o.attribute}).filter(function(o){return r.length===0||r.indexOf(o)!==-1}).filter(function(o){return o==="query"&&s||n.indexOf(o)===-1})),{results:a})}}function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}function xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xu(Object(r),!0).forEach(function(n){_p(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _p(e,t,r){return(t=dw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dw(e){var t=mw(e,"string");return Qr(t)=="symbol"?t:t+""}function mw(e,t){if(Qr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hw=we({name:"hits",connector:!0});const gw=(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,hw()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,o=i.transformItems,u=o===void 0?function(d){return d}:o,f,m;return{$$type:"ais.hits",init:function(h){t(pt(pt({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var l=this.getWidgetRenderState(h);t(pt(pt({},l),{},{instantSearchInstance:h.instantSearchInstance}),!1),l.sendEvent("view:internal",l.items)},getRenderState:function(h,l){return pt(pt({},h),{},{hits:this.getWidgetRenderState(l)})},getWidgetRenderState:function(h){var l,p,y,_=h.results,c=h.helper,g=h.instantSearchInstance;if(f||(f=af({instantSearchInstance:g,helper:c,widgetType:this.$$type})),m||(m=wh({helper:c,widgetType:this.$$type,instantSearchInstance:g})),!_)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:f,bindEvent:m,widgetParams:n};s&&_.hits.length>0&&(_.hits=eh(_.hits));var v=kh(_.hits,_.page,_.hitsPerPage),S=Mh(v,_.queryID),w=u(S,{results:_}),R=(l=_.renderingContent)===null||l===void 0||(p=l.widgets)===null||p===void 0||(y=p.banners)===null||y===void 0?void 0:y[0];return{hits:w,items:w,results:_,banner:R,sendEvent:f,bindEvent:m,widgetParams:n}},dispose:function(h){var l=h.state;return r(),s?l.setQueryParameters(Object.keys(Vt).reduce(function(p,y){return pt(pt({},p),{},_p({},y,void 0))},{})):l},getWidgetSearchParameters:function(h,l){return s?h.setQueryParameters(Vt):h}}}});function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}function Iu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iu(Object(r),!0).forEach(function(n){vw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vw(e,t,r){return(t=yw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yw(e){var t=bw(e,"string");return Kr(t)=="symbol"?t:t+""}function bw(e,t){if(Kr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _w=function(t,r){return r.map(function(n){var i=Rr(t,function(a){return a.objectID===n});if(typeof i>"u")throw new Error('Could not find objectID "'.concat(n,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return i})},Sw=function(t){var r=li(t.map(function(i){return i.__queryID}));if(r.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=r[0];if(typeof n!="string")throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n},ww=function(t){return t.map(function(r){return r.__position})},Ow=function(t){var r=t.method,n=t.results,i=t.hits,a=t.objectIDs,s=n.index,o=_w(i,a),u=Sw(o);switch(r){case"clickedObjectIDsAfterSearch":{var f=ww(o);return{index:s,queryID:u,objectIDs:a,positions:f}}case"convertedObjectIDsAfterSearch":return{index:s,queryID:u,objectIDs:a};default:throw new Error('Unsupported method passed to insights: "'.concat(r,'".'))}},Pw=function(t,r,n){return function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];var u=s[0];if(!t){var f=we({name:"instantsearch"});throw new Error(f("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(u.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var m=Ow({method:i,results:r,hits:n,objectIDs:u.objectIDs});t(i,Gn(Gn({},m),u))}};function jw(e){return function(t,r){return e(function(n,i){var a=n.results,s=n.hits,o=n.instantSearchInstance;if(a&&s&&o){var u=Pw(o.insightsClient,a,s);return t(Gn(Gn({},n),{},{insights:u}),i)}return t(n,i)},r)}}var Rw=function(t){var r=t.insights,n=t.sendEvent;return function(i){var a=Nu(i.target,i.currentTarget,function(d){return d.hasAttribute("data-insights-event")});if(a){var s=Ew(a);s.forEach(function(d){return n(d)})}var o=Nu(i.target,i.currentTarget,function(d){return d.hasAttribute("data-insights-method")&&d.hasAttribute("data-insights-payload")});if(o){var u=Tg(o),f=u.method,m=u.payload;r(f,m)}}};function Nu(e,t,r){for(var n=e;n&&!r(n);){if(n===t)return null;n=n.parentElement}return n}function Ew(e){var t=e.getAttribute("data-insights-event");if(typeof t!="string")throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return rf(t)}catch{throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}function Jr(e){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(e)}function $w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sp(n.key),n)}}function Tw(e,t,r){return t&&Cw(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e,t,r){return(t=Sp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sp(e){var t=xw(e,"string");return Jr(t)=="symbol"?t:t+""}function xw(e,t){if(Jr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iw=(function(){function e(t){$w(this,e),Ea(this,"currentPage",void 0),Ea(this,"total",void 0),Ea(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return Tw(e,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return As({end:r});var s=this.calculatePaddingLeft(n,i,r,a),o=a-s,u=n-s,f=n+o;return As({start:u,end:f})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e})();function Yr(e){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}function Au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Au(Object(r),!0).forEach(function(n){Nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nw(e,t,r){return(t=Aw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aw(e){var t=kw(e,"string");return Yr(t)=="symbol"?t:t+""}function kw(e,t){if(Yr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fw=we({name:"pagination",connector:!0}),Dw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,Fw()),function(n){var i=n||{},a=i.totalPages,s=i.padding,o=s===void 0?3:s,u=new Iw({currentPage:0,total:0,padding:o}),f={};function m(d){var h=d.nbPages;return a!==void 0?Math.min(a,h):h}return{$$type:"ais.pagination",init:function(h){var l=h.instantSearchInstance;t(Ke(Ke({},this.getWidgetRenderState(h)),{},{instantSearchInstance:l}),!0)},render:function(h){var l=h.instantSearchInstance;t(Ke(Ke({},this.getWidgetRenderState(h)),{},{instantSearchInstance:l}),!1)},dispose:function(h){var l=h.state;return r(),l.setQueryParameter("page",void 0)},getWidgetUiState:function(h,l){var p=l.searchParameters,y=p.page||0;return y?Ke(Ke({},h),{},{page:y+1}):h},getWidgetSearchParameters:function(h,l){var p=l.uiState,y=p.page?p.page-1:0;return h.setQueryParameter("page",y)},getWidgetRenderState:function(h){var l=h.results,p=h.helper,y=h.state,_=h.createURL;f.refine||(f.refine=function(v){p.setPage(v),p.search()}),f.createURL||(f.createURL=function(v){return _(function(S){return Ke(Ke({},S),{},{page:v+1})})});var c=y.page||0,g=m(l||{nbPages:0});return u.currentPage=c,u.total=g,{createURL:f.createURL,refine:f.refine,canRefine:g>1,currentRefinement:c,nbHits:l?.nbHits||0,nbPages:g,pages:l?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:n}},getRenderState:function(h,l){return Ke(Ke({},h),{},{pagination:this.getWidgetRenderState(l)})}}}};function Gr(e){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(e)}var Lw=["name","escapedValue"],Mw=["escapedValue","value"];function ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ku(Object(r),!0).forEach(function(n){yr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yr(e,t,r){return(t=Hw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hw(e){var t=zw(e,"string");return Gr(t)=="symbol"?t:t+""}function zw(e,t){if(Gr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fu(e,t){if(e==null)return{};var r,n,i=Uw(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uw(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tn=we({name:"refinement-list",connector:!0}),Du=["isRefined","count:desc","name:asc"],Bw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,Tn()),function(n){var i=n||{},a=i.attribute,s=i.operator,o=s===void 0?"or":s,u=i.limit,f=u===void 0?10:u,m=i.showMore,d=m===void 0?!1:m,h=i.showMoreLimit,l=h===void 0?20:h,p=i.sortBy,y=p===void 0?Du:p,_=i.escapeFacetValues,c=_===void 0?!0:_,g=i.transformItems,v=g===void 0?function(F){return F}:g;if(!a)throw new Error(Tn("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(Tn('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(d===!0&&l<=f)throw new Error(Tn("`showMoreLimit` should be greater than `limit`."));var S=function(N){var D=N.name,Z=N.escapedValue,E=Fu(N,Lw);return oe(oe({},E),{},{value:Z,label:D,highlighted:D})},w,R=[],j=!0,b,O,P=!1,$=function(){};function T(){$()}function A(F,N){return function(){P=!P,N.render(F)}}function B(){return P?l:f}var x=function(){return function(){}},I=function(N,D){return function(Z){return function(E){var C=Z.instantSearchInstance,M=Z.results;if(E===""&&R)t(oe(oe({},D.getWidgetRenderState(oe(oe({},Z),{},{results:w}))),{},{instantSearchInstance:C}),!1);else{var U={highlightPreTag:c?Vt.highlightPreTag:Ce.highlightPreTag,highlightPostTag:c?Vt.highlightPostTag:Ce.highlightPostTag};N.searchForFacetValues(a,E,Math.min(B(),100),U).then(function(z){var q=c?th(z.facetHits):z.facetHits,W=v(q.map(function(Q){var J=Q.escapedValue,ee=Q.value,ce=Fu(Q,Mw);return oe(oe({},ce),{},{value:J,label:ee})}),{results:M});t(oe(oe({},D.getWidgetRenderState(oe(oe({},Z),{},{results:w}))),{},{items:W,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:C}),!1)})}}}};return{$$type:"ais.refinementList",init:function(N){t(oe(oe({},this.getWidgetRenderState(N)),{},{instantSearchInstance:N.instantSearchInstance}),!0)},render:function(N){t(oe(oe({},this.getWidgetRenderState(N)),{},{instantSearchInstance:N.instantSearchInstance}),!1)},getRenderState:function(N,D){return oe(oe({},N),{},{refinementList:oe(oe({},N.refinementList),{},yr({},a,this.getWidgetRenderState(D)))})},getWidgetRenderState:function(N){var D=this,Z=N.results,E=N.state,C=N.createURL,M=N.instantSearchInstance,U=N.helper,z=[],q=[];if((!O||!b||!x)&&(O=ph({instantSearchInstance:M,helper:U,attribute:a,widgetType:this.$$type}),b=function(Ft){O("click:internal",Ft),U.toggleFacetRefinement(a,Ft).search()},x=I(U,this)),Z){var W=Z.getFacetValues(a,{sortBy:y,facetOrdering:y===Du});q=W&&Array.isArray(W)?W:[],z=v(q.slice(0,B()).map(S),{results:Z});var Q=E.maxValuesPerFacet,J=B();j=Q>J?q.length<=J:q.length<J,w=Z,R=z,N.results&&($=A(N,this))}var ee=x&&x(N),ce=P&&R.length>f,Re=d&&!j,Ot=ce||Re;return{createURL:function(Ft){return C(function(Oi){return D.getWidgetUiState(Oi,{searchParameters:E.resetPage().toggleFacetRefinement(a,Ft),helper:U})})},items:z,refine:b,searchForItems:ee,isFromSearch:!1,canRefine:z.length>0,widgetParams:n,isShowingMore:P,canToggleShowMore:Ot,toggleShowMore:T,sendEvent:O,hasExhaustiveItems:j}},dispose:function(N){var D=N.state;r();var Z=D.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?Z.removeFacet(a):Z.removeDisjunctiveFacet(a)},getWidgetUiState:function(N,D){var Z=D.searchParameters,E=o==="or"?Z.getDisjunctiveRefinements(a):Z.getConjunctiveRefinements(a);return Zw(oe(oe({},N),{},{refinementList:oe(oe({},N.refinementList),{},yr({},a,E))}),a)},getWidgetSearchParameters:function(N,D){var Z=D.uiState,E=o==="or";if(N.isHierarchicalFacet(a)||E&&N.isConjunctiveFacet(a)||!E&&N.isDisjunctiveFacet(a))return N;var C=Z.refinementList&&Z.refinementList[a],M=E?N.addDisjunctiveFacet(a).removeDisjunctiveFacetRefinement(a):N.addFacet(a).removeFacetRefinement(a),U=M.maxValuesPerFacet||0,z=Math.max(U,d?l:f),q=M.setQueryParameter("maxValuesPerFacet",z);if(!C){var W=E?"disjunctiveFacetsRefinements":"facetsRefinements";return q.setQueryParameters(yr({},W,oe(oe({},q[W]),{},yr({},a,[]))))}return C.reduce(function(Q,J){return E?Q.addDisjunctiveFacetRefinement(a,J):Q.addFacetRefinement(a,J)},q)}}}};function Zw(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function Xr(e){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(e)}function Lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lu(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qw(e,t,r){return(t=Ww(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ww(e){var t=Vw(e,"string");return Xr(t)=="symbol"?t:t+""}function Vw(e,t){if(Xr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qw=we({name:"search-box",connector:!0}),Kw=function(t,r){return r(t)},Jw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,Qw()),function(n){var i=n||{},a=i.queryHook,s=a===void 0?Kw:a,o,u;return{$$type:"ais.searchBox",init:function(m){var d=m.instantSearchInstance;t(dt(dt({},this.getWidgetRenderState(m)),{},{instantSearchInstance:d}),!0)},render:function(m){var d=m.instantSearchInstance;t(dt(dt({},this.getWidgetRenderState(m)),{},{instantSearchInstance:d}),!1)},dispose:function(m){var d=m.state;return r(),d.setQueryParameter("query",void 0)},getRenderState:function(m,d){return dt(dt({},m),{},{searchBox:this.getWidgetRenderState(d)})},getWidgetRenderState:function(m){var d=m.helper,h=m.instantSearchInstance,l=m.state;return o||(o=function(y){s(y,function(_){return d.setQuery(_).search()})},u=function(){d.setQuery("").search()}),{query:l.query||"",refine:o,clear:u,widgetParams:n,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(m,d){var h=d.searchParameters,l=h.query||"";return l===""||m&&m.query===l?m:dt(dt({},m),{},{query:l})},getWidgetSearchParameters:function(m,d){var h=d.uiState;return m.setQueryParameter("query",h.query||"")}}}};function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}function Mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mu(Object(r),!0).forEach(function(n){Yw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yw(e,t,r){return(t=Gw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gw(e){var t=Xw(e,"string");return en(t)=="symbol"?t:t+""}function Xw(e,t){if(en(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(en(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e0=we({name:"stats",connector:!0}),t0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,e0()),function(n){return{$$type:"ais.stats",init:function(a){var s=a.instantSearchInstance;t(Mt(Mt({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!0)},render:function(a){var s=a.instantSearchInstance;t(Mt(Mt({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!1)},dispose:function(){r()},getRenderState:function(a,s){return Mt(Mt({},a),{},{stats:this.getWidgetRenderState(s)})},getWidgetRenderState:function(a){var s=a.results,o=a.state;return s?{hitsPerPage:s.hitsPerPage,nbHits:s.nbHits,nbSortedHits:s.nbSortedHits,areHitsSorted:typeof s.appliedRelevancyStrictness<"u"&&s.appliedRelevancyStrictness>0&&s.nbSortedHits!==s.nbHits,nbPages:s.nbPages,page:s.page,processingTimeMS:s.processingTimeMS,query:s.query,widgetParams:n}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:n}}}}};function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}function Hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hu(Object(r),!0).forEach(function(n){r0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0(e,t,r){return(t=n0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n0(e){var t=i0(e,"string");return tn(t)=="symbol"?t:t+""}function i0(e,t){if(tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a0=function(t){var r=YS(le);return zu(zu({},r({searchParameters:t})),{},{$$widgetType:"ais.configure"})};function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(null,arguments)}var o0=function(t){var r=t.hasRefinements,n=t.refine,i=t.cssClasses,a=t.templateProps;return H("div",{className:i.root},H(re,vo({},a,{templateKey:"resetLabel",rootTagName:"button",rootProps:{className:k(i.button,!r&&i.disabledButton),onClick:n,disabled:!r},data:{hasRefinements:r}})))},s0={resetLabel:function(){return"Clear refinements"}};function rn(e){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(e)}function Uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uu(Object(r),!0).forEach(function(n){c0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0(e,t,r){return(t=u0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u0(e){var t=l0(e,"string");return rn(t)=="symbol"?t:t+""}function l0(e,t){if(rn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f0=we({name:"clear-refinements"}),$a=rt("ClearRefinements"),p0=function(t){var r=t.containerNode,n=t.cssClasses,i=t.renderState,a=t.templates;return function(s,o){var u=s.refine,f=s.canRefine,m=s.instantSearchInstance;if(o){i.templateProps=Le({defaultTemplates:s0,templatesConfig:m.templatesConfig,templates:a});return}Ne(H(o0,{refine:u,cssClasses:n,hasRefinements:f,templateProps:i.templateProps}),r)}},d0=function(t){var r=t||{},n=r.container,i=r.templates,a=i===void 0?{}:i,s=r.includedAttributes,o=r.excludedAttributes,u=r.transformItems,f=r.cssClasses,m=f===void 0?{}:f;if(!n)throw new Error(f0("The `container` option is required."));var d=vt(n),h={root:k($a(),m.root),button:k($a({descendantName:"button"}),m.button),disabledButton:k($a({descendantName:"button",modifierName:"disabled"}),m.disabledButton)},l=p0({containerNode:d,cssClasses:h,renderState:{},templates:a}),p=fw(l,function(){return Ne(null,d)});return Bu(Bu({},p({includedAttributes:s,excludedAttributes:o,transformItems:u})),{},{$$widgetType:"ais.clearRefinements"})};function rr(e){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(null,arguments)}function m0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Op(n.key),n)}}function g0(e,t,r){return t&&h0(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bo(e,t)}function bo(e,t){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},bo(e,t)}function y0(e){var t=wp();return function(){var r,n=Xn(e);if(t){var i=Xn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b0(this,r)}}function b0(e,t){if(t&&(rr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}function mt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wp=function(){return!!e})()}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xn(e)}function ht(e,t,r){return(t=Op(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Op(e){var t=_0(e,"string");return rr(t)=="symbol"?t:t+""}function _0(e,t){if(rr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S0={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,ignoreCompositionEvents:!1,isSearchStalled:!1,disabled:!1,ariaLabel:"Search",onChange:le,onSubmit:le,onReset:le,refine:le,inputProps:{}},Ko=(function(e){v0(r,e);var t=y0(r);function r(){var n;m0(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),ht(mt(n),"state",{query:n.props.query,focused:!1}),ht(mt(n),"input",Qn()),ht(mt(n),"onInput",function(o){var u,f;(u=(f=n.props.inputProps).onInput)===null||u===void 0||u.call(f,o);var m=n.props,d=m.searchAsYouType,h=m.refine,l=m.onChange,p=o.target.value;n.props.ignoreCompositionEvents&&o.isComposing||(d&&h(p),n.setState({query:p}),l(o))}),ht(mt(n),"onSubmit",function(o){var u=n.props,f=u.searchAsYouType,m=u.refine,d=u.onSubmit;return o.preventDefault(),o.stopPropagation(),n.input.current&&n.input.current.blur(),f||m(n.state.query),d(o),!1}),ht(mt(n),"onReset",function(o){var u=n.props,f=u.refine,m=u.onReset,d="";n.input.current&&n.input.current.focus(),f(d),n.setState({query:d}),m(o)}),ht(mt(n),"onBlur",function(o){var u,f;(u=(f=n.props.inputProps).onBlur)===null||u===void 0||u.call(f,o),n.setState({focused:!1})}),ht(mt(n),"onFocus",function(o){var u,f;(u=(f=n.props.inputProps).onFocus)===null||u===void 0||u.call(f,o),n.setState({focused:!0})}),n}return g0(r,[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(i){!this.state.focused&&i.query!==this.state.query&&this.setState({query:i.query})}},{key:"render",value:function(){var i=this.props,a=i.cssClasses,s=i.placeholder,o=i.autofocus,u=i.showSubmit,f=i.showReset,m=i.showLoadingIndicator,d=i.templates,h=i.isSearchStalled,l=i.ariaLabel,p=i.inputProps;return H("div",{className:a.root},H("form",{action:"",role:"search",className:a.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},H("input",yo({},p,{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:a.input,type:"search",placeholder:s,autoFocus:o,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,oncompositionend:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,"aria-label":l})),H(re,{templateKey:"submit",rootTagName:"button",rootProps:{className:a.submit,type:"submit",title:"Submit the search query",hidden:!u},templates:d,data:{cssClasses:a}}),H(re,{templateKey:"reset",rootTagName:"button",rootProps:{className:a.reset,type:"reset",title:"Clear the search query",hidden:!(f&&this.state.query.trim()&&!h)},templates:d,data:{cssClasses:a}}),m&&H(re,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:a.loadingIndicator,hidden:!h},templates:d,data:{cssClasses:a}})))}}]),r})(gt);ht(Ko,"defaultProps",S0);function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(null,arguments)}function w0(e){var t=e.className,r=e.handleClick,n=e.facetValueToRefine,i=e.isRefined,a=e.templateProps,s=e.templateKey,o=e.templateData,u=e.subItems;return H("li",{className:t,onClick:function(m){r({facetValueToRefine:n,isRefined:i,originalEvent:m})}},H(re,_o({},a,{templateKey:s,data:o})),u)}var O0=["root"];function nr(e){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(e)}function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zu(Object(r),!0).forEach(function(n){Tt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Or.apply(null,arguments)}function P0(e,t){if(e==null)return{};var r,n,i=j0(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j0(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jp(n.key),n)}}function $0(e,t,r){return t&&E0(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&So(e,t)}function So(e,t){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},So(e,t)}function T0(e){var t=Pp();return function(){var r,n=ei(e);if(t){var i=ei(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x0(this,r)}}function x0(e,t){if(t&&(nr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(e)}function Ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pp=function(){return!!e})()}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ei(e)}function Tt(e,t,r){return(t=jp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jp(e){var t=I0(e,"string");return nr(t)=="symbol"?t:t+""}function I0(e,t){if(nr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0={cssClasses:{},depth:0};function Wu(e){return e.data!==void 0}var Rp=(function(e){C0(r,e);var t=T0(r);function r(){var n;R0(this,r);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),Tt(Ut(n),"listRef",Qn()),Tt(Ut(n),"searchBox",Qn()),Tt(Ut(n),"lastRefinedValue",void 0),Tt(Ut(n),"_generateFacetItem",function(o){var u;if(Wu(o)&&Array.isArray(o.data)&&o.data.length>0){var f=n.props.cssClasses;f.root;var m=P0(f,O0);u=H(r,Or({},n.props,{cssClasses:m,depth:n.props.depth+1,facetValues:o.data,showMore:!1,className:n.props.cssClasses.childList}))}var d=n.props.createURL(o.value),h=qu(qu({},o),{},{url:d,attribute:n.props.attribute,cssClasses:n.props.cssClasses,isFromSearch:n.props.isFromSearch}),l=o.value;o.isRefined!==void 0&&(l+="/".concat(o.isRefined)),o.count!==void 0&&(l+="/".concat(o.count));var p=k(n.props.cssClasses.item,o.isRefined&&n.props.cssClasses.selectedItem,!o.count&&n.props.cssClasses.disabledItem,!!(Wu(o)&&Array.isArray(o.data)&&o.data.length>0)&&n.props.cssClasses.parentItem);return H(w0,{templateKey:"item",key:l,facetValueToRefine:o.value,handleClick:n.handleItemClick,isRefined:o.isRefined,className:p,subItems:u,templateData:h,templateProps:n.props.templateProps})}),Tt(Ut(n),"handleItemClick",function(o){var u=o.facetValueToRefine,f=o.isRefined,m=o.originalEvent;if(!cf(m)){var d=m.target;if(!(d===null||d.parentNode===null)&&!(f&&d.parentNode.querySelector('input[type="radio"]:checked'))){if(d.tagName==="INPUT"){n.refine(u);return}for(;d!==m.currentTarget;){if(d.tagName==="LABEL"&&(d.querySelector('input[type="checkbox"]')||d.querySelector('input[type="radio"]')))return;d.tagName==="A"&&d.href&&m.preventDefault(),d=d.parentNode}m.stopPropagation(),n.refine(u)}}}),n}return $0(r,[{key:"shouldComponentUpdate",value:function(i){var a=!Jt(this.props.facetValues,i.facetValues);return a}},{key:"refine",value:function(i){this.lastRefinedValue=i,this.props.toggleRefinement(i)}},{key:"componentWillReceiveProps",value:function(i){this.searchBox.current&&!i.isFromSearch&&this.searchBox.current.resetInput()}},{key:"componentDidUpdate",value:function(){var i,a,s;(i=this.listRef.current)===null||i===void 0||(a=i.querySelector('input[value="'.concat((s=this.lastRefinedValue)===null||s===void 0?void 0:s.replace('"','\\"'),'"]')))===null||a===void 0||a.focus(),this.lastRefinedValue=void 0}},{key:"refineFirstValue",value:function(){if(this.props.searchableSelectOnSubmit!==!1){var i=this.props.facetValues&&this.props.facetValues[0];if(i){var a=i.value;this.props.toggleRefinement(a)}}}},{key:"render",value:function(){var i=this,a=k(this.props.cssClasses.showMore,!(this.props.showMore===!0&&this.props.canToggleShowMore)&&this.props.cssClasses.disabledShowMore),s=this.props.showMore===!0&&H(re,Or({},this.props.templateProps,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:a,disabled:!this.props.canToggleShowMore,onClick:this.props.toggleShowMore},data:{isShowingMore:this.props.isShowingMore}})),o=this.props.searchIsAlwaysActive!==!0&&!(this.props.isFromSearch||!this.props.hasExhaustiveItems),u=this.props.searchFacetValues&&H("div",{className:this.props.cssClasses.searchBox},H(Ko,{ref:this.searchBox,placeholder:this.props.searchPlaceholder,disabled:o,cssClasses:this.props.cssClasses.searchable,templates:this.props.searchBoxTemplateProps.templates,onChange:function(l){return i.props.searchFacetValues(l.target.value)},onReset:function(){return i.props.searchFacetValues("")},onSubmit:function(){return i.refineFirstValue()},searchAsYouType:!1,ariaLabel:"Search for filters"})),f=this.props.facetValues&&this.props.facetValues.length>0&&H("ul",{ref:this.listRef,className:this.props.cssClasses.list},this.props.facetValues.map(this._generateFacetItem,this)),m=this.props.searchFacetValues&&this.props.isFromSearch&&(!this.props.facetValues||this.props.facetValues.length===0)&&H(re,Or({},this.props.templateProps,{templateKey:"searchableNoResults",rootProps:{className:this.props.cssClasses.noResults}})),d=k(this.props.cssClasses.root,(!this.props.facetValues||this.props.facetValues.length===0)&&this.props.cssClasses.noRefinementRoot,this.props.className);return H("div",{className:d},this.props.children,u,f,m,s)}}]),r})(gt);Tt(Rp,"defaultProps",N0);var A0={empty:function(){return"No results"},item:function(t){return JSON.stringify(gg(t,["__hitIndex"]),null,2)}};function nn(e){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(e)}var k0=["hit","index"];function Vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vu(Object(r),!0).forEach(function(n){F0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0(e,t,r){return(t=D0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D0(e){var t=L0(e,"string");return nn(t)=="symbol"?t:t+""}function L0(e,t){if(nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0(e,t){if(e==null)return{};var r,n,i=H0(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function H0(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z0(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wt.apply(null,arguments)}var U0=we({name:"hits"}),B0=T_({createElement:H}),Z0=function(t){var r=t.renderState,n=t.cssClasses,i=t.containerNode,a=t.templates;return function(s,o){var u=s.items,f=s.results,m=s.instantSearchInstance,d=s.insights,h=s.bindEvent,l=s.sendEvent,p=s.banner;if(o){r.templateProps=Le({defaultTemplates:A0,templatesConfig:m.templatesConfig,templates:a});return}var y=Rw({insights:d,sendEvent:l}),_=function(S){var w=Wt({},(z0(S),S));return H(re,Wt({},r.templateProps,{rootProps:w,templateKey:"empty",data:f,rootTagName:"fragment"}))},c=function(S){var w=S.hit,R=S.index,j=M0(S,k0);return H(re,Wt({},r.templateProps,{templateKey:"item",rootTagName:"li",rootProps:qt(qt({},j),{},{onClick:function(O){y(O),j.onClick()},onAuxClick:function(O){y(O),j.onAuxClick()}}),data:qt(qt({},w),{},{get __hitIndex(){return R}}),bindEvent:h,sendEvent:l}))},g=function(S){return H(re,Wt({},r.templateProps,{templateKey:"banner",data:S,rootTagName:"fragment"}))};Ne(H(B0,{hits:u,itemComponent:c,sendEvent:l,classNames:n,emptyComponent:_,banner:p,bannerComponent:a.banner?g:void 0}),i)}};const q0=(function(t){var r=t||{},n=r.container,i=r.escapeHTML,a=r.transformItems,s=r.templates,o=s===void 0?{}:s,u=r.cssClasses,f=u===void 0?{}:u;if(!n)throw new Error(U0("The `container` option is required."));var m=vt(n),d=Z0({containerNode:m,cssClasses:f,renderState:{},templates:o}),h=jw(gw)(d,function(){return Ne(null,m)});return qt(qt({},h({escapeHTML:i,transformItems:a})),{},{$$widgetType:"ais.hits"})});function W0(e){function t(r){return function(n){cf(n)||(n.preventDefault(),e.setCurrentPage(r))}}return H("div",{className:k(e.cssClasses.root,e.nbPages<=1&&e.cssClasses.noRefinementRoot)},H("ul",{className:e.cssClasses.list},e.showFirst&&H(dr,{ariaLabel:"First Page",className:e.cssClasses.firstPageItem,isDisabled:e.isFirstPage,templates:e.templates,templateKey:"first",pageNumber:0,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.showPrevious&&H(dr,{ariaLabel:"Previous Page",className:e.cssClasses.previousPageItem,isDisabled:e.isFirstPage,templates:e.templates,templateKey:"previous",pageNumber:e.currentPage-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.pages.map(function(r){return H(dr,{key:r,ariaLabel:"Page ".concat(r+1),className:e.cssClasses.pageItem,isSelected:r===e.currentPage,templates:e.templates,templateKey:"page",pageNumber:r,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t})}),e.showNext&&H(dr,{ariaLabel:"Next Page",className:e.cssClasses.nextPageItem,isDisabled:e.isLastPage,templates:e.templates,templateKey:"next",pageNumber:e.currentPage+1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.showLast&&H(dr,{ariaLabel:"Last Page, Page ".concat(e.nbPages),className:e.cssClasses.lastPageItem,isDisabled:e.isLastPage,templates:e.templates,templateKey:"last",pageNumber:e.nbPages-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t})))}function dr(e){var t=e.templates,r=e.templateKey,n=e.ariaLabel,i=e.pageNumber,a=e.className,s=e.isDisabled,o=s===void 0?!1:s,u=e.isSelected,f=u===void 0?!1:u,m=e.cssClasses,d=e.createURL,h=e.createClickHandler;return H("li",{className:k(m.item,o&&m.disabledItem,a,f&&m.selectedItem)},o?H(re,{rootTagName:"span",rootProps:{className:m.link,"aria-label":n},templateKey:r,templates:t,data:{page:i+1}}):H(re,{rootTagName:"a",rootProps:{className:m.link,"aria-label":n,href:d(i),onClick:h(i)},templateKey:r,templates:t,data:{page:i+1}}))}function an(e){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(e)}function Qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qu(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0(e,t,r){return(t=Q0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q0(e){var t=K0(e,"string");return an(t)=="symbol"?t:t+""}function K0(e,t){if(an(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(an(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var De=rt("Pagination"),J0=we({name:"pagination"}),Y0={previous:function(){return""},next:function(){return""},page:function(t){var r=t.page;return"".concat(r)},first:function(){return""},last:function(){return""}},G0=function(t){var r=t.containerNode,n=t.cssClasses,i=t.templates,a=t.showFirst,s=t.showLast,o=t.showPrevious,u=t.showNext,f=t.scrollToNode;return function(m,d){var h=m.createURL,l=m.currentRefinement,p=m.nbPages,y=m.pages,_=m.isFirstPage,c=m.isLastPage,g=m.refine;if(!d){var v=function(w){g(w),f!==!1&&f.scrollIntoView()};Ne(H(W0,{createURL:h,cssClasses:n,currentPage:l,templates:i,nbPages:p,pages:y,isFirstPage:_,isLastPage:c,setCurrentPage:v,showFirst:a,showLast:s,showPrevious:o,showNext:u}),r)}}},X0=function(t){var r=t||{},n=r.container,i=r.templates,a=i===void 0?{}:i,s=r.cssClasses,o=s===void 0?{}:s,u=r.totalPages,f=r.padding,m=r.showFirst,d=m===void 0?!0:m,h=r.showLast,l=h===void 0?!0:h,p=r.showPrevious,y=p===void 0?!0:p,_=r.showNext,c=_===void 0?!0:_,g=r.scrollTo,v=g===void 0?"body":g;if(!n)throw new Error(J0("The `container` option is required."));var S=vt(n),w=v===!0?"body":v,R=w!==!1?vt(w):!1,j={root:k(De(),o.root),noRefinementRoot:k(De({modifierName:"noRefinement"}),o.noRefinementRoot),list:k(De({descendantName:"list"}),o.list),item:k(De({descendantName:"item"}),o.item),firstPageItem:k(De({descendantName:"item",modifierName:"firstPage"}),o.firstPageItem),lastPageItem:k(De({descendantName:"item",modifierName:"lastPage"}),o.lastPageItem),previousPageItem:k(De({descendantName:"item",modifierName:"previousPage"}),o.previousPageItem),nextPageItem:k(De({descendantName:"item",modifierName:"nextPage"}),o.nextPageItem),pageItem:k(De({descendantName:"item",modifierName:"page"}),o.pageItem),selectedItem:k(De({descendantName:"item",modifierName:"selected"}),o.selectedItem),disabledItem:k(De({descendantName:"item",modifierName:"disabled"}),o.disabledItem),link:k(De({descendantName:"link"}),o.link)},b=xn(xn({},Y0),a),O=G0({containerNode:S,cssClasses:j,templates:b,showFirst:d,showLast:l,showPrevious:y,showNext:c,scrollToNode:R}),P=Dw(O,function(){return Ne(null,S)});return xn(xn({},P({totalPages:u,padding:f})),{},{$$widgetType:"ais.pagination"})},eO=H("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),tO=H("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),rO=H("g",{fill:"none","fill-rule":"evenodd"},H("g",{transform:"translate(1 1)","stroke-width":"2"},H("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),H("path",{d:"M36 18c0-9.94-8.06-18-18-18"},H("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),Ep={reset:function(t){var r=t.cssClasses;return H("svg",{className:r.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},eO)},submit:function(t){var r=t.cssClasses;return H("svg",{className:r.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},tO)},loadingIndicator:function(t){var r=t.cssClasses;return H("svg",{"aria-label":"Results are loading",className:r.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444","aria-hidden":"true"},rO)}},nO={item:function(t){var r=t.cssClasses,n=t.count,i=t.value,a=t.highlighted,s=t.isRefined,o=t.isFromSearch;return H("label",{className:k(r.label)},H("input",{type:"checkbox",className:k(r.checkbox),value:i,defaultChecked:s}),H("span",{className:k(r.labelText),dangerouslySetInnerHTML:o?{__html:a}:void 0},!o&&a),H("span",{className:k(r.count)},Lr(n)))},showMoreText:function(t){var r=t.isShowingMore;return r?"Show less":"Show more"},searchableNoResults:function(){return"No results"}};function on(e){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(e)}function Ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ku(Object(r),!0).forEach(function(n){iO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iO(e,t,r){return(t=aO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aO(e){var t=oO(e,"string");return on(t)=="symbol"?t:t+""}function oO(e,t){if(on(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(on(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sO=we({name:"refinement-list"}),ke=rt("RefinementList"),ot=rt("SearchBox"),cO=function(t){var r=t.containerNode,n=t.cssClasses,i=t.templates,a=t.searchBoxTemplates,s=t.renderState,o=t.showMore,u=t.searchable,f=t.searchablePlaceholder,m=t.searchableIsAlwaysActive,d=t.searchableSelectOnSubmit;return function(h,l){var p=h.refine,y=h.items,_=h.createURL,c=h.searchForItems,g=h.isFromSearch,v=h.instantSearchInstance,S=h.toggleShowMore,w=h.isShowingMore,R=h.hasExhaustiveItems,j=h.canToggleShowMore;if(l){s.templateProps=Le({defaultTemplates:nO,templatesConfig:v.templatesConfig,templates:i}),s.searchBoxTemplateProps=Le({defaultTemplates:Ep,templatesConfig:v.templatesConfig,templates:a});return}Ne(H(Rp,{createURL:_,cssClasses:n,facetValues:y,templateProps:s.templateProps,searchBoxTemplateProps:s.searchBoxTemplateProps,toggleRefinement:p,searchFacetValues:u?c:void 0,searchPlaceholder:f,searchIsAlwaysActive:m,isFromSearch:g,showMore:o&&!g&&y.length>0,toggleShowMore:S,isShowingMore:w,hasExhaustiveItems:R,canToggleShowMore:j,searchableSelectOnSubmit:d}),r)}},In=function(t){var r=t||{},n=r.container,i=r.attribute,a=r.operator,s=r.sortBy,o=r.limit,u=r.showMore,f=r.showMoreLimit,m=r.searchable,d=m===void 0?!1:m,h=r.searchablePlaceholder,l=h===void 0?"Search...":h,p=r.searchableEscapeFacetValues,y=p===void 0?!0:p,_=r.searchableIsAlwaysActive,c=_===void 0?!0:_,g=r.searchableSelectOnSubmit,v=g===void 0?!0:g,S=r.cssClasses,w=S===void 0?{}:S,R=r.templates,j=R===void 0?{}:R,b=r.transformItems;if(!n)throw new Error(sO("The `container` option is required."));var O=d?!!y:!1,P=vt(n),$={root:k(ke(),w.root),noRefinementRoot:k(ke({modifierName:"noRefinement"}),w.noRefinementRoot),list:k(ke({descendantName:"list"}),w.list),item:k(ke({descendantName:"item"}),w.item),selectedItem:k(ke({descendantName:"item",modifierName:"selected"}),w.selectedItem),searchBox:k(ke({descendantName:"searchBox"}),w.searchBox),label:k(ke({descendantName:"label"}),w.label),checkbox:k(ke({descendantName:"checkbox"}),w.checkbox),labelText:k(ke({descendantName:"labelText"}),w.labelText),count:k(ke({descendantName:"count"}),w.count),noResults:k(ke({descendantName:"noResults"}),w.noResults),showMore:k(ke({descendantName:"showMore"}),w.showMore),disabledShowMore:k(ke({descendantName:"showMore",modifierName:"disabled"}),w.disabledShowMore),searchable:{root:k(ot(),w.searchableRoot),form:k(ot({descendantName:"form"}),w.searchableForm),input:k(ot({descendantName:"input"}),w.searchableInput),submit:k(ot({descendantName:"submit"}),w.searchableSubmit),submitIcon:k(ot({descendantName:"submitIcon"}),w.searchableSubmitIcon),reset:k(ot({descendantName:"reset"}),w.searchableReset),resetIcon:k(ot({descendantName:"resetIcon"}),w.searchableResetIcon),loadingIndicator:k(ot({descendantName:"loadingIndicator"}),w.searchableLoadingIndicator),loadingIcon:k(ot({descendantName:"loadingIcon"}),w.searchableLoadingIcon)}},T=cO({containerNode:P,cssClasses:$,templates:j,searchBoxTemplates:{submit:j.searchableSubmit,reset:j.searchableReset,loadingIndicator:j.searchableLoadingIndicator},renderState:{},searchable:d,searchablePlaceholder:l,searchableIsAlwaysActive:c,searchableSelectOnSubmit:v,showMore:u}),A=Bw(T,function(){return Ne(null,P)});return Ju(Ju({},A({attribute:i,operator:a,limit:o,showMore:u,showMoreLimit:f,sortBy:s,escapeFacetValues:O,transformItems:b})),{},{$$widgetType:"ais.refinementList"})};function sn(e){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(e)}function Yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yu(Object(r),!0).forEach(function(n){uO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uO(e,t,r){return(t=lO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lO(e){var t=fO(e,"string");return sn(t)=="symbol"?t:t+""}function fO(e,t){if(sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pO=we({name:"search-box"}),st=rt("SearchBox"),dO=function(t){var r=t.containerNode,n=t.cssClasses,i=t.placeholder,a=t.templates,s=t.autofocus,o=t.searchAsYouType,u=t.ignoreCompositionEvents,f=t.showReset,m=t.showSubmit,d=t.showLoadingIndicator;return function(h){var l=h.refine,p=h.query,y=h.isSearchStalled;Ne(H(Ko,{query:p,placeholder:i,autofocus:s,refine:l,searchAsYouType:o,ignoreCompositionEvents:u,templates:a,showSubmit:m,showReset:f,showLoadingIndicator:d,isSearchStalled:y,cssClasses:n}),r)}},mO=function(t){var r=t||{},n=r.container,i=r.placeholder,a=i===void 0?"":i,s=r.cssClasses,o=s===void 0?{}:s,u=r.autofocus,f=u===void 0?!1:u,m=r.searchAsYouType,d=m===void 0?!0:m,h=r.ignoreCompositionEvents,l=h===void 0?!1:h,p=r.showReset,y=p===void 0?!0:p,_=r.showSubmit,c=_===void 0?!0:_,g=r.showLoadingIndicator,v=g===void 0?!0:g,S=r.queryHook,w=r.templates,R=w===void 0?{}:w;if(!n)throw new Error(pO("The `container` option is required."));var j=vt(n),b={root:k(st(),o.root),form:k(st({descendantName:"form"}),o.form),input:k(st({descendantName:"input"}),o.input),submit:k(st({descendantName:"submit"}),o.submit),submitIcon:k(st({descendantName:"submitIcon"}),o.submitIcon),reset:k(st({descendantName:"reset"}),o.reset),resetIcon:k(st({descendantName:"resetIcon"}),o.resetIcon),loadingIndicator:k(st({descendantName:"loadingIndicator"}),o.loadingIndicator),loadingIcon:k(st({descendantName:"loadingIcon"}),o.loadingIcon)},O=Nn(Nn({},Ep),R),P=dO({containerNode:j,cssClasses:b,placeholder:a,templates:O,autofocus:f,searchAsYouType:d,ignoreCompositionEvents:l,showReset:y,showSubmit:c,showLoadingIndicator:v}),$=Jw(P,function(){return Ne(null,j)});return Nn(Nn({},$({queryHook:S})),{},{$$widgetType:"ais.searchBox"})};function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}var hO=["nbHits","nbSortedHits","cssClasses","templateProps"];function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}function Gu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gu(Object(r),!0).forEach(function(n){vO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vO(e,t,r){return(t=yO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=bO(e,"string");return cn(t)=="symbol"?t:t+""}function bO(e,t){if(cn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _O(e,t){if(e==null)return{};var r,n,i=SO(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SO(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wO=function(t){var r=t.nbHits,n=t.nbSortedHits,i=t.cssClasses,a=t.templateProps,s=_O(t,hO);return H("div",{className:k(i.root)},H(re,wo({},a,{templateKey:"text",rootTagName:"span",rootProps:{className:i.text},data:gO({hasManySortedResults:n&&n>1,hasNoSortedResults:n===0,hasOneSortedResults:n===1,hasManyResults:r>1,hasNoResults:r===0,hasOneResult:r===1,nbHits:r,nbSortedHits:n,cssClasses:i},s)})))};function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(e)}function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(r),!0).forEach(function(n){OO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OO(e,t,r){return(t=PO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(e){var t=jO(e,"string");return un(t)=="symbol"?t:t+""}function jO(e,t){if(un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO=we({name:"stats"}),tl=rt("Stats"),EO={text:function(t){return"".concat(t.areHitsSorted?$O(t):CO(t)," found in ").concat(t.processingTimeMS,"ms")}};function $O(e){var t=e.nbHits,r=e.hasNoSortedResults,n=e.hasOneSortedResults,i=e.hasManySortedResults,a=e.nbSortedHits,s="sorted out of ".concat(Lr(t));return r?"No relevant results ".concat(s):n?"1 relevant result ".concat(s):i?"".concat(Lr(a||0)," relevant results ").concat(s):""}function CO(e){var t=e.nbHits,r=e.hasNoResults,n=e.hasOneResult,i=e.hasManyResults;return r?"No results":n?"1 result":i?"".concat(Lr(t)," results"):""}var TO=function(t){var r=t.renderState,n=t.cssClasses,i=t.containerNode,a=t.templates;return function(s,o){var u=s.hitsPerPage,f=s.nbHits,m=s.nbSortedHits,d=s.areHitsSorted,h=s.nbPages,l=s.page,p=s.processingTimeMS,y=s.query,_=s.instantSearchInstance;if(o){r.templateProps=Le({defaultTemplates:EO,templatesConfig:_.templatesConfig,templates:a});return}Ne(H(wO,{cssClasses:n,hitsPerPage:u,nbHits:f,nbSortedHits:m,areHitsSorted:d,nbPages:h,page:l,processingTimeMS:p,query:y,templateProps:r.templateProps}),i)}},xO=function(t){var r=t||{},n=r.container,i=r.cssClasses,a=i===void 0?{}:i,s=r.templates,o=s===void 0?{}:s;if(!n)throw new Error(RO("The `container` option is required."));var u=vt(n),f={root:k(tl(),a.root),text:k(tl({descendantName:"text"}),a.text)},m=TO({containerNode:u,cssClasses:f,templates:o,renderState:{}}),d=t0(m,function(){return Ne(null,u)});return el(el({},d({})),{},{$$widgetType:"ais.stats"})},$p="vercel.ai.error",IO=Symbol.for($p),Cp,NO=class Tp extends Error{constructor({name:t,message:r,cause:n}){super(r),this[Cp]=!0,this.name=t,this.cause=n}static isInstance(t){return Tp.hasMarker(t,$p)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};Cp=IO;var bt=NO;function xp(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Ip="AI_InvalidArgumentError",Np=`vercel.ai.error.${Ip}`,AO=Symbol.for(Np),Ap,kO=class extends bt{constructor({message:e,cause:t,argument:r}){super({name:Ip,message:e,cause:t}),this[Ap]=!0,this.argument=r}static isInstance(e){return bt.hasMarker(e,Np)}};Ap=AO;var kp="AI_JSONParseError",Fp=`vercel.ai.error.${kp}`,FO=Symbol.for(Fp),Dp,rl=class extends bt{constructor({text:e,cause:t}){super({name:kp,message:`JSON parsing failed: Text: ${e}.
Error message: ${xp(t)}`,cause:t}),this[Dp]=!0,this.text=e}static isInstance(e){return bt.hasMarker(e,Fp)}};Dp=FO;var Lp="AI_TypeValidationError",Mp=`vercel.ai.error.${Lp}`,DO=Symbol.for(Mp),Hp,LO=class Oo extends bt{constructor({value:t,cause:r}){super({name:Lp,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${xp(r)}`,cause:r}),this[Hp]=!0,this.value=t}static isInstance(t){return bt.hasMarker(t,Mp)}static wrap({value:t,cause:r}){return Oo.isInstance(r)&&r.value===t?r:new Oo({value:t,cause:r})}};Hp=DO;var ti=LO;class nl extends Error{constructor(t,r){super(t),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function Ca(e){}function MO(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Ca,onError:r=Ca,onRetry:n=Ca,onComment:i}=e;let a="",s=!0,o,u="",f="";function m(y){const _=s?y.replace(/^\xEF\xBB\xBF/,""):y,[c,g]=HO(`${a}${_}`);for(const v of c)d(v);a=g,s=!1}function d(y){if(y===""){l();return}if(y.startsWith(":")){i&&i(y.slice(y.startsWith(": ")?2:1));return}const _=y.indexOf(":");if(_!==-1){const c=y.slice(0,_),g=y[_+1]===" "?2:1,v=y.slice(_+g);h(c,v,y);return}h(y,"",y)}function h(y,_,c){switch(y){case"event":f=_;break;case"data":u=`${u}${_}
`;break;case"id":o=_.includes("\0")?void 0:_;break;case"retry":/^\d+$/.test(_)?n(parseInt(_,10)):r(new nl(`Invalid \`retry\` value: "${_}"`,{type:"invalid-retry",value:_,line:c}));break;default:r(new nl(`Unknown field "${y.length>20?`${y.slice(0,20)}`:y}"`,{type:"unknown-field",field:y,value:_,line:c}));break}}function l(){u.length>0&&t({id:o,event:f||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),o=void 0,u="",f=""}function p(y={}){a&&y.consume&&d(a),s=!0,o=void 0,u="",f="",a=""}return{feed:m,reset:p}}function HO(e){const t=[];let r="",n=0;for(;n<e.length;){const i=e.indexOf("\r",n),a=e.indexOf(`
`,n);let s=-1;if(i!==-1&&a!==-1?s=Math.min(i,a):i!==-1?i===e.length-1?s=-1:s=i:a!==-1&&(s=a),s===-1){r=e.slice(n);break}else{const o=e.slice(n,s);t.push(o),n=s+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[t,r]}class zO extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let i;super({start(a){i=MO({onEvent:s=>{a.enqueue(s)},onError(s){t==="terminate"?a.error(s):typeof t=="function"&&t(s)},onRetry:r,onComment:n})},transform(a){i.feed(a)}})}}function L(e,t,r){function n(o,u){var f;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(f=o._zod).traits??(f.traits=new Set),o._zod.traits.add(e),t(o,u);for(const m in s.prototype)m in o||Object.defineProperty(o,m,{value:s.prototype[m].bind(o)});o._zod.constr=s,o._zod.def=u}const i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(o){var u;const f=r?.Parent?new a:this;n(f,o),(u=f._zod).deferred??(u.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class ln extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const zp={};function _t(e){return zp}function Up(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function UO(e,t){return typeof t=="bigint"?t.toString():t}function Jo(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Yo(e){return e==null}function Go(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function BO(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}function ie(e,t,r){Object.defineProperty(e,t,{get(){{const n=r();return e[t]=n,n}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function bi(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function mr(e){return JSON.stringify(e)}const Bp=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ri(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ZO=Jo(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ni(e){if(ri(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(ri(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const qO=new Set(["string","number","symbol"]);function bn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kt(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function V(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function WO(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const VO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function QO(e,t){const r={},n=e._zod.def;for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(r[i]=n.shape[i])}return kt(e,{...e._zod.def,shape:r,checks:[]})}function KO(e,t){const r={...e._zod.def.shape},n=e._zod.def;for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete r[i]}return kt(e,{...e._zod.def,shape:r,checks:[]})}function JO(e,t){if(!ni(t))throw new Error("Invalid input to extend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return bi(this,"shape",n),n},checks:[]};return kt(e,r)}function YO(e,t){return kt(e,{...e._zod.def,get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return bi(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function GO(e,t,r){const n=t._zod.def.shape,i={...n};if(r)for(const a in r){if(!(a in n))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=e?new e({type:"optional",innerType:n[a]}):n[a])}else for(const a in n)i[a]=e?new e({type:"optional",innerType:n[a]}):n[a];return kt(t,{...t._zod.def,shape:i,checks:[]})}function XO(e,t,r){const n=t._zod.def.shape,i={...n};if(r)for(const a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=new e({type:"nonoptional",innerType:n[a]}))}else for(const a in n)i[a]=new e({type:"nonoptional",innerType:n[a]});return kt(t,{...t._zod.def,shape:i,checks:[]})}function Pr(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function xt(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function An(e){return typeof e=="string"?e:e?.message}function St(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=An(e.inst?._zod.def?.error?.(e))??An(t?.error?.(e))??An(r.customError?.(e))??An(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function Xo(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function fn(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const Zp=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,UO,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},qp=L("$ZodError",Zp),Wp=L("$ZodError",Zp,{Parent:Error});function eP(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function tP(e,t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>i({issues:o}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(r(s));else{let o=n,u=0;for(;u<s.path.length;){const f=s.path[u];u===s.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(r(s))):o[f]=o[f]||{_errors:[]},o=o[f],u++}}};return i(e),n}const rP=e=>(t,r,n,i)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new ln;if(s.issues.length){const o=new(i?.Err??e)(s.issues.map(u=>St(u,a,_t())));throw Bp(o,i?.callee),o}return s.value},nP=e=>async(t,r,n,i)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(i?.Err??e)(s.issues.map(u=>St(u,a,_t())));throw Bp(o,i?.callee),o}return s.value},Vp=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new ln;return a.issues.length?{success:!1,error:new(e??qp)(a.issues.map(s=>St(s,i,_t())))}:{success:!0,data:a.value}},iP=Vp(Wp),Qp=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>St(s,i,_t())))}:{success:!0,data:a.value}},aP=Qp(Wp),oP=/^[cC][^\s-]{8,}$/,sP=/^[0-9a-z]+$/,cP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,uP=/^[0-9a-vA-V]{20}$/,lP=/^[A-Za-z0-9]{27}$/,fP=/^[a-zA-Z0-9_-]{21}$/,pP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,dP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,il=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,mP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,hP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gP(){return new RegExp(hP,"u")}const vP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,bP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_P=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Kp=/^[A-Za-z0-9_-]*$/,wP=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,OP=/^\+(?:[0-9]){6,14}[0-9]$/,Jp="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",PP=new RegExp(`^${Jp}$`);function Yp(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jP(e){return new RegExp(`^${Yp(e)}$`)}function RP(e){const t=Yp({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-]\\d{2}:\\d{2})");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Jp}T(?:${n})$`)}const EP=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},$P=/^\d+$/,CP=/^-?\d+(?:\.\d+)?/i,TP=/true|false/i,xP=/null/i,IP=/^[^A-Z]*$/,NP=/^[^a-z]*$/,Ae=L("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Gp={number:"number",bigint:"bigint",object:"date"},Xp=L("$ZodCheckLessThan",(e,t)=>{Ae.init(e,t);const r=Gp[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ed=L("$ZodCheckGreaterThan",(e,t)=>{Ae.init(e,t);const r=Gp[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),AP=L("$ZodCheckMultipleOf",(e,t)=>{Ae.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):BO(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),kP=L("$ZodCheckNumberFormat",(e,t)=>{Ae.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[i,a]=VO[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=i,o.maximum=a,r&&(o.pattern=$P)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),FP=L("$ZodCheckMaxLength",(e,t)=>{var r;Ae.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!Yo(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=Xo(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),DP=L("$ZodCheckMinLength",(e,t)=>{var r;Ae.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!Yo(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=Xo(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),LP=L("$ZodCheckLengthEquals",(e,t)=>{var r;Ae.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!Yo(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,a=i.length;if(a===t.length)return;const s=Xo(i),o=a>t.length;n.issues.push({origin:s,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),_i=L("$ZodCheckStringFormat",(e,t)=>{var r,n;Ae.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),MP=L("$ZodCheckRegex",(e,t)=>{_i.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),HP=L("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=IP),_i.init(e,t)}),zP=L("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=NP),_i.init(e,t)}),UP=L("$ZodCheckIncludes",(e,t)=>{Ae.init(e,t);const r=bn(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),BP=L("$ZodCheckStartsWith",(e,t)=>{Ae.init(e,t);const r=new RegExp(`^${bn(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),ZP=L("$ZodCheckEndsWith",(e,t)=>{Ae.init(e,t);const r=new RegExp(`.*${bn(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),qP=L("$ZodCheckOverwrite",(e,t)=>{Ae.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class WP{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),a=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,i.join(`
`))}}const VP={major:4,minor:0,patch:0},se=L("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=VP;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const a of i._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(a,s,o)=>{let u=Pr(a),f;for(const m of s){if(m._zod.def.when){if(!m._zod.def.when(a))continue}else if(u)continue;const d=a.issues.length,h=m._zod.check(a);if(h instanceof Promise&&o?.async===!1)throw new ln;if(f||h instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await h,a.issues.length!==d&&(u||(u=Pr(a,d)))});else{if(a.issues.length===d)continue;u||(u=Pr(a,d))}}return f?f.then(()=>a):a};e._zod.run=(a,s)=>{const o=e._zod.parse(a,s);if(o instanceof Promise){if(s.async===!1)throw new ln;return o.then(u=>i(u,n,s))}return i(o,n,s)}}e["~standard"]={validate:i=>{try{const a=iP(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return aP(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),es=L("$ZodString",(e,t)=>{se.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??EP(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),fe=L("$ZodStringFormat",(e,t)=>{_i.init(e,t),es.init(e,t)}),QP=L("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=dP),fe.init(e,t)}),KP=L("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=il(n))}else t.pattern??(t.pattern=il());fe.init(e,t)}),JP=L("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=mP),fe.init(e,t)}),YP=L("$ZodURL",(e,t)=>{fe.init(e,t),e._zod.check=r=>{try{const n=r.value,i=new URL(n),a=i.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:wP.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),!n.endsWith("/")&&a.endsWith("/")?r.value=a.slice(0,-1):r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),GP=L("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=gP()),fe.init(e,t)}),XP=L("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=fP),fe.init(e,t)}),ej=L("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=oP),fe.init(e,t)}),tj=L("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=sP),fe.init(e,t)}),rj=L("$ZodULID",(e,t)=>{t.pattern??(t.pattern=cP),fe.init(e,t)}),nj=L("$ZodXID",(e,t)=>{t.pattern??(t.pattern=uP),fe.init(e,t)}),ij=L("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=lP),fe.init(e,t)}),aj=L("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=RP(t)),fe.init(e,t)}),oj=L("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=PP),fe.init(e,t)}),sj=L("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=jP(t)),fe.init(e,t)}),cj=L("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=pP),fe.init(e,t)}),uj=L("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=vP),fe.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),lj=L("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=yP),fe.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),fj=L("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=bP),fe.init(e,t)}),pj=L("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=_P),fe.init(e,t),e._zod.check=r=>{const[n,i]=r.value.split("/");try{if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function td(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const dj=L("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=SP),fe.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{td(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function mj(e){if(!Kp.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return td(r)}const hj=L("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Kp),fe.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{mj(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),gj=L("$ZodE164",(e,t)=>{t.pattern??(t.pattern=OP),fe.init(e,t)});function vj(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const yj=L("$ZodJWT",(e,t)=>{fe.init(e,t),e._zod.check=r=>{vj(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),rd=L("$ZodNumber",(e,t)=>{se.init(e,t),e._zod.pattern=e._zod.bag.pattern??CP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),bj=L("$ZodNumber",(e,t)=>{kP.init(e,t),rd.init(e,t)}),_j=L("$ZodBoolean",(e,t)=>{se.init(e,t),e._zod.pattern=TP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),Sj=L("$ZodNull",(e,t)=>{se.init(e,t),e._zod.pattern=xP,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),r}}),wj=L("$ZodUnknown",(e,t)=>{se.init(e,t),e._zod.parse=r=>r}),Oj=L("$ZodNever",(e,t)=>{se.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function al(e,t,r){e.issues.length&&t.issues.push(...xt(r,e.issues)),t.value[r]=e.value}const Pj=L("$ZodArray",(e,t)=>{se.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const o=i[s],u=t.element._zod.run({value:o,issues:[]},n);u instanceof Promise?a.push(u.then(f=>al(f,r,s))):al(u,r,s)}return a.length?Promise.all(a).then(()=>r):r}});function kn(e,t,r){e.issues.length&&t.issues.push(...xt(r,e.issues)),t.value[r]=e.value}function ol(e,t,r,n){e.issues.length?n[r]===void 0?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...xt(r,e.issues)):e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const jj=L("$ZodObject",(e,t)=>{se.init(e,t);const r=Jo(()=>{const d=Object.keys(t.shape);for(const l of d)if(!(t.shape[l]instanceof se))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const h=WO(t.shape);return{shape:t.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(h)}});ie(e._zod,"propValues",()=>{const d=t.shape,h={};for(const l in d){const p=d[l]._zod;if(p.values){h[l]??(h[l]=new Set);for(const y of p.values)h[l].add(y)}}return h});const n=d=>{const h=new WP(["shape","payload","ctx"]),l=r.value,p=g=>{const v=mr(g);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};h.write("const input = payload.value;");const y=Object.create(null);let _=0;for(const g of l.keys)y[g]=`key_${_++}`;h.write("const newResult = {}");for(const g of l.keys)if(l.optionalKeys.has(g)){const v=y[g];h.write(`const ${v} = ${p(g)};`);const S=mr(g);h.write(`
        if (${v}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${v}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${v}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${v}.value;
        }
        `)}else{const v=y[g];h.write(`const ${v} = ${p(g)};`),h.write(`
          if (${v}.issues.length) payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${mr(g)}, ...iss.path] : [${mr(g)}]
          })));`),h.write(`newResult[${mr(g)}] = ${v}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const c=h.compile();return(g,v)=>c(d,g,v)};let i;const a=ri,s=!zp.jitless,u=s&&ZO.value,f=t.catchall;let m;e._zod.parse=(d,h)=>{m??(m=r.value);const l=d.value;if(!a(l))return d.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),d;const p=[];if(s&&u&&h?.async===!1&&h.jitless!==!0)i||(i=n(t.shape)),d=i(d,h);else{d.value={};const v=m.shape;for(const S of m.keys){const w=v[S],R=w._zod.run({value:l[S],issues:[]},h),j=w._zod.optin==="optional"&&w._zod.optout==="optional";R instanceof Promise?p.push(R.then(b=>j?ol(b,d,S,l):kn(b,d,S))):j?ol(R,d,S,l):kn(R,d,S)}}if(!f)return p.length?Promise.all(p).then(()=>d):d;const y=[],_=m.keySet,c=f._zod,g=c.def.type;for(const v of Object.keys(l)){if(_.has(v))continue;if(g==="never"){y.push(v);continue}const S=c.run({value:l[v],issues:[]},h);S instanceof Promise?p.push(S.then(w=>kn(w,d,v))):kn(S,d,v)}return y.length&&d.issues.push({code:"unrecognized_keys",keys:y,input:l,inst:e}),p.length?Promise.all(p).then(()=>d):d}});function sl(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(a=>St(a,n,_t())))}),t}const nd=L("$ZodUnion",(e,t)=>{se.init(e,t),ie(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),ie(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),ie(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),ie(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>Go(n.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let i=!1;const a=[];for(const s of t.options){const o=s._zod.run({value:r.value,issues:[]},n);if(o instanceof Promise)a.push(o),i=!0;else{if(o.issues.length===0)return o;a.push(o)}}return i?Promise.all(a).then(s=>sl(s,r,e,n)):sl(a,r,e,n)}}),Rj=L("$ZodDiscriminatedUnion",(e,t)=>{nd.init(e,t);const r=e._zod.parse;ie(e._zod,"propValues",()=>{const i={};for(const a of t.options){const s=a._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const[o,u]of Object.entries(s)){i[o]||(i[o]=new Set);for(const f of u)i[o].add(f)}}return i});const n=Jo(()=>{const i=t.options,a=new Map;for(const s of i){const o=s._zod.propValues[t.discriminator];if(!o||o.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const u of o){if(a.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);a.set(u,s)}}return a});e._zod.parse=(i,a)=>{const s=i.value;if(!ri(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const o=n.value.get(s?.[t.discriminator]);return o?o._zod.run(i,a):t.unionFallback?r(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[t.discriminator],inst:e}),i)}}),Ej=L("$ZodIntersection",(e,t)=>{se.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,a=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([u,f])=>cl(r,u,f)):cl(r,a,s)}});function Po(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ni(e)&&ni(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of n){const s=Po(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=t[n],s=Po(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function cl(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Pr(e))return e;const n=Po(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const $j=L("$ZodRecord",(e,t)=>{se.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!ni(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;const a=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;r.value={};for(const u of s)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const f=t.valueType._zod.run({value:i[u],issues:[]},n);f instanceof Promise?a.push(f.then(m=>{m.issues.length&&r.issues.push(...xt(u,m.issues)),r.value[u]=m.value})):(f.issues.length&&r.issues.push(...xt(u,f.issues)),r.value[u]=f.value)}let o;for(const u in i)s.has(u)||(o=o??[],o.push(u));o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:o})}else{r.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const o=t.keyType._zod.run({value:s,issues:[]},n);if(o instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:o.issues.map(f=>St(f,n,_t())),input:s,path:[s],inst:e}),r.value[o.value]=o.value;continue}const u=t.valueType._zod.run({value:i[s],issues:[]},n);u instanceof Promise?a.push(u.then(f=>{f.issues.length&&r.issues.push(...xt(s,f.issues)),r.value[o.value]=f.value})):(u.issues.length&&r.issues.push(...xt(s,u.issues)),r.value[o.value]=u.value)}}return a.length?Promise.all(a).then(()=>r):r}}),Cj=L("$ZodEnum",(e,t)=>{se.init(e,t);const r=Up(t.entries);e._zod.values=new Set(r),e._zod.pattern=new RegExp(`^(${r.filter(n=>qO.has(typeof n)).map(n=>typeof n=="string"?bn(n):n.toString()).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:r,input:a,inst:e}),n}}),Tj=L("$ZodLiteral",(e,t)=>{se.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?bn(r):r?r.toString():String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),xj=L("$ZodTransform",(e,t)=>{se.init(e,t),e._zod.parse=(r,n)=>{const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new ln;return r.value=i,r}}),Ij=L("$ZodOptional",(e,t)=>{se.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ie(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ie(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Go(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(r,n):r.value===void 0?r:t.innerType._zod.run(r,n)}),Nj=L("$ZodNullable",(e,t)=>{se.init(e,t),ie(e._zod,"optin",()=>t.innerType._zod.optin),ie(e._zod,"optout",()=>t.innerType._zod.optout),ie(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Go(r.source)}|null)$`):void 0}),ie(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Aj=L("$ZodDefault",(e,t)=>{se.init(e,t),e._zod.optin="optional",ie(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>ul(a,t)):ul(i,t)}});function ul(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const kj=L("$ZodPrefault",(e,t)=>{se.init(e,t),e._zod.optin="optional",ie(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Fj=L("$ZodNonOptional",(e,t)=>{se.init(e,t),ie(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>ll(a,e)):ll(i,e)}});function ll(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Dj=L("$ZodCatch",(e,t)=>{se.init(e,t),e._zod.optin="optional",ie(e._zod,"optout",()=>t.innerType._zod.optout),ie(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>St(s,n,_t()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>St(a,n,_t()))},input:r.value}),r.issues=[]),r)}}),Lj=L("$ZodPipe",(e,t)=>{se.init(e,t),ie(e._zod,"values",()=>t.in._zod.values),ie(e._zod,"optin",()=>t.in._zod.optin),ie(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(r,n)=>{const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>fl(a,t,n)):fl(i,t,n)}});function fl(e,t,r){return Pr(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const Mj=L("$ZodReadonly",(e,t)=>{se.init(e,t),ie(e._zod,"propValues",()=>t.innerType._zod.propValues),ie(e._zod,"values",()=>t.innerType._zod.values),ie(e._zod,"optin",()=>t.innerType._zod.optin),ie(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(pl):pl(i)}});function pl(e){return e.value=Object.freeze(e.value),e}const Hj=L("$ZodLazy",(e,t)=>{se.init(e,t),ie(e._zod,"innerType",()=>t.getter()),ie(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),ie(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),ie(e._zod,"optin",()=>e._zod.innerType._zod.optin),ie(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(r,n)=>e._zod.innerType._zod.run(r,n)}),zj=L("$ZodCustom",(e,t)=>{Ae.init(e,t),se.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(a=>dl(a,r,n,e));dl(i,r,n,e)}});function dl(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(fn(i))}}class id{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function Uj(){return new id}const br=Uj();function Bj(e,t){return new e({type:"string",...V(t)})}function Zj(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...V(t)})}function ml(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...V(t)})}function qj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...V(t)})}function Wj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...V(t)})}function Vj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...V(t)})}function Qj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...V(t)})}function Kj(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...V(t)})}function Jj(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...V(t)})}function Yj(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...V(t)})}function Gj(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...V(t)})}function Xj(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...V(t)})}function eR(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...V(t)})}function tR(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...V(t)})}function rR(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...V(t)})}function nR(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...V(t)})}function iR(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...V(t)})}function aR(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...V(t)})}function oR(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...V(t)})}function sR(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...V(t)})}function cR(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...V(t)})}function uR(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...V(t)})}function lR(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...V(t)})}function fR(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...V(t)})}function pR(e,t){return new e({type:"string",format:"date",check:"string_format",...V(t)})}function dR(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...V(t)})}function mR(e,t){return new e({type:"string",format:"duration",check:"string_format",...V(t)})}function hR(e,t){return new e({type:"number",checks:[],...V(t)})}function gR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...V(t)})}function vR(e,t){return new e({type:"boolean",...V(t)})}function yR(e,t){return new e({type:"null",...V(t)})}function bR(e){return new e({type:"unknown"})}function _R(e,t){return new e({type:"never",...V(t)})}function hl(e,t){return new Xp({check:"less_than",...V(t),value:e,inclusive:!1})}function Ta(e,t){return new Xp({check:"less_than",...V(t),value:e,inclusive:!0})}function gl(e,t){return new ed({check:"greater_than",...V(t),value:e,inclusive:!1})}function xa(e,t){return new ed({check:"greater_than",...V(t),value:e,inclusive:!0})}function vl(e,t){return new AP({check:"multiple_of",...V(t),value:e})}function ad(e,t){return new FP({check:"max_length",...V(t),maximum:e})}function ii(e,t){return new DP({check:"min_length",...V(t),minimum:e})}function od(e,t){return new LP({check:"length_equals",...V(t),length:e})}function SR(e,t){return new MP({check:"string_format",format:"regex",...V(t),pattern:e})}function wR(e){return new HP({check:"string_format",format:"lowercase",...V(e)})}function OR(e){return new zP({check:"string_format",format:"uppercase",...V(e)})}function PR(e,t){return new UP({check:"string_format",format:"includes",...V(t),includes:e})}function jR(e,t){return new BP({check:"string_format",format:"starts_with",...V(t),prefix:e})}function RR(e,t){return new ZP({check:"string_format",format:"ends_with",...V(t),suffix:e})}function _n(e){return new qP({check:"overwrite",tx:e})}function ER(e){return _n(t=>t.normalize(e))}function $R(){return _n(e=>e.trim())}function CR(){return _n(e=>e.toLowerCase())}function TR(){return _n(e=>e.toUpperCase())}function xR(e,t,r){return new e({type:"array",element:t,...V(r)})}function IR(e,t,r){const n=V(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function NR(e,t,r){return new e({type:"custom",check:"custom",fn:t,...V(r)})}class yl{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??br,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var n;const i=t._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(t);if(s)return s.count++,r.schemaPath.includes(t)&&(s.cycle=r.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,o);const u=t._zod.toJSONSchema?.();if(u)o.schema=u;else{const d={...r,schemaPath:[...r.schemaPath,t],path:r.path},h=t._zod.parent;if(h)o.ref=h,this.process(h,d),this.seen.get(h).isParent=!0;else{const l=o.schema;switch(i.type){case"string":{const p=l;p.type="string";const{minimum:y,maximum:_,format:c,patterns:g,contentEncoding:v}=t._zod.bag;if(typeof y=="number"&&(p.minLength=y),typeof _=="number"&&(p.maxLength=_),c&&(p.format=a[c]??c,p.format===""&&delete p.format),v&&(p.contentEncoding=v),g&&g.size>0){const S=[...g];S.length===1?p.pattern=S[0].source:S.length>1&&(o.schema.allOf=[...S.map(w=>({...this.target==="draft-7"?{type:"string"}:{},pattern:w.source}))])}break}case"number":{const p=l,{minimum:y,maximum:_,format:c,multipleOf:g,exclusiveMaximum:v,exclusiveMinimum:S}=t._zod.bag;typeof c=="string"&&c.includes("int")?p.type="integer":p.type="number",typeof S=="number"&&(p.exclusiveMinimum=S),typeof y=="number"&&(p.minimum=y,typeof S=="number"&&(S>=y?delete p.minimum:delete p.exclusiveMinimum)),typeof v=="number"&&(p.exclusiveMaximum=v),typeof _=="number"&&(p.maximum=_,typeof v=="number"&&(v<=_?delete p.maximum:delete p.exclusiveMaximum)),typeof g=="number"&&(p.multipleOf=g);break}case"boolean":{const p=l;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{l.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{l.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const p=l,{minimum:y,maximum:_}=t._zod.bag;typeof y=="number"&&(p.minItems=y),typeof _=="number"&&(p.maxItems=_),p.type="array",p.items=this.process(i.element,{...d,path:[...d.path,"items"]});break}case"object":{const p=l;p.type="object",p.properties={};const y=i.shape;for(const g in y)p.properties[g]=this.process(y[g],{...d,path:[...d.path,"properties",g]});const _=new Set(Object.keys(y)),c=new Set([..._].filter(g=>{const v=i.shape[g]._zod;return this.io==="input"?v.optin===void 0:v.optout===void 0}));c.size>0&&(p.required=Array.from(c)),i.catchall?._zod.def.type==="never"?p.additionalProperties=!1:i.catchall?i.catchall&&(p.additionalProperties=this.process(i.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{const p=l;p.anyOf=i.options.map((y,_)=>this.process(y,{...d,path:[...d.path,"anyOf",_]}));break}case"intersection":{const p=l,y=this.process(i.left,{...d,path:[...d.path,"allOf",0]}),_=this.process(i.right,{...d,path:[...d.path,"allOf",1]}),c=v=>"allOf"in v&&Object.keys(v).length===1,g=[...c(y)?y.allOf:[y],...c(_)?_.allOf:[_]];p.allOf=g;break}case"tuple":{const p=l;p.type="array";const y=i.items.map((g,v)=>this.process(g,{...d,path:[...d.path,"prefixItems",v]}));if(this.target==="draft-2020-12"?p.prefixItems=y:p.items=y,i.rest){const g=this.process(i.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?p.items=g:p.additionalItems=g}i.rest&&(p.items=this.process(i.rest,{...d,path:[...d.path,"items"]}));const{minimum:_,maximum:c}=t._zod.bag;typeof _=="number"&&(p.minItems=_),typeof c=="number"&&(p.maxItems=c);break}case"record":{const p=l;p.type="object",p.propertyNames=this.process(i.keyType,{...d,path:[...d.path,"propertyNames"]}),p.additionalProperties=this.process(i.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const p=l,y=Up(i.entries);y.every(_=>typeof _=="number")&&(p.type="number"),y.every(_=>typeof _=="string")&&(p.type="string"),p.enum=y;break}case"literal":{const p=l,y=[];for(const _ of i.values)if(_===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof _=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");y.push(Number(_))}else y.push(_);if(y.length!==0)if(y.length===1){const _=y[0];p.type=_===null?"null":typeof _,p.const=_}else y.every(_=>typeof _=="number")&&(p.type="number"),y.every(_=>typeof _=="string")&&(p.type="string"),y.every(_=>typeof _=="boolean")&&(p.type="string"),y.every(_=>_===null)&&(p.type="null"),p.enum=y;break}case"file":{const p=l,y={type:"string",format:"binary",contentEncoding:"binary"},{minimum:_,maximum:c,mime:g}=t._zod.bag;_!==void 0&&(y.minLength=_),c!==void 0&&(y.maxLength=c),g?g.length===1?(y.contentMediaType=g[0],Object.assign(p,y)):p.anyOf=g.map(v=>({...y,contentMediaType:v})):Object.assign(p,y);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const p=this.process(i.innerType,d);l.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,d),o.ref=i.innerType;break}case"success":{const p=l;p.type="boolean";break}case"default":{this.process(i.innerType,d),o.ref=i.innerType,l.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,d),o.ref=i.innerType,this.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,d),o.ref=i.innerType;let p;try{p=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const p=l,y=t._zod.pattern;if(!y)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=y.source;break}case"pipe":{const p=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(p,d),o.ref=p;break}case"readonly":{this.process(i.innerType,d),o.ref=i.innerType,l.readOnly=!0;break}case"promise":{this.process(i.innerType,d),o.ref=i.innerType;break}case"optional":{this.process(i.innerType,d),o.ref=i.innerType;break}case"lazy":{const p=t._zod.innerType;this.process(p,d),o.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const f=this.metadataRegistry.get(t);return f&&Object.assign(o.schema,f),this.io==="input"&&_e(t)&&(delete o.schema.examples,delete o.schema.default),this.io==="input"&&o.schema._prefault&&((n=o.schema).default??(n.default=o.schema._prefault)),delete o.schema._prefault,this.seen.get(t).schema}emit(t,r){const n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(t);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=m=>{const d=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const y=n.external.registry.get(m[0])?.id,_=n.external.uri??(g=>g);if(y)return{ref:_(y)};const c=m[1].defId??m[1].schema.id??`schema${this.counter++}`;return m[1].defId=c,{defId:c,ref:`${_("__shared")}#/${d}/${c}`}}if(m[1]===i)return{ref:"#"};const l=`#/${d}/`,p=m[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:l+p}},s=m=>{if(m[1].schema.$ref)return;const d=m[1],{ref:h,defId:l}=a(m);d.def={...d.schema},l&&(d.defId=l);const p=d.schema;for(const y in p)delete p[y];p.$ref=h};if(n.cycles==="throw")for(const m of this.seen.entries()){const d=m[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const m of this.seen.entries()){const d=m[1];if(t===m[0]){s(m);continue}if(n.external){const l=n.external.registry.get(m[0])?.id;if(t!==m[0]&&l){s(m);continue}}if(this.metadataRegistry.get(m[0])?.id){s(m);continue}if(d.cycle){s(m);continue}if(d.count>1&&n.reused==="ref"){s(m);continue}}const o=(m,d)=>{const h=this.seen.get(m),l=h.def??h.schema,p={...l};if(h.ref===null)return;const y=h.ref;if(h.ref=null,y){o(y,d);const _=this.seen.get(y).schema;_.$ref&&d.target==="draft-7"?(l.allOf=l.allOf??[],l.allOf.push(_)):(Object.assign(l,_),Object.assign(l,p))}h.isParent||this.override({zodSchema:m,jsonSchema:l,path:h.path??[]})};for(const m of[...this.seen.entries()].reverse())o(m[0],{target:this.target});const u={};if(this.target==="draft-2020-12"?u.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?u.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){const m=n.external.registry.get(t)?.id;if(!m)throw new Error("Schema is missing an `id` property");u.$id=n.external.uri(m)}Object.assign(u,i.def);const f=n.external?.defs??{};for(const m of this.seen.entries()){const d=m[1];d.def&&d.defId&&(f[d.defId]=d.def)}n.external||Object.keys(f).length>0&&(this.target==="draft-2020-12"?u.$defs=f:u.definitions=f);try{return JSON.parse(JSON.stringify(u))}catch{throw new Error("Error converting schema to JSON.")}}}function AR(e,t){if(e instanceof id){const n=new yl(t),i={};for(const o of e._idmap.entries()){const[u,f]=o;n.process(f)}const a={},s={registry:e,uri:t?.uri,defs:i};for(const o of e._idmap.entries()){const[u,f]=o;a[u]=n.emit(f,{...t,external:s})}if(Object.keys(i).length>0){const o=n.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[o]:i}}return{schemas:a}}const r=new yl(t);return r.process(e),r.emit(e,t)}function _e(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const i=e._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return _e(i.element,r);case"object":{for(const a in i.shape)if(_e(i.shape[a],r))return!0;return!1}case"union":{for(const a of i.options)if(_e(a,r))return!0;return!1}case"intersection":return _e(i.left,r)||_e(i.right,r);case"tuple":{for(const a of i.items)if(_e(a,r))return!0;return!!(i.rest&&_e(i.rest,r))}case"record":return _e(i.keyType,r)||_e(i.valueType,r);case"map":return _e(i.keyType,r)||_e(i.valueType,r);case"set":return _e(i.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return _e(i.innerType,r);case"lazy":return _e(i.getter(),r);case"default":return _e(i.innerType,r);case"prefault":return _e(i.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return _e(i.in,r)||_e(i.out,r);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${i.type}`)}const kR=L("ZodISODateTime",(e,t)=>{aj.init(e,t),me.init(e,t)});function FR(e){return fR(kR,e)}const DR=L("ZodISODate",(e,t)=>{oj.init(e,t),me.init(e,t)});function LR(e){return pR(DR,e)}const MR=L("ZodISOTime",(e,t)=>{sj.init(e,t),me.init(e,t)});function HR(e){return dR(MR,e)}const zR=L("ZodISODuration",(e,t)=>{cj.init(e,t),me.init(e,t)});function UR(e){return mR(zR,e)}const BR=(e,t)=>{qp.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>tP(e,r)},flatten:{value:r=>eP(e,r)},addIssue:{value:r=>e.issues.push(r)},addIssues:{value:r=>e.issues.push(...r)},isEmpty:{get(){return e.issues.length===0}}})},Si=L("ZodError",BR,{Parent:Error}),ZR=rP(Si),qR=nP(Si),WR=Vp(Si),sd=Qp(Si),pe=L("ZodType",(e,t)=>(se.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>kt(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>ZR(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>WR(e,r,n),e.parseAsync=async(r,n)=>qR(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>sd(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(zE(r,n)),e.superRefine=r=>e.check(UE(r)),e.overwrite=r=>e.check(_n(r)),e.optional=()=>Sl(e),e.nullable=()=>wl(e),e.nullish=()=>Sl(wl(e)),e.nonoptional=r=>IE(e,r),e.array=()=>or(e),e.or=r=>ze([e,r]),e.and=r=>wE(e,r),e.transform=r=>Ol(e,RE(r)),e.default=r=>CE(e,r),e.prefault=r=>xE(e,r),e.catch=r=>AE(e,r),e.pipe=r=>Ol(e,r),e.readonly=()=>DE(e),e.describe=r=>{const n=e.clone();return br.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return br.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return br.get(e);const n=e.clone();return br.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),cd=L("_ZodString",(e,t)=>{es.init(e,t),pe.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(SR(...n)),e.includes=(...n)=>e.check(PR(...n)),e.startsWith=(...n)=>e.check(jR(...n)),e.endsWith=(...n)=>e.check(RR(...n)),e.min=(...n)=>e.check(ii(...n)),e.max=(...n)=>e.check(ad(...n)),e.length=(...n)=>e.check(od(...n)),e.nonempty=(...n)=>e.check(ii(1,...n)),e.lowercase=n=>e.check(wR(n)),e.uppercase=n=>e.check(OR(n)),e.trim=()=>e.check($R()),e.normalize=(...n)=>e.check(ER(...n)),e.toLowerCase=()=>e.check(CR()),e.toUpperCase=()=>e.check(TR())}),VR=L("ZodString",(e,t)=>{es.init(e,t),cd.init(e,t),e.email=r=>e.check(Zj(QR,r)),e.url=r=>e.check(Kj(KR,r)),e.jwt=r=>e.check(lR(lE,r)),e.emoji=r=>e.check(Jj(JR,r)),e.guid=r=>e.check(ml(bl,r)),e.uuid=r=>e.check(qj(Fn,r)),e.uuidv4=r=>e.check(Wj(Fn,r)),e.uuidv6=r=>e.check(Vj(Fn,r)),e.uuidv7=r=>e.check(Qj(Fn,r)),e.nanoid=r=>e.check(Yj(YR,r)),e.guid=r=>e.check(ml(bl,r)),e.cuid=r=>e.check(Gj(GR,r)),e.cuid2=r=>e.check(Xj(XR,r)),e.ulid=r=>e.check(eR(eE,r)),e.base64=r=>e.check(sR(sE,r)),e.base64url=r=>e.check(cR(cE,r)),e.xid=r=>e.check(tR(tE,r)),e.ksuid=r=>e.check(rR(rE,r)),e.ipv4=r=>e.check(nR(nE,r)),e.ipv6=r=>e.check(iR(iE,r)),e.cidrv4=r=>e.check(aR(aE,r)),e.cidrv6=r=>e.check(oR(oE,r)),e.e164=r=>e.check(uR(uE,r)),e.datetime=r=>e.check(FR(r)),e.date=r=>e.check(LR(r)),e.time=r=>e.check(HR(r)),e.duration=r=>e.check(UR(r))});function K(e){return Bj(VR,e)}const me=L("ZodStringFormat",(e,t)=>{fe.init(e,t),cd.init(e,t)}),QR=L("ZodEmail",(e,t)=>{JP.init(e,t),me.init(e,t)}),bl=L("ZodGUID",(e,t)=>{QP.init(e,t),me.init(e,t)}),Fn=L("ZodUUID",(e,t)=>{KP.init(e,t),me.init(e,t)}),KR=L("ZodURL",(e,t)=>{YP.init(e,t),me.init(e,t)}),JR=L("ZodEmoji",(e,t)=>{GP.init(e,t),me.init(e,t)}),YR=L("ZodNanoID",(e,t)=>{XP.init(e,t),me.init(e,t)}),GR=L("ZodCUID",(e,t)=>{ej.init(e,t),me.init(e,t)}),XR=L("ZodCUID2",(e,t)=>{tj.init(e,t),me.init(e,t)}),eE=L("ZodULID",(e,t)=>{rj.init(e,t),me.init(e,t)}),tE=L("ZodXID",(e,t)=>{nj.init(e,t),me.init(e,t)}),rE=L("ZodKSUID",(e,t)=>{ij.init(e,t),me.init(e,t)}),nE=L("ZodIPv4",(e,t)=>{uj.init(e,t),me.init(e,t)}),iE=L("ZodIPv6",(e,t)=>{lj.init(e,t),me.init(e,t)}),aE=L("ZodCIDRv4",(e,t)=>{fj.init(e,t),me.init(e,t)}),oE=L("ZodCIDRv6",(e,t)=>{pj.init(e,t),me.init(e,t)}),sE=L("ZodBase64",(e,t)=>{dj.init(e,t),me.init(e,t)}),cE=L("ZodBase64URL",(e,t)=>{hj.init(e,t),me.init(e,t)}),uE=L("ZodE164",(e,t)=>{gj.init(e,t),me.init(e,t)}),lE=L("ZodJWT",(e,t)=>{yj.init(e,t),me.init(e,t)}),ud=L("ZodNumber",(e,t)=>{rd.init(e,t),pe.init(e,t),e.gt=(n,i)=>e.check(gl(n,i)),e.gte=(n,i)=>e.check(xa(n,i)),e.min=(n,i)=>e.check(xa(n,i)),e.lt=(n,i)=>e.check(hl(n,i)),e.lte=(n,i)=>e.check(Ta(n,i)),e.max=(n,i)=>e.check(Ta(n,i)),e.int=n=>e.check(_l(n)),e.safe=n=>e.check(_l(n)),e.positive=n=>e.check(gl(0,n)),e.nonnegative=n=>e.check(xa(0,n)),e.negative=n=>e.check(hl(0,n)),e.nonpositive=n=>e.check(Ta(0,n)),e.multipleOf=(n,i)=>e.check(vl(n,i)),e.step=(n,i)=>e.check(vl(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function fE(e){return hR(ud,e)}const pE=L("ZodNumberFormat",(e,t)=>{bj.init(e,t),ud.init(e,t)});function _l(e){return gR(pE,e)}const dE=L("ZodBoolean",(e,t)=>{_j.init(e,t),pe.init(e,t)});function Ie(e){return vR(dE,e)}const mE=L("ZodNull",(e,t)=>{Sj.init(e,t),pe.init(e,t)});function hE(e){return yR(mE,e)}const gE=L("ZodUnknown",(e,t)=>{wj.init(e,t),pe.init(e,t)});function Je(){return bR(gE)}const vE=L("ZodNever",(e,t)=>{Oj.init(e,t),pe.init(e,t)});function ld(e){return _R(vE,e)}const yE=L("ZodArray",(e,t)=>{Pj.init(e,t),pe.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(ii(r,n)),e.nonempty=r=>e.check(ii(1,r)),e.max=(r,n)=>e.check(ad(r,n)),e.length=(r,n)=>e.check(od(r,n)),e.unwrap=()=>e.element});function or(e,t){return xR(yE,e,t)}const fd=L("ZodObject",(e,t)=>{jj.init(e,t),pe.init(e,t),ie(e,"shape",()=>t.shape),e.keyof=()=>dd(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Je()}),e.loose=()=>e.clone({...e._zod.def,catchall:Je()}),e.strict=()=>e.clone({...e._zod.def,catchall:ld()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>JO(e,r),e.merge=r=>YO(e,r),e.pick=r=>QO(e,r),e.omit=r=>KO(e,r),e.partial=(...r)=>GO(md,e,r[0]),e.required=(...r)=>XO(hd,e,r[0])});function Pe(e,t){const r={type:"object",get shape(){return bi(this,"shape",{...e}),this.shape},...V(t)};return new fd(r)}function de(e,t){return new fd({type:"object",get shape(){return bi(this,"shape",{...e}),this.shape},catchall:ld(),...V(t)})}const pd=L("ZodUnion",(e,t)=>{nd.init(e,t),pe.init(e,t),e.options=t.options});function ze(e,t){return new pd({type:"union",options:e,...V(t)})}const bE=L("ZodDiscriminatedUnion",(e,t)=>{pd.init(e,t),Rj.init(e,t)});function _E(e,t,r){return new bE({type:"union",options:t,discriminator:e,...V(r)})}const SE=L("ZodIntersection",(e,t)=>{Ej.init(e,t),pe.init(e,t)});function wE(e,t){return new SE({type:"intersection",left:e,right:t})}const OE=L("ZodRecord",(e,t)=>{$j.init(e,t),pe.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function jo(e,t,r){return new OE({type:"record",keyType:e,valueType:t,...V(r)})}const Ro=L("ZodEnum",(e,t)=>{Cj.init(e,t),pe.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const a={};for(const s of n)if(r.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Ro({...t,checks:[],...V(i),entries:a})},e.exclude=(n,i)=>{const a={...t.entries};for(const s of n)if(r.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new Ro({...t,checks:[],...V(i),entries:a})}});function dd(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Ro({type:"enum",entries:r,...V(t)})}const PE=L("ZodLiteral",(e,t)=>{Tj.init(e,t),pe.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function X(e,t){return new PE({type:"literal",values:Array.isArray(e)?e:[e],...V(t)})}const jE=L("ZodTransform",(e,t)=>{xj.init(e,t),pe.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=a=>{if(typeof a=="string")r.issues.push(fn(a,r.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),r.issues.push(fn(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function RE(e){return new jE({type:"transform",transform:e})}const md=L("ZodOptional",(e,t)=>{Ij.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Sl(e){return new md({type:"optional",innerType:e})}const EE=L("ZodNullable",(e,t)=>{Nj.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wl(e){return new EE({type:"nullable",innerType:e})}const $E=L("ZodDefault",(e,t)=>{Aj.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function CE(e,t){return new $E({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const TE=L("ZodPrefault",(e,t)=>{kj.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function xE(e,t){return new TE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const hd=L("ZodNonOptional",(e,t)=>{Fj.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.innerType});function IE(e,t){return new hd({type:"nonoptional",innerType:e,...V(t)})}const NE=L("ZodCatch",(e,t)=>{Dj.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function AE(e,t){return new NE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const kE=L("ZodPipe",(e,t)=>{Lj.init(e,t),pe.init(e,t),e.in=t.in,e.out=t.out});function Ol(e,t){return new kE({type:"pipe",in:e,out:t})}const FE=L("ZodReadonly",(e,t)=>{Mj.init(e,t),pe.init(e,t)});function DE(e){return new FE({type:"readonly",innerType:e})}const LE=L("ZodLazy",(e,t)=>{Hj.init(e,t),pe.init(e,t),e.unwrap=()=>e._zod.def.getter()});function ME(e){return new LE({type:"lazy",getter:e})}const ts=L("ZodCustom",(e,t)=>{zj.init(e,t),pe.init(e,t)});function HE(e){const t=new Ae({check:"custom"});return t._zod.check=e,t}function gd(e,t){return IR(ts,e??(()=>!0),t)}function zE(e,t={}){return NR(ts,e,t)}function UE(e){const t=HE(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(fn(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(fn(i))}},e(r.value,r)));return t}function ai(e,t={error:`Input not instance of ${e.name}`}){const r=new ts({type:"custom",check:"custom",fn:n=>n instanceof e,abort:!0,...V(t)});return r._zod.bag.Class=e,r}var G;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(G||(G={}));var Sn=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const i=()=>{const a=r.length,s=new Array(t);for(let o=0;o<t;o++)s[o]=r[Math.random()*a|0];return s.join("")};if(e==null)return i;if(r.includes(n))throw new kO({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${i()}`},BE=Sn();function Pl(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Et(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(const[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}function jl(e,...t){const r=new Headers(Et(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var ZE=/"__proto__"\s*:/,qE=/"constructor"\s*:/;function Rl(e){const t=JSON.parse(e);return t===null||typeof t!="object"||ZE.test(e)===!1&&qE.test(e)===!1?t:WE(t)}function WE(e){let t=[e];for(;t.length;){const r=t;t=[];for(const n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const i in n){const a=n[i];a&&typeof a=="object"&&t.push(a)}}}return e}function VE(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Rl(e)}try{return Rl(e)}finally{Error.stackTraceLimit=t}}var oi=Symbol.for("vercel.ai.validator");function QE(e){return{[oi]:!0,validate:e}}function KE(e){return typeof e=="object"&&e!==null&&oi in e&&e[oi]===!0&&"validate"in e}function JE(e){let t;return()=>(t==null&&(t=e()),t)}function YE(e){return KE(e)?e:typeof e=="function"?e():GE(e)}function GE(e){return QE(async t=>{const r=await e["~standard"].validate(t);return r.issues==null?{success:!0,value:r.value}:{success:!1,error:new ti({value:t,cause:r.issues})}})}async function El({value:e,schema:t}){const r=await rs({value:e,schema:t});if(!r.success)throw ti.wrap({value:e,cause:r.error});return r.value}async function rs({value:e,schema:t}){const r=YE(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:ti.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:ti.wrap({value:e,cause:n}),rawValue:e}}}async function si({text:e,schema:t}){try{const r=VE(e);return t==null?{success:!0,value:r,rawValue:r}:await rs({value:r,schema:t})}catch(r){return{success:!1,error:rl.isInstance(r)?r:new rl({text:e,cause:r}),rawValue:void 0}}}function XE({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new zO).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await si({text:r,schema:t}))}}))}async function Ht(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}function Zn(e){if(e.type==="object"){e.additionalProperties=!1;const t=e.properties;if(t!=null)for(const r in t)t[r]=Zn(t[r])}return e.type==="array"&&e.items!=null&&(Array.isArray(e.items)?e.items=e.items.map(t=>Zn(t)):e.items=Zn(e.items)),e}var e$=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},t$=Symbol("Let zodToJsonSchema decide on which parser to use"),$l={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},r$=e=>typeof e=="string"?{...$l,name:e}:{...$l,...e};function Fe(){return{}}function n$(e,t){var r,n,i;const a={type:"array"};return(r=e.type)!=null&&r._def&&((i=(n=e.type)==null?void 0:n._def)==null?void 0:i.typeName)!==G.ZodAny&&(a.items=ae(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(a.minItems=e.minLength.value),e.maxLength&&(a.maxItems=e.maxLength.value),e.exactLength&&(a.minItems=e.exactLength.value,a.maxItems=e.exactLength.value),a}function i$(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function a$(){return{type:"boolean"}}function vd(e,t){return ae(e.type._def,t)}var o$=(e,t)=>ae(e.innerType._def,t);function yd(e,t,r){const n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,a)=>yd(e,t,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return s$(e)}}var s$=e=>{const t={type:"integer",format:"unix-time"};for(const r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t};function c$(e,t){return{...ae(e.innerType._def,t),default:e.defaultValue()}}function u$(e,t){return t.effectStrategy==="input"?ae(e.schema._def,t):Fe()}function l$(e){return{type:"string",enum:Array.from(e.values)}}var f$=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function p$(e,t){const r=[ae(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),ae(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),n=[];return r.forEach(i=>{if(f$(i))n.push(...i.allOf);else{let a=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:s,...o}=i;a=o}n.push(a)}}),n.length?{allOf:n}:void 0}function d$(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Ia=void 0,Ze={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ia===void 0&&(Ia=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ia),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function bd(e,t){const r={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":qe(r,"email",n.message,t);break;case"format:idn-email":qe(r,"idn-email",n.message,t);break;case"pattern:zod":xe(r,Ze.email,n.message,t);break}break;case"url":qe(r,"uri",n.message,t);break;case"uuid":qe(r,"uuid",n.message,t);break;case"regex":xe(r,n.regex,n.message,t);break;case"cuid":xe(r,Ze.cuid,n.message,t);break;case"cuid2":xe(r,Ze.cuid2,n.message,t);break;case"startsWith":xe(r,RegExp(`^${Na(n.value,t)}`),n.message,t);break;case"endsWith":xe(r,RegExp(`${Na(n.value,t)}$`),n.message,t);break;case"datetime":qe(r,"date-time",n.message,t);break;case"date":qe(r,"date",n.message,t);break;case"time":qe(r,"time",n.message,t);break;case"duration":qe(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{xe(r,RegExp(Na(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&qe(r,"ipv4",n.message,t),n.version!=="v4"&&qe(r,"ipv6",n.message,t);break}case"base64url":xe(r,Ze.base64url,n.message,t);break;case"jwt":xe(r,Ze.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&xe(r,Ze.ipv4Cidr,n.message,t),n.version!=="v4"&&xe(r,Ze.ipv6Cidr,n.message,t);break}case"emoji":xe(r,Ze.emoji(),n.message,t);break;case"ulid":{xe(r,Ze.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{qe(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{xe(r,Ze.base64,n.message,t);break}}break}case"nanoid":xe(r,Ze.nanoid,n.message,t)}return r}function Na(e,t){return t.patternStrategy==="escape"?h$(e):e}var m$=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function h$(e){let t="";for(let r=0;r<e.length;r++)m$.has(e[r])||(t+="\\"),t+=e[r];return t}function qe(e,t,r,n){var i;e.format||(i=e.anyOf)!=null&&i.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function xe(e,t,r,n){var i;e.pattern||(i=e.allOf)!=null&&i.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Cl(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=Cl(t,n)}function Cl(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=n.i?e.source.toLowerCase():e.source;let a="",s=!1,o=!1,u=!1;for(let f=0;f<i.length;f++){if(s){a+=i[f],s=!1;continue}if(n.i){if(o){if(i[f].match(/[a-z]/)){u?(a+=i[f],a+=`${i[f-2]}-${i[f]}`.toUpperCase(),u=!1):i[f+1]==="-"&&((r=i[f+2])!=null&&r.match(/[a-z]/))?(a+=i[f],u=!0):a+=`${i[f]}${i[f].toUpperCase()}`;continue}}else if(i[f].match(/[a-z]/)){a+=`[${i[f]}${i[f].toUpperCase()}]`;continue}}if(n.m){if(i[f]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(i[f]==="$"){a+=`($|(?=[\r
]))`;continue}}if(n.s&&i[f]==="."){a+=o?`${i[f]}\r
`:`[${i[f]}\r
]`;continue}a+=i[f],i[f]==="\\"?s=!0:o&&i[f]==="]"?o=!1:!o&&i[f]==="["&&(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function _d(e,t){var r,n,i,a,s,o;const u={type:"object",additionalProperties:(r=ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===G.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:f,...m}=bd(e.keyType._def,t);return{...u,propertyNames:m}}else{if(((a=e.keyType)==null?void 0:a._def.typeName)===G.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===G.ZodBranded&&e.keyType._def.type._def.typeName===G.ZodString&&((o=e.keyType._def.type._def.checks)!=null&&o.length)){const{type:f,...m}=vd(e.keyType._def,t);return{...u,propertyNames:m}}}return u}function g$(e,t){if(t.mapStrategy==="record")return _d(e,t);const r=ae(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Fe(),n=ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Fe();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function v$(e){const t=e.values,n=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),i=Array.from(new Set(n.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}function y$(){return{not:Fe()}}function b$(){return{type:"null"}}var Eo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function _$(e,t){const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in Eo&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((i,a)=>{const s=Eo[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((i,a)=>{const s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(a._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){const i=n.filter((a,s,o)=>o.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:r.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(a=>!n.includes(a))],[])};return S$(e,t)}var S$=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,i)=>ae(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function w$(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Eo[e.innerType._def.typeName],"null"]};const r=ae(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function O$(e){const t={type:"number"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function P$(e,t){const r={type:"object",properties:{}},n=[],i=e.shape();for(const s in i){let o=i[s];if(o===void 0||o._def===void 0)continue;const u=R$(o),f=ae(o._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});f!==void 0&&(r.properties[s]=f,u||n.push(s))}n.length&&(r.required=n);const a=j$(e,t);return a!==void 0&&(r.additionalProperties=a),r}function j$(e,t){if(e.catchall._def.typeName!=="ZodNever")return ae(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function R$(e){try{return e.isOptional()}catch{return!0}}var E$=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return ae(e.innerType._def,t);const n=ae(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Fe()},n]}:Fe()},$$=(e,t)=>{if(t.pipeStrategy==="input")return ae(e.in._def,t);if(t.pipeStrategy==="output")return ae(e.out._def,t);const r=ae(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=ae(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function C$(e,t){return ae(e.type._def,t)}function T$(e,t){const n={type:"array",uniqueItems:!0,items:ae(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function x$(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>ae(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:ae(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>ae(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function I$(){return{not:Fe()}}function N$(){return Fe()}var A$=(e,t)=>ae(e.innerType._def,t),k$=(e,t,r)=>{switch(t){case G.ZodString:return bd(e,r);case G.ZodNumber:return O$(e);case G.ZodObject:return P$(e,r);case G.ZodBigInt:return i$(e);case G.ZodBoolean:return a$();case G.ZodDate:return yd(e,r);case G.ZodUndefined:return I$();case G.ZodNull:return b$();case G.ZodArray:return n$(e,r);case G.ZodUnion:case G.ZodDiscriminatedUnion:return _$(e,r);case G.ZodIntersection:return p$(e,r);case G.ZodTuple:return x$(e,r);case G.ZodRecord:return _d(e,r);case G.ZodLiteral:return d$(e);case G.ZodEnum:return l$(e);case G.ZodNativeEnum:return v$(e);case G.ZodNullable:return w$(e,r);case G.ZodOptional:return E$(e,r);case G.ZodMap:return g$(e,r);case G.ZodSet:return T$(e,r);case G.ZodLazy:return()=>e.getter()._def;case G.ZodPromise:return C$(e,r);case G.ZodNaN:case G.ZodNever:return y$();case G.ZodEffects:return u$(e,r);case G.ZodAny:return Fe();case G.ZodUnknown:return N$();case G.ZodDefault:return c$(e,r);case G.ZodBranded:return vd(e,r);case G.ZodReadonly:return A$(e,r);case G.ZodCatch:return o$(e,r);case G.ZodPipeline:return $$(e,r);case G.ZodFunction:case G.ZodVoid:case G.ZodSymbol:return;default:return(n=>{})()}};function ae(e,t,r=!1){var n;const i=t.seen.get(e);if(t.override){const u=(n=t.override)==null?void 0:n.call(t,e,t,i,r);if(u!==t$)return u}if(i&&!r){const u=F$(i,t);if(u!==void 0)return u}const a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);const s=k$(e,e.typeName,t),o=typeof s=="function"?ae(s(),t):s;if(o&&D$(e,t,o),t.postProcess){const u=t.postProcess(o,e,t);return a.jsonSchema=o,u}return a.jsonSchema=o,o}var F$=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:e$(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Fe()):t.$refStrategy==="seen"?Fe():void 0}},D$=(e,t,r)=>(e.description&&(r.description=e.description),r),L$=e=>{const t=r$(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},M$=(e,t)=>{var r;const n=L$(t);let i=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((f,[m,d])=>{var h;return{...f,[m]:(h=ae(d._def,{...n,currentPath:[...n.basePath,n.definitionPath,m]},!0))!=null?h:Fe()}},{}):void 0;const a=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(r=ae(e._def,a===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1))!=null?r:Fe(),o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(s.title=o);const u=a===void 0?i?{...s,[n.definitionPath]:i}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...i,[a]:s}};return u.$schema="http://json-schema.org/draft-07/schema#",u},H$=M$;function z$(e,t){var r;const n=(r=void 0)!=null?r:!1;return ns(()=>H$(e,{$refStrategy:n?"root":"none"}),{validate:async i=>{const a=await e.safeParseAsync(i);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}}})}function U$(e,t){var r;const n=(r=void 0)!=null?r:!1;return ns(()=>Zn(AR(e,{target:"draft-7",io:"input",reused:n?"ref":"inline"})),{validate:async i=>{const a=await sd(e,i);return a.success?{success:!0,value:a.data}:{success:!1,error:a.error}}})}function B$(e){return"_zod"in e}function Sd(e,t){return B$(e)?U$(e):z$(e)}var $o=Symbol.for("vercel.ai.schema");function ns(e,{validate:t}={}){return{[$o]:!0,_type:void 0,[oi]:!0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function Z$(e){return typeof e=="object"&&e!==null&&$o in e&&e[$o]===!0&&"jsonSchema"in e&&"validate"in e}function q$(e){return e==null?ns({properties:{},additionalProperties:!1}):Z$(e)?e:typeof e=="function"?e():Sd(e)}var W$=Object.defineProperty,V$=(e,t)=>{for(var r in t)W$(e,r,{get:t[r],enumerable:!0})},wd="AI_NoObjectGeneratedError",Od=`vercel.ai.error.${wd}`,Q$=Symbol.for(Od),Pd,Tl=class extends bt{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:i,finishReason:a}){super({name:wd,message:e,cause:t}),this[Pd]=!0,this.text=r,this.response=n,this.usage=i,this.finishReason=a}static isInstance(e){return bt.hasMarker(e,Od)}};Pd=Q$;var xl="5.0.114",jd=ze([K(),ai(Uint8Array),ai(ArrayBuffer),gd(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]),pn=ME(()=>ze([hE(),K(),fE(),Ie(),jo(K(),pn),or(pn)])),ge=jo(K(),jo(K(),pn)),Rd=Pe({type:X("text"),text:K(),providerOptions:ge.optional()}),K$=Pe({type:X("image"),image:ze([jd,ai(URL)]),mediaType:K().optional(),providerOptions:ge.optional()}),Ed=Pe({type:X("file"),data:ze([jd,ai(URL)]),filename:K().optional(),mediaType:K(),providerOptions:ge.optional()}),J$=Pe({type:X("reasoning"),text:K(),providerOptions:ge.optional()}),Y$=Pe({type:X("tool-call"),toolCallId:K(),toolName:K(),input:Je(),providerOptions:ge.optional(),providerExecuted:Ie().optional()}),G$=_E("type",[Pe({type:X("text"),value:K()}),Pe({type:X("json"),value:pn}),Pe({type:X("error-text"),value:K()}),Pe({type:X("error-json"),value:pn}),Pe({type:X("content"),value:or(ze([Pe({type:X("text"),text:K()}),Pe({type:X("media"),data:K(),mediaType:K()})]))})]),$d=Pe({type:X("tool-result"),toolCallId:K(),toolName:K(),output:G$,providerOptions:ge.optional()}),X$=Pe({role:X("system"),content:K(),providerOptions:ge.optional()}),eC=Pe({role:X("user"),content:ze([K(),or(ze([Rd,K$,Ed]))]),providerOptions:ge.optional()}),tC=Pe({role:X("assistant"),content:ze([K(),or(ze([Rd,Ed,J$,Y$,$d]))]),providerOptions:ge.optional()}),rC=Pe({role:X("tool"),content:or($d),providerOptions:ge.optional()});ze([X$,eC,tC,rC]);Sn({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var nC=JE(()=>Sd(ze([de({type:X("text-start"),id:K(),providerMetadata:ge.optional()}),de({type:X("text-delta"),id:K(),delta:K(),providerMetadata:ge.optional()}),de({type:X("text-end"),id:K(),providerMetadata:ge.optional()}),de({type:X("error"),errorText:K()}),de({type:X("tool-input-start"),toolCallId:K(),toolName:K(),providerExecuted:Ie().optional(),dynamic:Ie().optional()}),de({type:X("tool-input-delta"),toolCallId:K(),inputTextDelta:K()}),de({type:X("tool-input-available"),toolCallId:K(),toolName:K(),input:Je(),providerExecuted:Ie().optional(),providerMetadata:ge.optional(),dynamic:Ie().optional()}),de({type:X("tool-input-error"),toolCallId:K(),toolName:K(),input:Je(),providerExecuted:Ie().optional(),providerMetadata:ge.optional(),dynamic:Ie().optional(),errorText:K()}),de({type:X("tool-output-available"),toolCallId:K(),output:Je(),providerExecuted:Ie().optional(),dynamic:Ie().optional(),preliminary:Ie().optional()}),de({type:X("tool-output-error"),toolCallId:K(),errorText:K(),providerExecuted:Ie().optional(),dynamic:Ie().optional()}),de({type:X("reasoning-start"),id:K(),providerMetadata:ge.optional()}),de({type:X("reasoning-delta"),id:K(),delta:K(),providerMetadata:ge.optional()}),de({type:X("reasoning-end"),id:K(),providerMetadata:ge.optional()}),de({type:X("source-url"),sourceId:K(),url:K(),title:K().optional(),providerMetadata:ge.optional()}),de({type:X("source-document"),sourceId:K(),mediaType:K(),title:K(),filename:K().optional(),providerMetadata:ge.optional()}),de({type:X("file"),url:K(),mediaType:K(),providerMetadata:ge.optional()}),de({type:gd(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:K().optional(),data:Je(),transient:Ie().optional()}),de({type:X("start-step")}),de({type:X("finish-step")}),de({type:X("start"),messageId:K().optional(),messageMetadata:Je().optional()}),de({type:X("finish"),finishReason:dd(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:Je().optional()}),de({type:X("abort")}),de({type:X("message-metadata"),messageMetadata:Je()})])));function iC(e){return e.type.startsWith("data-")}function Cd(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(i===void 0)continue;const a=n in e?e[n]:void 0,s=i!==null&&typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp),o=a!=null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp);s&&o?r[n]=Cd(a,i):r[n]=i}return r}function aC(e){const t=["ROOT"];let r=-1,n=null;function i(u,f,m){switch(u){case'"':{r=f,t.pop(),t.push(m),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=f,n=f,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=f,t.pop(),t.push(m),t.push("INSIDE_NUMBER");break}case"{":{r=f,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START");break}case"[":{r=f,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START");break}}}function a(u,f){switch(u){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=f,t.pop();break}}}function s(u,f){switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=f,t.pop();break}}}for(let u=0;u<e.length;u++){const f=e[u];switch(t[t.length-1]){case"ROOT":i(f,u,"FINISH");break;case"INSIDE_OBJECT_START":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=u,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(f){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(f,u,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{a(f,u);break}case"INSIDE_STRING":{switch(f){case'"':{t.pop(),r=u;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=u}break}case"INSIDE_ARRAY_START":{switch(f){case"]":{r=u,t.pop();break}default:{r=u,i(f,u,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=u,t.pop();break}default:{r=u;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(f,u,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=u;break}case"INSIDE_NUMBER":{switch(f){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=u;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(f,u),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(f,u);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(f,u);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(f,u);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const d=e.substring(n,u+1);!"false".startsWith(d)&&!"true".startsWith(d)&&!"null".startsWith(d)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?a(f,u):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(f,u)):r=u;break}}}let o=e.slice(0,r+1);for(let u=t.length-1;u>=0;u--)switch(t[u]){case"INSIDE_STRING":{o+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{o+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{o+="]";break}case"INSIDE_LITERAL":{const m=e.substring(n,e.length);"true".startsWith(m)?o+="true".slice(m.length):"false".startsWith(m)?o+="false".slice(m.length):"null".startsWith(m)&&(o+="null".slice(m.length))}}return o}async function Td(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await si({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await si({text:aC(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function qn(e){return e.type.startsWith("tool-")}function oC(e){return e.type==="dynamic-tool"}function Co(e){return qn(e)||oC(e)}function Il(e){return e.type.split("-").slice(1).join("-")}function sC({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function cC({stream:e,messageMetadataSchema:t,dataPartSchemas:r,runUpdateMessageJob:n,onError:i,onToolCall:a,onData:s}){return e.pipeThrough(new TransformStream({async transform(o,u){await n(async({state:f,write:m})=>{var d,h,l,p;function y(S){const R=f.message.parts.filter(qn).find(j=>j.toolCallId===S);if(R==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return R}function _(S){const R=f.message.parts.filter(j=>j.type==="dynamic-tool").find(j=>j.toolCallId===S);if(R==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return R}function c(S){var w;const R=f.message.parts.find(O=>qn(O)&&O.toolCallId===S.toolCallId),j=S,b=R;R!=null?(R.state=S.state,b.input=j.input,b.output=j.output,b.errorText=j.errorText,b.rawInput=j.rawInput,b.preliminary=j.preliminary,b.providerExecuted=(w=j.providerExecuted)!=null?w:R.providerExecuted,j.providerMetadata!=null&&R.state==="input-available"&&(R.callProviderMetadata=j.providerMetadata)):f.message.parts.push({type:`tool-${S.toolName}`,toolCallId:S.toolCallId,state:S.state,input:j.input,output:j.output,rawInput:j.rawInput,errorText:j.errorText,providerExecuted:j.providerExecuted,preliminary:j.preliminary,...j.providerMetadata!=null?{callProviderMetadata:j.providerMetadata}:{}})}function g(S){var w,R;const j=f.message.parts.find(P=>P.type==="dynamic-tool"&&P.toolCallId===S.toolCallId),b=S,O=j;j!=null?(j.state=S.state,O.toolName=S.toolName,O.input=b.input,O.output=b.output,O.errorText=b.errorText,O.rawInput=(w=b.rawInput)!=null?w:O.rawInput,O.preliminary=b.preliminary,O.providerExecuted=(R=b.providerExecuted)!=null?R:j.providerExecuted,b.providerMetadata!=null&&j.state==="input-available"&&(j.callProviderMetadata=b.providerMetadata)):f.message.parts.push({type:"dynamic-tool",toolName:S.toolName,toolCallId:S.toolCallId,state:S.state,input:b.input,output:b.output,errorText:b.errorText,preliminary:b.preliminary,providerExecuted:b.providerExecuted,...b.providerMetadata!=null?{callProviderMetadata:b.providerMetadata}:{}})}async function v(S){if(S!=null){const w=f.message.metadata!=null?Cd(f.message.metadata,S):S;t!=null&&await El({value:w,schema:t}),f.message.metadata=w}}switch(o.type){case"text-start":{const S={type:"text",text:"",providerMetadata:o.providerMetadata,state:"streaming"};f.activeTextParts[o.id]=S,f.message.parts.push(S),m();break}case"text-delta":{const S=f.activeTextParts[o.id];S.text+=o.delta,S.providerMetadata=(d=o.providerMetadata)!=null?d:S.providerMetadata,m();break}case"text-end":{const S=f.activeTextParts[o.id];S.state="done",S.providerMetadata=(h=o.providerMetadata)!=null?h:S.providerMetadata,delete f.activeTextParts[o.id],m();break}case"reasoning-start":{const S={type:"reasoning",text:"",providerMetadata:o.providerMetadata,state:"streaming"};f.activeReasoningParts[o.id]=S,f.message.parts.push(S),m();break}case"reasoning-delta":{const S=f.activeReasoningParts[o.id];S.text+=o.delta,S.providerMetadata=(l=o.providerMetadata)!=null?l:S.providerMetadata,m();break}case"reasoning-end":{const S=f.activeReasoningParts[o.id];S.providerMetadata=(p=o.providerMetadata)!=null?p:S.providerMetadata,S.state="done",delete f.activeReasoningParts[o.id],m();break}case"file":{f.message.parts.push({type:"file",mediaType:o.mediaType,url:o.url}),m();break}case"source-url":{f.message.parts.push({type:"source-url",sourceId:o.sourceId,url:o.url,title:o.title,providerMetadata:o.providerMetadata}),m();break}case"source-document":{f.message.parts.push({type:"source-document",sourceId:o.sourceId,mediaType:o.mediaType,title:o.title,filename:o.filename,providerMetadata:o.providerMetadata}),m();break}case"tool-input-start":{const S=f.message.parts.filter(qn);f.partialToolCalls[o.toolCallId]={text:"",toolName:o.toolName,index:S.length,dynamic:o.dynamic},o.dynamic?g({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-streaming",input:void 0,providerExecuted:o.providerExecuted}):c({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-streaming",input:void 0,providerExecuted:o.providerExecuted}),m();break}case"tool-input-delta":{const S=f.partialToolCalls[o.toolCallId];S.text+=o.inputTextDelta;const{value:w}=await Td(S.text);S.dynamic?g({toolCallId:o.toolCallId,toolName:S.toolName,state:"input-streaming",input:w}):c({toolCallId:o.toolCallId,toolName:S.toolName,state:"input-streaming",input:w}),m();break}case"tool-input-available":{o.dynamic?g({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-available",input:o.input,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}):c({toolCallId:o.toolCallId,toolName:o.toolName,state:"input-available",input:o.input,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}),m(),a&&!o.providerExecuted&&await a({toolCall:o});break}case"tool-input-error":{o.dynamic?g({toolCallId:o.toolCallId,toolName:o.toolName,state:"output-error",input:o.input,errorText:o.errorText,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}):c({toolCallId:o.toolCallId,toolName:o.toolName,state:"output-error",input:void 0,rawInput:o.input,errorText:o.errorText,providerExecuted:o.providerExecuted,providerMetadata:o.providerMetadata}),m();break}case"tool-output-available":{if(o.dynamic){const S=_(o.toolCallId);g({toolCallId:o.toolCallId,toolName:S.toolName,state:"output-available",input:S.input,output:o.output,preliminary:o.preliminary})}else{const S=y(o.toolCallId);c({toolCallId:o.toolCallId,toolName:Il(S),state:"output-available",input:S.input,output:o.output,providerExecuted:o.providerExecuted,preliminary:o.preliminary})}m();break}case"tool-output-error":{if(o.dynamic){const S=_(o.toolCallId);g({toolCallId:o.toolCallId,toolName:S.toolName,state:"output-error",input:S.input,errorText:o.errorText,providerExecuted:o.providerExecuted})}else{const S=y(o.toolCallId);c({toolCallId:o.toolCallId,toolName:Il(S),state:"output-error",input:S.input,rawInput:S.rawInput,errorText:o.errorText,providerExecuted:o.providerExecuted})}m();break}case"start-step":{f.message.parts.push({type:"step-start"});break}case"finish-step":{f.activeTextParts={},f.activeReasoningParts={};break}case"start":{o.messageId!=null&&(f.message.id=o.messageId),await v(o.messageMetadata),(o.messageId!=null||o.messageMetadata!=null)&&m();break}case"finish":{o.finishReason!=null&&(f.finishReason=o.finishReason),await v(o.messageMetadata),o.messageMetadata!=null&&m();break}case"message-metadata":{await v(o.messageMetadata),o.messageMetadata!=null&&m();break}case"error":{i?.(new Error(o.errorText));break}default:if(iC(o)){r?.[o.type]!=null&&await El({value:o.data,schema:r[o.type]});const S=o;if(S.transient){s?.(S);break}const w=S.id!=null?f.message.parts.find(R=>S.type===R.type&&S.id===R.id):void 0;w!=null?w.data=S.data:f.message.parts.push(S),s?.(S),m()}}u.enqueue(o)})}}))}async function uC({stream:e,onError:t}){const r=e.getReader();try{for(;;){const{done:n}=await r.read();if(n)break}}catch(n){t?.(n)}finally{r.releaseLock()}}Sn({prefix:"aitxt",size:24});Sn({prefix:"aiobj",size:24});var lC=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,r)=>{this.queue.push(async()=>{try{await e(),t()}catch(n){r(n)}}),this.processQueue()})}};Sn({prefix:"aiobj",size:24});var fC={};V$(fC,{object:()=>dC,text:()=>pC});var pC=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),dC=({schema:e})=>{const t=q$(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:r}){const n=await Td(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const i=n.state;throw new Error(`Unsupported parse state: ${i}`)}}},async parseOutput({text:r},n){const i=await si({text:r});if(!i.success)throw new Tl({message:"No object generated: could not parse the response.",cause:i.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});const a=await rs({value:i.value,schema:t});if(!a.success)throw new Tl({message:"No object generated: response did not match schema.",cause:a.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});return a.value}}};async function mC(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:r,type:n}=t,i=await new Promise((a,s)=>{const o=new FileReader;o.onload=u=>{var f;a((f=u.target)==null?void 0:f.result)},o.onerror=u=>s(u),o.readAsDataURL(t)});return{type:"file",mediaType:n,filename:r,url:i}}))}var hC=class{constructor({api:e="/api/chat",credentials:t,headers:r,body:n,fetch:i,prepareSendMessagesRequest:a,prepareReconnectToStreamRequest:s}){this.api=e,this.credentials=t,this.headers=r,this.body=n,this.fetch=i,this.prepareSendMessagesRequest=a,this.prepareReconnectToStreamRequest=s}async sendMessages({abortSignal:e,...t}){var r,n,i,a,s;const o=await Ht(this.body),u=await Ht(this.headers),f=await Ht(this.credentials),m={...Et(u),...Et(t.headers)},d=await((r=this.prepareSendMessagesRequest)==null?void 0:r.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...o,...t.body},headers:m,credentials:f,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),h=(n=d?.api)!=null?n:this.api,l=d?.headers!==void 0?Et(d.headers):m,p=d?.body!==void 0?d.body:{...o,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},y=(i=d?.credentials)!=null?i:f,c=await((a=this.fetch)!=null?a:globalThis.fetch)(h,{method:"POST",headers:jl({"Content-Type":"application/json",...l},`ai-sdk/${xl}`,Pl()),body:JSON.stringify(p),credentials:y,signal:e});if(!c.ok)throw new Error((s=await c.text())!=null?s:"Failed to fetch the chat response.");if(!c.body)throw new Error("The response body is empty.");return this.processResponseStream(c.body)}async reconnectToStream(e){var t,r,n,i,a;const s=await Ht(this.body),o=await Ht(this.headers),u=await Ht(this.credentials),f={...Et(o),...Et(e.headers)},m=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...s,...e.body},headers:f,credentials:u,requestMetadata:e.metadata})),d=(r=m?.api)!=null?r:`${this.api}/${e.chatId}/stream`,h=m?.headers!==void 0?Et(m.headers):f,l=(n=m?.credentials)!=null?n:u,y=await((i=this.fetch)!=null?i:globalThis.fetch)(d,{method:"GET",headers:jl(h,`ai-sdk/${xl}`,Pl()),credentials:l});if(y.status===204)return null;if(!y.ok)throw new Error((a=await y.text())!=null?a:"Failed to fetch the chat response.");if(!y.body)throw new Error("The response body is empty.");return this.processResponseStream(y.body)}},To=class extends hC{constructor(e={}){super(e)}processResponseStream(e){return XE({stream:e,schema:nC}).pipeThrough(new TransformStream({async transform(t,r){if(!t.success)throw t.error;r.enqueue(t.value)}}))}},gC=class{constructor({generateId:e=BE,id:t=e(),transport:r=new To,messageMetadataSchema:n,dataPartSchemas:i,state:a,onError:s,onToolCall:o,onFinish:u,onData:f,sendAutomaticallyWhen:m}){this.activeResponse=void 0,this.jobExecutor=new lC,this.sendMessage=async(d,h)=>{var l,p,y,_;if(d==null){await this.makeRequest({trigger:"submit-message",messageId:(l=this.lastMessage)==null?void 0:l.id,...h});return}let c;if("text"in d||"files"in d?c={parts:[...Array.isArray(d.files)?d.files:await mC(d.files),..."text"in d&&d.text!=null?[{type:"text",text:d.text}]:[]]}:c=d,d.messageId!=null){const g=this.state.messages.findIndex(v=>v.id===d.messageId);if(g===-1)throw new Error(`message with id ${d.messageId} not found`);if(this.state.messages[g].role!=="user")throw new Error(`message with id ${d.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,g+1),this.state.replaceMessage(g,{...c,id:d.messageId,role:(p=c.role)!=null?p:"user",metadata:d.metadata})}else this.state.pushMessage({...c,id:(y=c.id)!=null?y:this.generateId(),role:(_=c.role)!=null?_:"user",metadata:d.metadata});await this.makeRequest({trigger:"submit-message",messageId:d.messageId,...h})},this.regenerate=async({messageId:d,...h}={})=>{const l=d==null?this.state.messages.length-1:this.state.messages.findIndex(p=>p.id===d);if(l===-1)throw new Error(`message ${d} not found`);this.state.messages=this.state.messages.slice(0,this.messages[l].role==="assistant"?l:l+1),await this.makeRequest({trigger:"regenerate-message",messageId:d,...h})},this.resumeStream=async(d={})=>{await this.makeRequest({trigger:"resume-stream",...d})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolOutput=async({state:d="output-available",tool:h,toolCallId:l,output:p,errorText:y})=>this.jobExecutor.run(async()=>{var _,c;const g=this.state.messages,v=g[g.length-1];this.state.replaceMessage(g.length-1,{...v,parts:v.parts.map(S=>Co(S)&&S.toolCallId===l?{...S,state:d,output:p,errorText:y}:S)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(S=>Co(S)&&S.toolCallId===l?{...S,state:d,output:p,errorText:y}:S)),this.status!=="streaming"&&this.status!=="submitted"&&((_=this.sendAutomaticallyWhen)!=null&&_.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(c=this.lastMessage)==null?void 0:c.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var d;this.status!=="streaming"&&this.status!=="submitted"||(d=this.activeResponse)!=null&&d.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=r,this.generateId=e,this.messageMetadataSchema=n,this.dataPartSchemas=i,this.state=a,this.onError=s,this.onToolCall=o,this.onFinish=u,this.onData=f,this.sendAutomaticallyWhen=m}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:r,body:n,messageId:i}){var a,s,o,u;this.setStatus({status:"submitted",error:void 0});const f=this.lastMessage;let m=!1,d=!1,h=!1;try{const l={state:sC({lastMessage:this.state.snapshot(f),messageId:this.generateId()}),abortController:new AbortController};l.abortController.signal.addEventListener("abort",()=>{m=!0}),this.activeResponse=l;let p;if(e==="resume-stream"){const _=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:r,body:n});if(_==null){this.setStatus({status:"ready"});return}p=_}else p=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:l.abortController.signal,metadata:t,headers:r,body:n,trigger:e,messageId:i});const y=_=>this.jobExecutor.run(()=>_({state:l.state,write:()=>{var c;this.setStatus({status:"streaming"}),l.state.message.id===((c=this.lastMessage)==null?void 0:c.id)?this.state.replaceMessage(this.state.messages.length-1,l.state.message):this.state.pushMessage(l.state.message)}}));await uC({stream:cC({stream:p,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:y,onError:_=>{throw _}}),onError:_=>{throw _}}),this.setStatus({status:"ready"})}catch(l){if(m||l.name==="AbortError")return m=!0,this.setStatus({status:"ready"}),null;h=!0,l instanceof TypeError&&(l.message.toLowerCase().includes("fetch")||l.message.toLowerCase().includes("network"))&&(d=!0),this.onError&&l instanceof Error&&this.onError(l),this.setStatus({status:"error",error:l})}finally{try{(s=this.onFinish)==null||s.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:m,isDisconnect:d,isError:h,finishReason:(a=this.activeResponse)==null?void 0:a.state.finishReason})}catch(l){console.error(l)}this.activeResponse=void 0}(o=this.sendAutomaticallyWhen)!=null&&o.call(this,{messages:this.state.messages})&&!h&&await this.makeRequest({trigger:"submit-message",messageId:(u=this.lastMessage)==null?void 0:u.id,metadata:t,headers:r,body:n})}};function vC({messages:e}){const t=e[e.length-1];if(!t||t.role!=="assistant")return!1;const r=t.parts.reduce((i,a,s)=>a.type==="step-start"?s:i,-1),n=t.parts.slice(r+1).filter(Co).filter(i=>!i.providerExecuted);return n.length>0&&n.every(i=>i.state==="output-available"||i.state==="output-error")}var yC=["messages","agentId"];function ir(e){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}function Nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(r),!0).forEach(function(n){he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bC(e,t){if(e==null)return{};var r,n,i=_C(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _C(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xo(e,t)}function xo(e,t){return xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},xo(e,t)}function wC(e){var t=xd();return function(){var r,n=ci(e);if(t){var i=ci(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return OC(this,r)}}function OC(e,t){if(t&&(ir(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}function _r(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xd=function(){return!!e})()}function ci(e){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ci(e)}function Aa(e){return EC(e)||RC(e)||jC(e)||PC()}function PC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jC(e,t){if(e){if(typeof e=="string")return Io(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Io(e,t):void 0}}function RC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EC(e){if(Array.isArray(e))return Io(e)}function Io(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Id(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ad(n.key),n)}}function Nd(e,t,r){return t&&$C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e,t,r){return(t=Ad(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e){var t=CC(e,"string");return ir(t)=="symbol"?t:t+""}function CC(e,t){if(ir(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ir(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kd="instantsearch-chat-initial-messages-";function TC(e){var t=sessionStorage.getItem(kd+e);return t?JSON.parse(t):[]}var xC=(function(){function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TC(r);Id(this,e),he(this,"_messages",void 0),he(this,"_status","ready"),he(this,"_error",void 0),he(this,"_messagesCallbacks",new Set),he(this,"_statusCallbacks",new Set),he(this,"_errorCallbacks",new Set),he(this,"pushMessage",function(a){t._messages=t._messages.concat(a),t._callMessagesCallbacks()}),he(this,"popMessage",function(){t._messages=t._messages.slice(0,-1),t._callMessagesCallbacks()}),he(this,"replaceMessage",function(a,s){t._messages=[].concat(Aa(t._messages.slice(0,a)),[t.snapshot(s)],Aa(t._messages.slice(a+1))),t._callMessagesCallbacks()}),he(this,"snapshot",function(a){return JSON.parse(JSON.stringify(a))}),he(this,"~registerMessagesCallback",function(a){var s=a;return t._messagesCallbacks.add(s),function(){t._messagesCallbacks.delete(s)}}),he(this,"~registerStatusCallback",function(a){return t._statusCallbacks.add(a),function(){t._statusCallbacks.delete(a)}}),he(this,"~registerErrorCallback",function(a){return t._errorCallbacks.add(a),function(){t._errorCallbacks.delete(a)}}),he(this,"_callMessagesCallbacks",function(){t._messagesCallbacks.forEach(function(a){return a()})}),he(this,"_callStatusCallbacks",function(){t._statusCallbacks.forEach(function(a){return a()})}),he(this,"_callErrorCallbacks",function(){t._errorCallbacks.forEach(function(a){return a()})}),this._messages=n;var i=function(){if(t.status==="ready")try{sessionStorage.setItem(kd+r,JSON.stringify(t.messages))}catch{}};this["~registerMessagesCallback"](i),this["~registerStatusCallback"](i)}return Nd(e,[{key:"status",get:function(){return this._status},set:function(r){this._status=r,this._callStatusCallbacks()}},{key:"error",get:function(){return this._error},set:function(r){this._error=r,this._callErrorCallbacks()}},{key:"messages",get:function(){return this._messages},set:function(r){this._messages=Aa(r),this._callMessagesCallbacks()}}]),e})(),IC=(function(e){SC(r,e);var t=wC(r);function r(n){var i,a=n.messages,s=n.agentId,o=bC(n,yC);Id(this,r);var u=new xC(s,a);return i=t.call(this,Al(Al({},o),{},{state:u})),he(_r(i),"_state",void 0),he(_r(i),"~registerMessagesCallback",function(f){return i._state["~registerMessagesCallback"](f)}),he(_r(i),"~registerStatusCallback",function(f){return i._state["~registerStatusCallback"](f)}),he(_r(i),"~registerErrorCallback",function(f){return i._state["~registerErrorCallback"](f)}),i._state=u,i}return Nd(r)})(gC),NC="algolia_search_index",AC="algolia_recommend";function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}var kC=["resume","tools"];function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kl(Object(r),!0).forEach(function(n){FC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FC(e,t,r){return(t=DC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DC(e){var t=LC(e,"string");return dn(t)=="symbol"?t:t+""}function LC(e,t){if(dn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(e,t){return UC(e)||zC(e,t)||HC(e,t)||MC()}function MC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HC(e,t){if(e){if(typeof e=="string")return Dl(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dl(e,t):void 0}}function Dl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function UC(e){if(Array.isArray(e))return e}function BC(e,t){if(e==null)return{};var r,n,i=ZC(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZC(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ka=we({name:"chat",connector:!0});const qC=(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;return Nt(t,ka()),function(n){var i=n||{},a=i.resume,s=a===void 0?!1:a,o=i.tools,u=o===void 0?{}:o,f=BC(i,kC),m,d="",h=!1,l=!1,p,y,_,c,g=function(j){typeof j=="function"&&(j=j(m.messages)),m.messages=j},v=function(){!m.messages||m.messages.length===0||c(!0)},S=function(){g([]),m.clearError(),c(!1)},w=function(j){var b,O=za(j.client),P=Fl(O,2),$=P[0],T=P[1];if("transport"in f&&f.transport&&(b=new To(f.transport)),"agentId"in f&&f.agentId){var A=f.agentId;if(!$||!T)throw new Error(ka("Could not extract Algolia credentials from the search client."));b=new To({api:"https://".concat($,".algolia.net/agent-studio/1/agents/").concat(A,"/completions?compatibilityMode=ai-sdk-5"),headers:{"x-algolia-application-id":$,"x-algolia-api-Key":T,"x-algolia-agent":of(j.client)}})}if(!b)throw new Error(ka("You need to provide either an `agentId` or a `transport`."));return"chat"in f?f.chat:new IC(Ee(Ee({},f),{},{transport:b,sendAutomaticallyWhen:vC,onToolCall:function(x){var I=x.toolCall,F=u[I.toolName];if(!F)return m.addToolResult({output:'No tool implemented for "'.concat(I.toolName,'".'),tool:I.toolName,toolCallId:I.toolCallId});if(F.onToolCall){var N=function(Z){var E=Z.output;return m.addToolResult({output:E,tool:I.toolName,toolCallId:I.toolCallId})};return F.onToolCall(Ee(Ee({},I),{},{addToolResult:N}))}return Promise.resolve()}}))};return{$$type:"ais.chat",init:function(j){var b=this,O=j.instantSearchInstance;m=w(O);var P=function(){t(Ee(Ee({},b.getWidgetRenderState(j)),{},{instantSearchInstance:j.instantSearchInstance}),!1)};_=function(T){h=T,P()},y=function(T){d=T,P()},c=function(T){l=T,P()},m["~registerErrorCallback"](P),m["~registerMessagesCallback"](P),m["~registerStatusCallback"](P),s&&m.resumeStream(),t(Ee(Ee({},this.getWidgetRenderState(j)),{},{instantSearchInstance:O}),!0)},render:function(j){t(Ee(Ee({},this.getWidgetRenderState(j)),{},{instantSearchInstance:j.instantSearchInstance}),!1)},getRenderState:function(j,b){return Ee(Ee({},j),{},{chat:this.getWidgetRenderState(b)})},getWidgetRenderState:function(j){var b=j.instantSearchInstance,O=j.parent;m||this.init(Ee(Ee({},j),{},{uiState:{},results:void 0})),p||(p=af({instantSearchInstance:j.instantSearchInstance,helper:j.helper,widgetType:this.$$type}));var P={};return Object.entries(u).forEach(function($){var T=Fl($,2),A=T[0],B=T[1],x=Ee(Ee({},B),{},{addToolResult:m.addToolResult});P[A]=x}),{indexUiState:b.getUiState()[O.getIndexId()],input:d,open:h,sendEvent:p,setIndexUiState:O.setIndexUiState.bind(O),setInput:y,setOpen:_,setMessages:g,isClearing:l,clearMessages:v,onClearTransitionEnd:S,tools:P,widgetParams:n,addToolResult:m.addToolResult,clearError:m.clearError,error:m.error,id:m.id,messages:m.messages,regenerate:m.regenerate,resumeStream:m.resumeStream,sendMessage:m.sendMessage,status:m.status,stop:m.stop}},dispose:function(){r()},shouldRender:function(){return!0},get chatInstance(){return m}}}});var WC=by({useCallback:ew,useEffect:XS,useMemo:yi,useRef:vr,useState:mo});function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}function Ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ll(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VC(e,t,r){return(t=QC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QC(e){var t=KC(e,"string");return mn(t)=="symbol"?t:t+""}function KC(e,t){if(mn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},No.apply(null,arguments)}function Ml(e,t){return XC(e)||GC(e,t)||YC(e,t)||JC()}function JC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YC(e,t){if(e){if(typeof e=="string")return Hl(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hl(e,t):void 0}}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function GC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function XC(e){if(Array.isArray(e))return e}var eT=Ny({createElement:H,Fragment:yt});function tT(e){var t=mo(!1),r=Ml(t,2),n=r[0],i=r[1],a=mo(!0),s=Ml(a,2),o=s[0],u=s[1],f={listRef:vr(null),nextButtonRef:vr(null),previousButtonRef:vr(null),carouselIdRef:vr(Ty()),canScrollLeft:n,canScrollRight:o,setCanScrollLeft:i,setCanScrollRight:u};return H(eT,No({},f,e))}function rT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.cssClasses,r=e.templates,n=r===void 0?{}:r,i=e.showNavigation,a=i===void 0?!0:i;return function(o){var u=o.items,f=o.templates,m=o.cssClasses,d=m===void 0?{}:m,h=o.sendEvent,l=h===void 0?function(){}:h,p=n.previous,y=n.next,_=n.header;return H(tT,{items:u,sendEvent:l,itemComponent:f.item,headerComponent:_?function(c){return _(Fa({html:Un},c))}:void 0,previousIconComponent:p?function(){return p({html:Un})}:void 0,nextIconComponent:y?function(){return y({html:Un})}:void 0,classNames:Fa(Fa({},t),{list:k(t?.list,d?.list),item:k(t?.item,d?.item)}),showNavigation:a})}}function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}var nT=["container","templates","cssClasses","resume","tools","getSearchPageURL"];function iT(e,t){if(e==null)return{};var r,n,i=aT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zl(Object(r),!0).forEach(function(n){Ao(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ao(e,t,r){return(t=oT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oT(e){var t=sT(e,"string");return hn(t)=="symbol"?t:t+""}function sT(e,t){if(hn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(null,arguments)}function is(e,t){return fT(e)||lT(e,t)||uT(e,t)||cT()}function cT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uT(e,t){if(e){if(typeof e=="string")return Ul(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ul(e,t):void 0}}function Ul(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],u=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(m){f=!0,i=m}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function fT(e){if(Array.isArray(e))return e}var pT=we({name:"chat"}),dT=P_({createElement:H});function Dn(e){return Object.fromEntries(Object.entries(e).filter(function(t){var r=is(t,2),n=r[1];return n!==void 0}))}var mT=H(ky,{createElement:H}),hT=H(qy,{createElement:H}),gT=H(Wy,{createElement:H});function Bl(e,t,r){var n=At({createElement:H});function i(s){var o=s.message,u=s.indexUiState,f=s.setIndexUiState,m=s.onClose,d=o?.input,h=o?.output,l=h?.hits||[],p=yi(function(){return function(y){return H(a,ye({nbHits:h?.nbHits,query:d?.query,hitsPerPage:l.length,setIndexUiState:f,indexUiState:u,getSearchPageURL:r,onClose:m},y))}},[l.length,d?.query,h?.nbHits,f,u,m]);return rT({showNavigation:!1,templates:{header:p}})({items:l,templates:{item:function(_){var c=_.item;return H(re,{templates:t,templateKey:"item",data:c,rootTagName:"fragment"})}},sendEvent:function(){}})}function a(s){var o=s.canScrollLeft,u=s.canScrollRight,f=s.scrollLeft,m=s.scrollRight,d=s.nbHits,h=s.query,l=s.hitsPerPage,p=s.setIndexUiState,y=s.indexUiState,_=s.onClose,c=s.getSearchPageURL;return(l??0)<1?null:H("div",{className:"ais-ChatToolSearchIndexCarouselHeader"},H("div",{className:"ais-ChatToolSearchIndexCarouselHeaderResults"},d&&H("div",{className:"ais-ChatToolSearchIndexCarouselHeaderCount"},l??0," of ",d.toLocaleString()," result",d>1?"s":""),e&&H(n,{variant:"ghost",size:"sm",onClick:function(){if(h){var v=We(We({},y),{},{query:h});if(!c||c&&new URL(c(v)).pathname===window.location.pathname){p(v),_();return}window.location.href=c(v)}},className:"ais-ChatToolSearchIndexCarouselHeaderViewAll"},"View all",mT)),(l??0)>2&&H("div",{className:"ais-ChatToolSearchIndexCarouselHeaderScrollButtons"},H(n,{variant:"outline",size:"sm",iconOnly:!0,onClick:f,disabled:!o,className:"ais-ChatToolSearchIndexCarouselHeaderScrollButton"},hT),H(n,{variant:"outline",size:"sm",iconOnly:!0,onClick:m,disabled:!u,className:"ais-ChatToolSearchIndexCarouselHeaderScrollButton"},gT)))}return{templates:{layout:i}}}function vT(e,t){var r;return r={},Ao(r,NC,Bl(!0,e,t)),Ao(r,AC,Bl(!1,e,t)),r}function yT(e){var t=e.cssClasses,r=e.chatOpen,n=e.setChatOpen,i=e.chatMessages,a=e.indexUiState,s=e.setIndexUiState,o=e.chatStatus,u=e.chatInput,f=e.setChatInput,m=e.sendMessage,d=e.regenerate,h=e.stop,l=e.isClearing,p=e.clearMessages,y=e.onClearTransitionEnd,_=e.toolsForUi,c=e.toggleButtonProps,g=e.headerProps,v=e.messagesProps,S=e.promptProps,w=e.state,R=WC({initial:"smooth",resize:"smooth"}),j=R.scrollRef,b=R.contentRef,O=R.scrollToBottom,P=R.isAtBottom;w.init();var $=w.use(!1),T=is($,2),A=T[0],B=T[1];return H(dT,{classNames:t,open:r,maximized:A,toggleButtonComponent:c.layoutComponent,toggleButtonProps:{open:r,onClick:function(){return n(!r)},toggleIconComponent:c.iconComponent},headerComponent:g.layoutComponent,promptComponent:S.layoutComponent,headerProps:{onClose:function(){return n(!1)},maximized:A,onToggleMaximize:function(){return B(!A)},onClear:p,canClear:!!i?.length&&!l,closeIconComponent:g.closeIconComponent,minimizeIconComponent:g.minimizeIconComponent,maximizeIconComponent:g.maximizeIconComponent,titleIconComponent:g.titleIconComponent,translations:g.translations},messagesProps:{status:o,onReload:function(I){return d({messageId:I})},onClose:function(){return n(!1)},messages:i,indexUiState:a,isClearing:l,onClearTransitionEnd:y,isScrollAtBottom:P,scrollRef:j,contentRef:b,onScrollToBottom:O,setIndexUiState:s,tools:_,loaderComponent:v.loaderComponent,errorComponent:v.errorComponent,actionsComponent:v.actionsComponent,assistantMessageProps:v.assistantMessageProps,userMessageProps:v.userMessageProps,translations:v.translations,messageTranslations:v.messageTranslations},promptProps:{promptRef:S.promptRef,status:o,value:u,onInput:function(I){f(I.currentTarget.value)},onSubmit:function(){m({text:u}),f("")},onStop:function(){h()},headerComponent:S.headerComponent,footerComponent:S.footerComponent,translations:S.translations}})}var bT=function(t){var r=t.renderState,n=t.cssClasses,i=t.containerNode,a=t.templates,s=t.tools,o=wT(),u={current:null};return function(f,m){var d,h,l,p,y,_,c,g,v,S,w,R,j,b,O,P,$,T,A,B,x,I,F,N,D,Z,E,C,M,U,z,q,W,Q=f.indexUiState,J=f.input,ee=f.instantSearchInstance,ce=f.messages,Re=f.open,Ot=f.sendMessage,wi=f.setIndexUiState,Ft=f.setInput,Oi=f.setOpen,Md=f.status;f.error;var Hd=f.regenerate,zd=f.stop,Ud=f.isClearing,Bd=f.clearMessages,Zd=f.onClearTransitionEnd,qd=f.tools;if(m){r.templateProps=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a});return}var cs={};Object.entries(qd).forEach(function(Oe){var Pt,ms=is(Oe,2),hs=ms[0],dm=ms[1],On=s[hs];cs[hs]=We(We({},dm),(On==null||(Pt=On.templates)===null||Pt===void 0?void 0:Pt.layout)&&{layoutComponent:function(mm){return H(re,{templates:On.templates,rootTagName:"fragment",templateKey:"layout",data:mm})}})});var sr=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a.header}),Wd=(d=a.header)!==null&&d!==void 0&&d.layout?function(Oe){return H(re,ye({},sr,{templateKey:"layout",rootTagName:"div",data:Oe}))}:void 0,Vd=(h=a.header)!==null&&h!==void 0&&h.closeIcon?function(){return H(re,ye({},sr,{templateKey:"closeIcon",rootTagName:"span"}))}:void 0,Qd=(l=a.header)!==null&&l!==void 0&&l.minimizeIcon?function(){return H(re,ye({},sr,{templateKey:"minimizeIcon",rootTagName:"span"}))}:void 0,Kd=(p=a.header)!==null&&p!==void 0&&p.maximizeIcon?function(Oe){var Pt=Oe.maximized;return H(re,ye({},sr,{templateKey:"maximizeIcon",rootTagName:"span",data:{maximized:Pt}}))}:void 0,Jd=(y=a.header)!==null&&y!==void 0&&y.titleIcon?function(){return H(re,ye({},sr,{templateKey:"titleIcon",rootTagName:"span"}))}:void 0,Yd=Dn({title:(_=a.header)===null||_===void 0?void 0:_.titleText,minimizeLabel:(c=a.header)===null||c===void 0?void 0:c.minimizeLabelText,maximizeLabel:(g=a.header)===null||g===void 0?void 0:g.maximizeLabelText,closeLabel:(v=a.header)===null||v===void 0?void 0:v.closeLabelText,clearLabel:(S=a.header)===null||S===void 0?void 0:S.clearLabelText}),us=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a.messages}),Gd=(w=a.messages)!==null&&w!==void 0&&w.loader?function(Oe){return H(re,ye({},us,{templateKey:"loader",rootTagName:"div",data:Oe}))}:void 0,Xd=(R=a.messages)!==null&&R!==void 0&&R.error?function(Oe){return H(re,ye({},us,{templateKey:"error",rootTagName:"div",data:Oe}))}:void 0,em=Dn({scrollToBottomLabel:(j=a.messages)===null||j===void 0?void 0:j.scrollToBottomLabelText,loaderText:(b=a.messages)===null||b===void 0?void 0:b.loaderText,copyToClipboardLabel:(O=a.messages)===null||O===void 0?void 0:O.copyToClipboardLabelText,regenerateLabel:(P=a.messages)===null||P===void 0?void 0:P.regenerateLabelText}),ls=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a.assistantMessage}),tm=($=a.assistantMessage)!==null&&$!==void 0&&$.leading?function(){return H(re,ye({},ls,{templateKey:"leading",rootTagName:"fragment"}))}:void 0,rm=(T=a.assistantMessage)!==null&&T!==void 0&&T.footer?function(){return H(re,ye({},ls,{templateKey:"footer",rootTagName:"fragment"}))}:void 0,nm=Dn({actionsLabel:(A=a.message)===null||A===void 0?void 0:A.actionsLabelText,messageLabel:(B=a.message)===null||B===void 0?void 0:B.messageLabelText}),fs=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a.userMessage}),im=(x=a.userMessage)!==null&&x!==void 0&&x.leading?function(){return H(re,ye({},fs,{templateKey:"leading",rootTagName:"fragment"}))}:void 0,am=(I=a.userMessage)!==null&&I!==void 0&&I.footer?function(){return H(re,ye({},fs,{templateKey:"footer",rootTagName:"fragment"}))}:void 0,Pi=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a.prompt}),om=(F=a.prompt)!==null&&F!==void 0&&F.layout?function(Oe){return H(re,ye({},Pi,{templateKey:"layout",rootTagName:"div",data:Oe}))}:void 0,sm=(N=a.prompt)!==null&&N!==void 0&&N.header?function(){return H(re,ye({},Pi,{templateKey:"header",rootTagName:"fragment"}))}:void 0,cm=(D=a.prompt)!==null&&D!==void 0&&D.footer?function(){return H(re,ye({},Pi,{templateKey:"footer",rootTagName:"fragment"}))}:void 0,um=Dn({textareaLabel:(Z=a.prompt)===null||Z===void 0?void 0:Z.textareaLabelText,textareaPlaceholder:(E=a.prompt)===null||E===void 0?void 0:E.textareaPlaceholderText,emptyMessageTooltip:(C=a.prompt)===null||C===void 0?void 0:C.emptyMessageTooltipText,stopResponseTooltip:(M=a.prompt)===null||M===void 0?void 0:M.stopResponseTooltipText,sendMessageTooltip:(U=a.prompt)===null||U===void 0?void 0:U.sendMessageTooltipText,disclaimer:(z=a.prompt)===null||z===void 0?void 0:z.disclaimerText}),lm=a.actions?function(Oe){return H(re,ye({},r.templateProps,{templateKey:"actions",rootTagName:"div",data:Oe}))}:void 0,ps=Le({defaultTemplates:{},templatesConfig:ee.templatesConfig,templates:a.toggleButton}),fm=(q=a.toggleButton)!==null&&q!==void 0&&q.layout?function(Oe){return H(re,ye({},ps,{templateKey:"layout",rootTagName:"button",data:Oe}))}:void 0,pm=(W=a.toggleButton)!==null&&W!==void 0&&W.icon?function(Oe){var Pt=Oe.isOpen;return H(re,ye({},ps,{templateKey:"icon",rootTagName:"span",data:{isOpen:Pt}}))}:void 0;o.subscribe(ds);function ds(){Ne(H(yT,{cssClasses:n,chatOpen:Re,setChatOpen:Oi,chatMessages:ce,indexUiState:Q,setIndexUiState:wi,chatStatus:Md,chatInput:J,setChatInput:Ft,sendMessage:Ot,regenerate:Hd,stop:zd,isClearing:Ud,clearMessages:Bd,onClearTransitionEnd:Zd,toolsForUi:cs,toggleButtonProps:{layoutComponent:fm,iconComponent:pm},headerProps:{layoutComponent:Wd,closeIconComponent:Vd,minimizeIconComponent:Qd,maximizeIconComponent:Kd,titleIconComponent:Jd,translations:Yd},messagesProps:{loaderComponent:Gd,errorComponent:Xd,actionsComponent:lm,assistantMessageProps:{leadingComponent:tm,footerComponent:rm},userMessageProps:{leadingComponent:im,footerComponent:am},translations:em,messageTranslations:nm},promptProps:{layoutComponent:om,headerComponent:sm,footerComponent:cm,translations:um,promptRef:u},state:o}),i)}ds()}},_T={item:function(t){return JSON.stringify(t,null,2)}};const ST=(function(t){var r=t||{},n=r.container,i=r.templates,a=i===void 0?{}:i,s=r.cssClasses,o=s===void 0?{}:s,u=r.resume,f=u===void 0?!1:u,m=r.tools,d=r.getSearchPageURL,h=iT(r,nT);if(!n)throw new Error(pT("The `container` option is required."));var l=vt(n),p=We(We({},_T),a),y=vT(p,d),_=We(We({},y),m),c=bT({containerNode:l,cssClasses:o,renderState:{},templates:p,tools:_}),g=qC(c,function(){return Ne(null,l)});return We(We({},g(We({resume:f,tools:_},h))),{},{$$widgetType:"ais.chat"})});function wT(){var e=[],t=new Set,r=0;function n(i){var a=r++;return e[a]===void 0&&(e[a]=i),[e[a],function(s){var o=e[a];return o===s?o:(e[a]=s,t.forEach(function(u){return u()}),s)}]}return{init:function(){r=0},subscribe:function(a){return t.add(a),function(){return t.delete(a)}},use:n}}const ui={applicationId:"latency",searchKey:"c5a80e18b6a631c35917c31e5d56fd86",agentId:"3669b83e-4138-4db0-8b9f-f78c9e88d053",indexName:"machina_v3"},OT=Mm(ui.applicationId,ui.searchKey),Xe=Ue({indexName:ui.indexName,searchClient:OT,insights:!1,future:{preserveSharedStateOnUnmount:!0}}),He=new Map,PT=()=>{const e=localStorage.getItem("machina_favorites");if(e)try{JSON.parse(e).forEach(t=>He.set(t.objectID,t))}catch{}},jT=()=>{localStorage.setItem("machina_favorites",JSON.stringify([...He.values()]))},as=(e,t)=>{He.has(e)?He.delete(e):t&&He.set(e,{objectID:t.objectID,chapter:t.chapter,chapterDisplay:t.chapterDisplay,page:t.page,section:t.section,content:t.content?.slice(0,200),concepts:t.concepts?.slice(0,3)}),jT(),Fd()},Fd=()=>{document.querySelectorAll(".star-btn").forEach(r=>{const n=r.dataset.objectId,i=He.has(n);r.classList.toggle("active",i),r.textContent=i?"":""});const e=He.size,t=document.getElementById("fav-count");t&&(t.textContent=e>0?`(${e})`:"")};window.toggleFavorite=as;PT();const os=e=>{if(!e)return"";const t=e.toLowerCase();return t==="comprendre"?"comprendre":t==="agir"?"agir":""};let wn={};const RT={setFilter:{template:{layout:(e,{html:t})=>t`
        <div class="tool-action">
           Filtr par <strong>${e.toolCall.input.attribute}</strong>: ${e.toolCall.input.value}
        </div>
      `},onToolCall:({input:e,addToolResult:t})=>{const{attribute:r,value:n}=e;Xe.helper.toggleFacetRefinement(r,n).search(),t({output:{success:!0,filtered:`${r}:${n}`}})}},clearFilters:{template:{layout:(e,{html:t})=>t`
        <div class="tool-action"> Filtres effacs</div>
      `},onToolCall:({addToolResult:e})=>{Xe.helper.clearRefinements().search(),e({output:{success:!0}})}},setQuery:{template:{layout:(e,{html:t})=>t`
        <div class="tool-action">
           Recherche: <strong>"${e.toolCall.input.query}"</strong>
        </div>
      `},onToolCall:({input:e,addToolResult:t})=>{Xe.helper.setQuery(e.query).search(),t({output:{success:!0,query:e.query}})}},addFavorite:{template:{layout:(e,{html:t})=>t`
        <div class="tool-action"> Ajout aux favoris</div>
      `},onToolCall:({input:e,addToolResult:t})=>{const r=wn[e.objectID];r?(as(e.objectID,r),t({output:{success:!0}})):t({output:{success:!1,error:"Hit not found"}})}},suggestQueries:{template:{layout:(e,{html:t})=>{const r=e.toolCall.input.queries||[];return t`
          <div class="tool-suggestions">
            <div class="suggestions-label"> Suggestions de recherche:</div>
            <div class="suggestions-list">
              ${r.map(n=>t`
                <button class="suggestion-btn" onclick=${()=>{Xe.helper.setQuery(n).search();const i=document.querySelector(".ais-SearchBox-input");i&&(i.value=n)}}>
                  ${n}
                </button>
              `)}
            </div>
          </div>
        `}},onToolCall:({input:e,addToolResult:t})=>{t({output:{success:!0,suggested:e.queries}})}}};Xe.addWidgets([a0({hitsPerPage:12}),mO({container:"#searchbox",placeholder:"Rechercher dans le livre...",showReset:!0,showSubmit:!1}),xO({container:"#stats",templates:{text:({nbHits:e})=>`${e} extraits`}}),d0({container:"#clear",templates:{resetLabel:"Effacer filtres"}}),In({container:"#section-facet",attribute:"section",sortBy:["name:asc"]}),In({container:"#chapter-facet",attribute:"chapter",limit:10,showMore:!0,showMoreLimit:20}),In({container:"#concepts-facet",attribute:"concepts",limit:10,showMore:!0,showMoreLimit:50,searchable:!0,searchablePlaceholder:"Chercher un concept..."}),In({container:"#type-facet",attribute:"contentType"}),q0({container:"#hits",templates:{item:(e,{html:t,components:r})=>{wn[e.objectID]=e;const n=He.has(e.objectID);return e.shortTitle||e.title,t`
          <div class="hit-card" data-object-id="${e.objectID}" data-hit='${JSON.stringify({objectID:e.objectID})}'>
            <div class="hit-header">
              <div class="hit-meta">
                <span class="hit-section ${os(e.section)}">${e.section||"Intro"}</span>
                <span class="hit-page">p.${e.page||"?"}</span>
              </div>
              <button class="star-btn ${n?"active":""}" data-object-id="${e.objectID}" data-action="favorite">
                ${n?"":""}
              </button>
            </div>
            <div class="hit-main" data-action="open">
              ${e.shortTitle?t`<div class="hit-title">${e.shortTitle}</div>`:""}
              ${e.shortTitle?"":t`<div class="hit-subtitle">${e.chapterDisplay||e.chapter||"0. Prambule"}</div>`}
              <div class="hit-content">
                ${r.Highlight({hit:e,attribute:"content"})}
              </div>
              ${e.concepts?.length?t`
                <div class="hit-concepts">
                  ${e.concepts.slice(0,5).map(i=>t`<span class="hit-concept">${i}</span>`)}
                </div>
              `:""}
            </div>
          </div>
        `},empty:(e,{html:t})=>t`
        <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
          <p>Aucun rsultat trouv.</p>
        </div>
      `}}),X0({container:"#pagination",padding:2}),ST({container:"#chat",agentId:ui.agentId,tools:RT,placeholder:"Posez votre question...",open:!0,templates:{toggleButton:()=>"",messages:{loading:(e,{html:t})=>t`
          <div class="typing">
            <span></span><span></span><span></span>
          </div>
        `}}})]);const Zl={"prise de recul":/\b(pris(?:e|es)?|prendre|prend(?:s|re)?)\s+(?:du|de|le|la)?\s*recul/gi,"acceptation de soi":/\b(accept(?:ation|er|e|ons|ez|ent)|s'accept(?:er|e|ons|ez|ent))\s*(?:de\s+soi)?/gi,"connaissance de soi":/\b(connaiss(?:ance|ances)|(?:se\s+)?conna[i]tre|conna[i](?:s|t|ssons|ssez|ssent))\s*(?:soi(?:-mme)?)?/gi,"gestion du temps":/\b(g[e]r(?:er|e|ons|ez|ent)|gestion)\s+(?:du|de|le|son|mon|notre|leur)?\s*temps/gi,"prise de dcision":/\b(pris(?:e|es)?|prendre|prend(?:s|re)?)\s+(?:une|des|la|les)?\s*d[e]cision(?:s)?/gi,"passage  l'action":/\b(pass(?:age|er|e|ons|ez|ent))\s+[a]\s+l'action/gi,"savoir dire non":/\b(savoir|sait|savons|savez|savent)?\s*dir(?:e|ons|ez|ent)?\s+non/gi,"amlioration continue":/\b(am[e]lior(?:ation|er|e|ons|ez|ent))\s*(?:continu(?:e|elle)?)?/gi,"dveloppement personnel":/\b(d[e]velopp(?:ement|er|e|ons|ez|ent))\s*(?:personnel|perso)?/gi,"quilibre vie pro/perso":/\b([e]quilibr(?:e|er|ons|ez|ent))\s*(?:vie|entre)?\s*(?:pro(?:fessionnelle?)?|perso(?:nnelle?)?|travail)/gi,planification:/\b(planifi(?:cation|er|e|ons|ez|ent)|planifi[e](?:s|e)?)/gi,priorisation:/\b(prioris(?:ation|er|e|ons|ez|ent)|priorit[e](?:s)?)/gi,"auto-observation":/\b(auto[- ]?observ(?:ation|er|e|ons|ez|ent)|s'observ(?:er|e|ons|ez|ent))/gi,"remise en question":/\b(remis(?:e|es)?|remettre|remet(?:s|tons|tez|tent)?)\s+en\s+question/gi},ET=(e,t)=>{if(!e||!t?.length)return e;let r=e;const n=[...t].sort((i,a)=>a.length-i.length);for(const i of n){const a=i.toLowerCase();if(Zl[a])r=r.replace(Zl[a],s=>`<span class="concept-link" data-concept="${i}" onclick="window.filterByConcept('${i}')">${s}</span>`);else{const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(`\\b(${s})\\b`,"gi");r=r.replace(o,`<span class="concept-link" data-concept="$1" onclick="window.filterByConcept('$1')">$1</span>`)}}return r},$T=e=>{if(!e)return e;let t=e;return t=t.replace(/\.(\s+)([A-Z--])/g,(r,n,i)=>`.</p><p>${i}`),t.includes("</p>")&&(t=`<p>${t}</p>`),t};window.filterByConcept=e=>{Xe.helper.toggleFacetRefinement("concepts",e).search(),window.closeModal()};window.currentHits=wn;let et=null;window.openModal=e=>{const t=wn[e];if(!t)return;document.querySelectorAll(".hit-card").forEach(s=>s.classList.remove("selected")),document.querySelector(`[data-object-id="${e}"]`)?.classList.add("selected");const r=document.getElementById("modal"),n=!!t.shortTitle;document.getElementById("modal-title").textContent=t.shortTitle||"",document.getElementById("modal-title").style.display=n?"block":"none",document.getElementById("modal-section").textContent=t.section||"Intro",document.getElementById("modal-section").className=`hit-section ${os(t.section)}`;const i=document.getElementById("modal-chapter");i.textContent=t.chapterDisplay||t.chapter||"0. Prambule",i.style.display=n?"none":"block",document.getElementById("modal-page").textContent=`p.${t.page||"?"}`;let a=$T(t.content||"");a=ET(a,t.concepts),document.getElementById("modal-body").innerHTML=a,et={section:t.section,chapter:t.chapterDisplay||t.chapter,page:t.page,content:t.content,concepts:t.concepts},Dd(),r.classList.add("active"),setTimeout(()=>{const s=document.querySelector(".chat-panel");s&&(s.classList.add("visible"),s.scrollIntoView({behavior:"smooth",block:"nearest"}));const o=document.querySelector("#chat textarea")||document.querySelector("#chat input");o&&o.focus()},100)};const Dd=()=>{let e=document.getElementById("quote-indicator");if(!e){e=document.createElement("div"),e.id="quote-indicator",e.className="quote-indicator";const t=document.querySelector(".chat-panel");t?.insertBefore(e,t.firstChild)}et?(e.innerHTML=`
      <div class="quote-badge">
        <span class="quote-icon"></span>
        <span class="quote-ref">${et.chapter} p.${et.page}</span>
        <button class="quote-clear" onclick="clearQuote()"></button>
      </div>
    `,e.style.display="flex"):e.style.display="none"};window.clearQuote=()=>{et=null,Dd()};window.getCurrentQuote=()=>et;const CT={explain:"Explique-moi ce passage en dtail. Quel est le message cl et comment a s'applique concrtement?",next:"Aprs ce passage, que devrais-je explorer ensuite dans le livre pour approfondir ma comprhension personnelle?",apply:"Comment puis-je appliquer cette ide dans ma vie quotidienne? Donne-moi des actions concrtes."};window.askAboutQuote=e=>{const t=CT[e];if(!t)return;const r=ss(),n=r+t;console.log("askAboutQuote:",e),console.log("Context:",r?"yes":"no"),window.closeModal();const i=document.querySelector(".chat-panel");i&&i.scrollIntoView({behavior:"smooth",block:"nearest"});const a=document.querySelector("#chat textarea")||document.querySelector("#chat input");if(a){a.focus(),a.scrollIntoView({behavior:"smooth",block:"center"});const o=a.tagName.toLowerCase()==="textarea"?HTMLTextAreaElement.prototype:HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value")?.set;u?u.call(a,n):a.value=n,a.dispatchEvent(new Event("input",{bubbles:!0})),console.log("Value set, length:",a.value.length),setTimeout(()=>{const f=document.querySelector('#chat button[type="submit"]')||document.querySelector("#chat form button")||document.querySelector('#chat button[aria-label*="send" i]')||document.querySelector("#chat button");console.log("Submit btn:",f),f&&f.click()},200)}else console.error("No chat input found!")};const ss=()=>{const e=[];if(et){const r=et.content?.slice(0,120).trim()+"...";e.push(`[Extrait - ${et.chapter} p.${et.page}]: _"${r}"_`)}const t=Xe.helper?.state;if(t?.disjunctiveFacetsRefinements){const r=[];Object.entries(t.disjunctiveFacetsRefinements).forEach(([n,i])=>{i?.length&&r.push(`${n}: ${i.join(", ")}`)}),r.length&&e.push(`[Filtres: ${r.join("; ")}]`)}if(He.size>0){const r=[...He.values()].slice(0,3).map(n=>`${n.chapter} p.${n.page}`).join(", ");e.push(`[Favoris: ${r}${He.size>3?"...":""}]`)}return e.length?e.join(`
`)+`

`:""},TT=()=>{const e=document.querySelector("#chat");if(!e)return;new MutationObserver(()=>{const r=e.querySelector("form");r&&!r.dataset.contextInjected&&(r.dataset.contextInjected="true",r.addEventListener("submit",n=>{const i=r.querySelector("textarea")||r.querySelector("input");if(i&&i.value.trim()){if(i.value.startsWith("[Extrait")||i.value.startsWith("[Filtres")||i.value.startsWith("[Favoris"))return;const a=ss();if(a){const o=i.tagName.toLowerCase()==="textarea"?HTMLTextAreaElement.prototype:HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value")?.set,f=a+i.value;u?u.call(i,f):i.value=f,i.dispatchEvent(new Event("input",{bubbles:!0}))}}},!0))}).observe(e,{childList:!0,subtree:!0})};Xe.on("render",()=>{TT()});window.closeModal=()=>{document.getElementById("modal").classList.remove("active")};window.clearChat=()=>{const e=document.querySelector('#chat .ais-Chat-messages, #chat [class*="messages"]');e&&(e.innerHTML=""),window.clearQuote?.()};document.addEventListener("keydown",e=>{e.key==="Escape"&&window.closeModal()});const xT=()=>{const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;Ld(e||(t?"dark":"light"))},Ld=e=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const t=document.getElementById("theme-toggle");t&&(t.textContent=e==="light"?"":"")};window.toggleTheme=()=>{const e=document.documentElement.getAttribute("data-theme");Ld(e==="light"?"dark":"light")};window.openFavoritesModal=()=>{const e=document.getElementById("favorites-modal"),t=document.getElementById("favorites-list"),r=[...He.values()];r.length===0?t.innerHTML='<p style="color: var(--text-muted); text-align: center;">Aucun favori.</p>':t.innerHTML=r.map(n=>`
      <div class="fav-item" data-object-id="${n.objectID}">
        <div class="fav-content">
          <div class="fav-header">
            <span class="hit-section ${os(n.section)}">${n.section||"Intro"}</span>
            <strong>${n.chapterDisplay||n.chapter}</strong>
            <span class="hit-page">p.${n.page}</span>
          </div>
          <p class="fav-snippet">${n.content||""}...</p>
        </div>
        <button class="star-btn active" onclick="toggleFavorite('${n.objectID}')"></button>
      </div>
    `).join(""),e.classList.add("active")};window.closeFavoritesModal=()=>{document.getElementById("favorites-modal").classList.remove("active")};document.querySelector("#hits").addEventListener("click",e=>{const t=e.target;if(t.closest('[data-action="favorite"]')){e.stopPropagation();const n=t.closest('[data-action="favorite"]').dataset.objectId,i=wn[n];as(n,i);return}if(t.closest('[data-action="open"]')){const n=t.closest(".hit-card")?.dataset.objectId;n&&window.openModal(n)}});const IT=()=>{const e=document.createElement("div");return e.id="selection-menu",e.className="selection-menu",e.innerHTML=`
    <button class="selection-btn" data-action="explain">
      <span class="selection-quote">"</span>
      <span class="selection-label">Explain</span>
    </button>
  `,e.style.display="none",document.body.appendChild(e),e},Me=IT(),NT=e=>{const t=Me.getBoundingClientRect();let r=e.right+8,n=e.top-4;r+t.width>window.innerWidth-16&&(r=e.left-t.width-8),n<8&&(n=e.bottom+4),Me.style.left=`${r}px`,Me.style.top=`${n}px`};document.addEventListener("mouseup",e=>{const t=document.getElementById("modal-body");if(!t?.contains(e.target)&&e.target!==t){Me.style.display="none";return}const r=window.getSelection(),n=r?.toString().trim();if(n&&n.length>3&&n.length<500){const a=r.getRangeAt(0).getBoundingClientRect();Me.dataset.selectedText=n,Me.style.display="flex",NT(a)}else Me.style.display="none"});document.addEventListener("mousedown",e=>{Me.contains(e.target)||(Me.style.display="none")});Me.addEventListener("click",e=>{const t=e.target.closest("[data-action]");if(!t)return;const r=t.dataset.action,n=Me.dataset.selectedText;if(r==="explain"&&n){const i=`Explique "${n}" dans ce contexte.`;AT(i),Me.style.display="none",window.getSelection()?.removeAllRanges()}});const AT=e=>{const t=document.querySelector("#chat textarea")||document.querySelector("#chat input");if(t){const n=ss()+e,a=t.tagName.toLowerCase()==="textarea"?HTMLTextAreaElement.prototype:HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(a,"value")?.set;s?s.call(t,n):t.value=n,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus(),setTimeout(()=>{(document.querySelector('#chat button[type="submit"]')||document.querySelector("#chat form button")||document.querySelector("#chat button"))?.click()},150)}};Xe.start();xT();Xe.on("render",()=>{setTimeout(Fd,10)});
